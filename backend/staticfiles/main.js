var LW=Object.create;var{getPrototypeOf:HW,defineProperty:f8,getOwnPropertyNames:JW}=Object;var _W=Object.prototype.hasOwnProperty;var s0=(u,l,z)=>{z=u!=null?LW(HW(u)):{};let Q=l||!u||!u.__esModule?f8(z,"default",{value:u,enumerable:!0}):z;for(let U of JW(u))if(!_W.call(Q,U))f8(Q,U,{get:()=>u[U],enumerable:!0});return Q};var N3=(u,l)=>()=>(l||u((l={exports:{}}).exports,l),l.exports);var KW=(u,l)=>{for(var z in l)f8(u,z,{get:l[z],enumerable:!0,configurable:!0,set:(Q)=>l[z]=()=>Q})};var GW=(u,l)=>()=>(u&&(l=u(u=0)),l);var X2=N3((DW)=>{var U2=Symbol.for("react.element"),qW=Symbol.for("react.portal"),PW=Symbol.for("react.fragment"),EW=Symbol.for("react.strict_mode"),CW=Symbol.for("react.profiler"),BW=Symbol.for("react.provider"),IW=Symbol.for("react.context"),FW=Symbol.for("react.forward_ref"),jW=Symbol.for("react.suspense"),yW=Symbol.for("react.memo"),RW=Symbol.for("react.lazy"),k9=Symbol.iterator;function NW(u){if(u===null||typeof u!=="object")return null;return u=k9&&u[k9]||u["@@iterator"],typeof u==="function"?u:null}var x9={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g9=Object.assign,w9={};function Wl(u,l,z){this.props=u,this.context=l,this.refs=w9,this.updater=z||x9}Wl.prototype.isReactComponent={};Wl.prototype.setState=function(u,l){if(typeof u!=="object"&&typeof u!=="function"&&u!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,u,l,"setState")};Wl.prototype.forceUpdate=function(u){this.updater.enqueueForceUpdate(this,u,"forceUpdate")};function v9(){}v9.prototype=Wl.prototype;function x8(u,l,z){this.props=u,this.context=l,this.refs=w9,this.updater=z||x9}var g8=x8.prototype=new v9;g8.constructor=x8;g9(g8,Wl.prototype);g8.isPureReactComponent=!0;var f9=Array.isArray,h9=Object.prototype.hasOwnProperty,w8={current:null},b9={key:!0,ref:!0,__self:!0,__source:!0};function c9(u,l,z){var Q,U={},X=null,V=null;if(l!=null)for(Q in l.ref!==void 0&&(V=l.ref),l.key!==void 0&&(X=""+l.key),l)h9.call(l,Q)&&!b9.hasOwnProperty(Q)&&(U[Q]=l[Q]);var Z=arguments.length-2;if(Z===1)U.children=z;else if(1<Z){for(var Y=Array(Z),W=0;W<Z;W++)Y[W]=arguments[W+2];U.children=Y}if(u&&u.defaultProps)for(Q in Z=u.defaultProps,Z)U[Q]===void 0&&(U[Q]=Z[Q]);return{$$typeof:U2,type:u,key:X,ref:V,props:U,_owner:w8.current}}function AW(u,l){return{$$typeof:U2,type:u.type,key:l,ref:u.ref,props:u.props,_owner:u._owner}}function v8(u){return typeof u==="object"&&u!==null&&u.$$typeof===U2}function OW(u){var l={"=":"=0",":":"=2"};return"$"+u.replace(/[=:]/g,function(z){return l[z]})}var $9=/\/+/g;function $8(u,l){return typeof u==="object"&&u!==null&&u.key!=null?OW(""+u.key):l.toString(36)}function O3(u,l,z,Q,U){var X=typeof u;if(X==="undefined"||X==="boolean")u=null;var V=!1;if(u===null)V=!0;else switch(X){case"string":case"number":V=!0;break;case"object":switch(u.$$typeof){case U2:case qW:V=!0}}if(V)return V=u,U=U(V),u=Q===""?"."+$8(V,0):Q,f9(U)?(z="",u!=null&&(z=u.replace($9,"$&/")+"/"),O3(U,l,z,"",function(W){return W})):U!=null&&(v8(U)&&(U=AW(U,z+(!U.key||V&&V.key===U.key?"":(""+U.key).replace($9,"$&/")+"/")+u)),l.push(U)),1;if(V=0,Q=Q===""?".":Q+":",f9(u))for(var Z=0;Z<u.length;Z++){X=u[Z];var Y=Q+$8(X,Z);V+=O3(X,l,z,Y,U)}else if(Y=NW(u),typeof Y==="function")for(u=Y.call(u),Z=0;!(X=u.next()).done;)X=X.value,Y=Q+$8(X,Z++),V+=O3(X,l,z,Y,U);else if(X==="object")throw l=String(u),Error("Objects are not valid as a React child (found: "+(l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l)+"). If you meant to render a collection of children, use an array instead.");return V}function A3(u,l,z){if(u==null)return u;var Q=[],U=0;return O3(u,Q,"","",function(X){return l.call(z,X,U++)}),Q}function MW(u){if(u._status===-1){var l=u._result;l=l(),l.then(function(z){if(u._status===0||u._status===-1)u._status=1,u._result=z},function(z){if(u._status===0||u._status===-1)u._status=2,u._result=z}),u._status===-1&&(u._status=0,u._result=l)}if(u._status===1)return u._result.default;throw u._result}var Mu={current:null},M3={transition:null},TW={ReactCurrentDispatcher:Mu,ReactCurrentBatchConfig:M3,ReactCurrentOwner:w8};function m9(){throw Error("act(...) is not supported in production builds of React.")}DW.Children={map:A3,forEach:function(u,l,z){A3(u,function(){l.apply(this,arguments)},z)},count:function(u){var l=0;return A3(u,function(){l++}),l},toArray:function(u){return A3(u,function(l){return l})||[]},only:function(u){if(!v8(u))throw Error("React.Children.only expected to receive a single React element child.");return u}};DW.Component=Wl;DW.Fragment=PW;DW.Profiler=CW;DW.PureComponent=x8;DW.StrictMode=EW;DW.Suspense=jW;DW.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TW;DW.act=m9;DW.cloneElement=function(u,l,z){if(u===null||u===void 0)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+u+".");var Q=g9({},u.props),U=u.key,X=u.ref,V=u._owner;if(l!=null){if(l.ref!==void 0&&(X=l.ref,V=w8.current),l.key!==void 0&&(U=""+l.key),u.type&&u.type.defaultProps)var Z=u.type.defaultProps;for(Y in l)h9.call(l,Y)&&!b9.hasOwnProperty(Y)&&(Q[Y]=l[Y]===void 0&&Z!==void 0?Z[Y]:l[Y])}var Y=arguments.length-2;if(Y===1)Q.children=z;else if(1<Y){Z=Array(Y);for(var W=0;W<Y;W++)Z[W]=arguments[W+2];Q.children=Z}return{$$typeof:U2,type:u.type,key:U,ref:X,props:Q,_owner:V}};DW.createContext=function(u){return u={$$typeof:IW,_currentValue:u,_currentValue2:u,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},u.Provider={$$typeof:BW,_context:u},u.Consumer=u};DW.createElement=c9;DW.createFactory=function(u){var l=c9.bind(null,u);return l.type=u,l};DW.createRef=function(){return{current:null}};DW.forwardRef=function(u){return{$$typeof:FW,render:u}};DW.isValidElement=v8;DW.lazy=function(u){return{$$typeof:RW,_payload:{_status:-1,_result:u},_init:MW}};DW.memo=function(u,l){return{$$typeof:yW,type:u,compare:l===void 0?null:l}};DW.startTransition=function(u){var l=M3.transition;M3.transition={};try{u()}finally{M3.transition=l}};DW.unstable_act=m9;DW.useCallback=function(u,l){return Mu.current.useCallback(u,l)};DW.useContext=function(u){return Mu.current.useContext(u)};DW.useDebugValue=function(){};DW.useDeferredValue=function(u){return Mu.current.useDeferredValue(u)};DW.useEffect=function(u,l){return Mu.current.useEffect(u,l)};DW.useId=function(){return Mu.current.useId()};DW.useImperativeHandle=function(u,l,z){return Mu.current.useImperativeHandle(u,l,z)};DW.useInsertionEffect=function(u,l){return Mu.current.useInsertionEffect(u,l)};DW.useLayoutEffect=function(u,l){return Mu.current.useLayoutEffect(u,l)};DW.useMemo=function(u,l){return Mu.current.useMemo(u,l)};DW.useReducer=function(u,l,z){return Mu.current.useReducer(u,l,z)};DW.useRef=function(u){return Mu.current.useRef(u)};DW.useState=function(u){return Mu.current.useState(u)};DW.useSyncExternalStore=function(u,l,z){return Mu.current.useSyncExternalStore(u,l,z)};DW.useTransition=function(){return Mu.current.useTransition()};DW.version="18.3.1"});var s9=N3((GL)=>{function b8(u,l){var z=u.length;u.push(l);u:for(;0<z;){var Q=z-1>>>1,U=u[Q];if(0<T3(U,l))u[Q]=l,u[z]=U,z=Q;else break u}}function Y0(u){return u.length===0?null:u[0]}function f3(u){if(u.length===0)return null;var l=u[0],z=u.pop();if(z!==l){u[0]=z;u:for(var Q=0,U=u.length,X=U>>>1;Q<X;){var V=2*(Q+1)-1,Z=u[V],Y=V+1,W=u[Y];if(0>T3(Z,z))Y<U&&0>T3(W,Z)?(u[Q]=W,u[Y]=z,Q=Y):(u[Q]=Z,u[V]=z,Q=V);else if(Y<U&&0>T3(W,z))u[Q]=W,u[Y]=z,Q=Y;else break u}}return l}function T3(u,l){var z=u.sortIndex-l.sortIndex;return z!==0?z:u.id-l.id}if(typeof performance==="object"&&typeof performance.now==="function")c8=performance,GL.unstable_now=function(){return c8.now()};else D3=Date,m8=D3.now(),GL.unstable_now=function(){return D3.now()-m8};var c8,D3,m8,B0=[],o0=[],KL=1,au=null,Bu=3,$3=!1,S1=!1,Z2=!1,i9=typeof setTimeout==="function"?setTimeout:null,r9=typeof clearTimeout==="function"?clearTimeout:null,n9=typeof setImmediate!=="undefined"?setImmediate:null;typeof navigator!=="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function n8(u){for(var l=Y0(o0);l!==null;){if(l.callback===null)f3(o0);else if(l.startTime<=u)f3(o0),l.sortIndex=l.expirationTime,b8(B0,l);else break;l=Y0(o0)}}function r8(u){if(Z2=!1,n8(u),!S1)if(Y0(B0)!==null)S1=!0,d8(p8);else{var l=Y0(o0);l!==null&&a8(r8,l.startTime-u)}}function p8(u,l){S1=!1,Z2&&(Z2=!1,r9(Y2),Y2=-1),$3=!0;var z=Bu;try{n8(l);for(au=Y0(B0);au!==null&&(!(au.expirationTime>l)||u&&!a9());){var Q=au.callback;if(typeof Q==="function"){au.callback=null,Bu=au.priorityLevel;var U=Q(au.expirationTime<=l);l=GL.unstable_now(),typeof U==="function"?au.callback=U:au===Y0(B0)&&f3(B0),n8(l)}else f3(B0);au=Y0(B0)}if(au!==null)var X=!0;else{var V=Y0(o0);V!==null&&a8(r8,V.startTime-l),X=!1}return X}finally{au=null,Bu=z,$3=!1}}var x3=!1,S3=null,Y2=-1,p9=5,d9=-1;function a9(){return GL.unstable_now()-d9<p9?!1:!0}function h8(){if(S3!==null){var u=GL.unstable_now();d9=u;var l=!0;try{l=S3(!0,u)}finally{l?V2():(x3=!1,S3=null)}}else x3=!1}var V2;if(typeof n9==="function")V2=function(){n9(h8)};else if(typeof MessageChannel!=="undefined")k3=new MessageChannel,i8=k3.port2,k3.port1.onmessage=h8,V2=function(){i8.postMessage(null)};else V2=function(){i9(h8,0)};var k3,i8;function d8(u){S3=u,x3||(x3=!0,V2())}function a8(u,l){Y2=i9(function(){u(GL.unstable_now())},l)}GL.unstable_IdlePriority=5;GL.unstable_ImmediatePriority=1;GL.unstable_LowPriority=4;GL.unstable_NormalPriority=3;GL.unstable_Profiling=null;GL.unstable_UserBlockingPriority=2;GL.unstable_cancelCallback=function(u){u.callback=null};GL.unstable_continueExecution=function(){S1||$3||(S1=!0,d8(p8))};GL.unstable_forceFrameRate=function(u){0>u||125<u?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):p9=0<u?Math.floor(1000/u):5};GL.unstable_getCurrentPriorityLevel=function(){return Bu};GL.unstable_getFirstCallbackNode=function(){return Y0(B0)};GL.unstable_next=function(u){switch(Bu){case 1:case 2:case 3:var l=3;break;default:l=Bu}var z=Bu;Bu=l;try{return u()}finally{Bu=z}};GL.unstable_pauseExecution=function(){};GL.unstable_requestPaint=function(){};GL.unstable_runWithPriority=function(u,l){switch(u){case 1:case 2:case 3:case 4:case 5:break;default:u=3}var z=Bu;Bu=u;try{return l()}finally{Bu=z}};GL.unstable_scheduleCallback=function(u,l,z){var Q=GL.unstable_now();switch(typeof z==="object"&&z!==null?(z=z.delay,z=typeof z==="number"&&0<z?Q+z:Q):z=Q,u){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5000}return U=z+U,u={id:KL++,callback:l,priorityLevel:u,startTime:z,expirationTime:U,sortIndex:-1},z>Q?(u.sortIndex=z,b8(o0,u),Y0(B0)===null&&u===Y0(o0)&&(Z2?(r9(Y2),Y2=-1):Z2=!0,a8(r8,z-Q))):(u.sortIndex=U,b8(B0,u),S1||$3||(S1=!0,d8(p8))),u};GL.unstable_shouldYield=a9;GL.unstable_wrapCallback=function(u){var l=Bu;return function(){var z=Bu;Bu=l;try{return u.apply(this,arguments)}finally{Bu=z}}}});var lz={};KW(lz,{version:()=>LX,unstable_renderSubtreeIntoContainer:()=>WX,unstable_batchedUpdates:()=>YX,unmountComponentAtNode:()=>ZX,render:()=>VX,hydrateRoot:()=>XX,hydrate:()=>UX,flushSync:()=>QX,findDOMNode:()=>zX,createRoot:()=>lX,createPortal:()=>uX,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:()=>eU});function j(u){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+u,z=1;z<arguments.length;z++)l+="&args[]="+encodeURIComponent(arguments[z]);return"Minified React error #"+u+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r1(u,l){Dl(u,l),Dl(u+"Capture",l)}function Dl(u,l){k2[u]=l;for(u=0;u<l.length;u++)zQ.add(l[u])}function $L(u){if(P5.call(t9,u))return!0;if(P5.call(o9,u))return!1;if(fL.test(u))return t9[u]=!0;return o9[u]=!0,!1}function xL(u,l,z,Q){if(z!==null&&z.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":if(Q)return!1;if(z!==null)return!z.acceptsBooleans;return u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-";default:return!1}}function gL(u,l,z,Q){if(l===null||typeof l==="undefined"||xL(u,l,z,Q))return!0;if(Q)return!1;if(z!==null)switch(z.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function Su(u,l,z,Q,U,X,V){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=Q,this.attributeNamespace=U,this.mustUseProperty=z,this.propertyName=u,this.type=l,this.sanitizeURL=X,this.removeEmptyString=V}function J6(u){return u[1].toUpperCase()}function _6(u,l,z,Q){var U=Ku.hasOwnProperty(l)?Ku[l]:null;if(U!==null?U.type!==0:Q||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")gL(l,z,U,Q)&&(z=null),Q||U===null?$L(l)&&(z===null?u.removeAttribute(l):u.setAttribute(l,""+z)):U.mustUseProperty?u[U.propertyName]=z===null?U.type===3?!1:"":z:(l=U.attributeName,Q=U.attributeNamespace,z===null?u.removeAttribute(l):(U=U.type,z=U===3||U===4&&z===!0?"":""+z,Q?u.setAttributeNS(Q,l,z):u.setAttribute(l,z)))}function W2(u){if(u===null||typeof u!=="object")return null;return u=e9&&u[e9]||u["@@iterator"],typeof u==="function"?u:null}function q2(u){if(s8===void 0)try{throw Error()}catch(z){var l=z.stack.trim().match(/\n( *(at )?)/);s8=l&&l[1]||""}return`
`+s8+u}function t8(u,l){if(!u||o8)return"";o8=!0;var z=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect==="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(W){var Q=W}Reflect.construct(u,[],l)}else{try{l.call()}catch(W){Q=W}u.call(l.prototype)}else{try{throw Error()}catch(W){Q=W}u()}}catch(W){if(W&&Q&&typeof W.stack==="string"){for(var U=W.stack.split(`
`),X=Q.stack.split(`
`),V=U.length-1,Z=X.length-1;1<=V&&0<=Z&&U[V]!==X[Z];)Z--;for(;1<=V&&0<=Z;V--,Z--)if(U[V]!==X[Z]){if(V!==1||Z!==1)do if(V--,Z--,0>Z||U[V]!==X[Z]){var Y=`
`+U[V].replace(" at new "," at ");return u.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",u.displayName)),Y}while(1<=V&&0<=Z);break}}}finally{o8=!1,Error.prepareStackTrace=z}return(u=u?u.displayName||u.name:"")?q2(u):""}function wL(u){switch(u.tag){case 5:return q2(u.type);case 16:return q2("Lazy");case 13:return q2("Suspense");case 19:return q2("SuspenseList");case 0:case 2:case 15:return u=t8(u.type,!1),u;case 11:return u=t8(u.type.render,!1),u;case 1:return u=t8(u.type,!0),u;default:return""}}function I5(u){if(u==null)return null;if(typeof u==="function")return u.displayName||u.name||null;if(typeof u==="string")return u;switch(u){case Kl:return"Fragment";case _l:return"Portal";case E5:return"Profiler";case K6:return"StrictMode";case C5:return"Suspense";case B5:return"SuspenseList"}if(typeof u==="object")switch(u.$$typeof){case UQ:return(u.displayName||"Context")+".Consumer";case QQ:return(u._context.displayName||"Context")+".Provider";case G6:var l=u.render;return u=u.displayName,u||(u=l.displayName||l.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case q6:return l=u.displayName||null,l!==null?l:I5(u.type)||"Memo";case e0:l=u._payload,u=u._init;try{return I5(u(l))}catch(z){}}return null}function vL(u){var l=u.type;switch(u.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=l.render,u=u.displayName||u.name||"",l.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return I5(l);case 8:return l===K6?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l==="function")return l.displayName||l.name||null;if(typeof l==="string")return l}return null}function _1(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function VQ(u){var l=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function hL(u){var l=VQ(u)?"checked":"value",z=Object.getOwnPropertyDescriptor(u.constructor.prototype,l),Q=""+u[l];if(!u.hasOwnProperty(l)&&typeof z!=="undefined"&&typeof z.get==="function"&&typeof z.set==="function"){var{get:U,set:X}=z;return Object.defineProperty(u,l,{configurable:!0,get:function(){return U.call(this)},set:function(V){Q=""+V,X.call(this,V)}}),Object.defineProperty(u,l,{enumerable:z.enumerable}),{getValue:function(){return Q},setValue:function(V){Q=""+V},stopTracking:function(){u._valueTracker=null,delete u[l]}}}}function w3(u){u._valueTracker||(u._valueTracker=hL(u))}function ZQ(u){if(!u)return!1;var l=u._valueTracker;if(!l)return!0;var z=l.getValue(),Q="";return u&&(Q=VQ(u)?u.checked?"true":"false":u.value),u=Q,u!==z?(l.setValue(u),!0):!1}function W4(u){if(u=u||(typeof document!=="undefined"?document:void 0),typeof u==="undefined")return null;try{return u.activeElement||u.body}catch(l){return u.body}}function F5(u,l){var z=l.checked;return a({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:z!=null?z:u._wrapperState.initialChecked})}function u7(u,l){var z=l.defaultValue==null?"":l.defaultValue,Q=l.checked!=null?l.checked:l.defaultChecked;z=_1(l.value!=null?l.value:z),u._wrapperState={initialChecked:Q,initialValue:z,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function YQ(u,l){l=l.checked,l!=null&&_6(u,"checked",l,!1)}function j5(u,l){YQ(u,l);var z=_1(l.value),Q=l.type;if(z!=null)if(Q==="number"){if(z===0&&u.value===""||u.value!=z)u.value=""+z}else u.value!==""+z&&(u.value=""+z);else if(Q==="submit"||Q==="reset"){u.removeAttribute("value");return}l.hasOwnProperty("value")?y5(u,l.type,z):l.hasOwnProperty("defaultValue")&&y5(u,l.type,_1(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(u.defaultChecked=!!l.defaultChecked)}function l7(u,l,z){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var Q=l.type;if(!(Q!=="submit"&&Q!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+u._wrapperState.initialValue,z||l===u.value||(u.value=l),u.defaultValue=l}z=u.name,z!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,z!==""&&(u.name=z)}function y5(u,l,z){if(l!=="number"||W4(u.ownerDocument)!==u)z==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+z&&(u.defaultValue=""+z)}function Rl(u,l,z,Q){if(u=u.options,l){l={};for(var U=0;U<z.length;U++)l["$"+z[U]]=!0;for(z=0;z<u.length;z++)U=l.hasOwnProperty("$"+u[z].value),u[z].selected!==U&&(u[z].selected=U),U&&Q&&(u[z].defaultSelected=!0)}else{z=""+_1(z),l=null;for(U=0;U<u.length;U++){if(u[U].value===z){u[U].selected=!0,Q&&(u[U].defaultSelected=!0);return}l!==null||u[U].disabled||(l=u[U])}l!==null&&(l.selected=!0)}}function R5(u,l){if(l.dangerouslySetInnerHTML!=null)throw Error(j(91));return a({},l,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function z7(u,l){var z=l.value;if(z==null){if(z=l.children,l=l.defaultValue,z!=null){if(l!=null)throw Error(j(92));if(P2(z)){if(1<z.length)throw Error(j(93));z=z[0]}l=z}l==null&&(l=""),z=l}u._wrapperState={initialValue:_1(z)}}function WQ(u,l){var z=_1(l.value),Q=_1(l.defaultValue);z!=null&&(z=""+z,z!==u.value&&(u.value=z),l.defaultValue==null&&u.defaultValue!==z&&(u.defaultValue=z)),Q!=null&&(u.defaultValue=""+Q)}function Q7(u){var l=u.textContent;l===u._wrapperState.initialValue&&l!==""&&l!==null&&(u.value=l)}function LQ(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function N5(u,l){return u==null||u==="http://www.w3.org/1999/xhtml"?LQ(l):u==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":u}function f2(u,l){if(l){var z=u.firstChild;if(z&&z===u.lastChild&&z.nodeType===3){z.nodeValue=l;return}}u.textContent=l}function JQ(u,l,z){return l==null||typeof l==="boolean"||l===""?"":z||typeof l!=="number"||l===0||y2.hasOwnProperty(u)&&y2[u]?(""+l).trim():l+"px"}function _Q(u,l){u=u.style;for(var z in l)if(l.hasOwnProperty(z)){var Q=z.indexOf("--")===0,U=JQ(z,l[z],Q);z==="float"&&(z="cssFloat"),Q?u.setProperty(z,U):u[z]=U}}function A5(u,l){if(l){if(cL[u]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(j(137,u));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(j(60));if(typeof l.dangerouslySetInnerHTML!=="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(j(61))}if(l.style!=null&&typeof l.style!=="object")throw Error(j(62))}}function O5(u,l){if(u.indexOf("-")===-1)return typeof l.is==="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function P6(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}function U7(u){if(u=t2(u)){if(typeof T5!=="function")throw Error(j(280));var l=u.stateNode;l&&(l=g4(l),T5(u.stateNode,u.type,l))}}function KQ(u){Nl?Al?Al.push(u):Al=[u]:Nl=u}function GQ(){if(Nl){var u=Nl,l=Al;if(Al=Nl=null,U7(u),l)for(u=0;u<l.length;u++)U7(l[u])}}function qQ(u,l){return u(l)}function PQ(){}function EQ(u,l,z){if(e8)return u(l,z);e8=!0;try{return qQ(u,l,z)}finally{if(e8=!1,Nl!==null||Al!==null)PQ(),GQ()}}function $2(u,l){var z=u.stateNode;if(z===null)return null;var Q=g4(z);if(Q===null)return null;z=Q[l];u:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(Q=!Q.disabled)||(u=u.type,Q=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!Q;break u;default:u=!1}if(u)return null;if(z&&typeof z!=="function")throw Error(j(231,l,typeof z));return z}function mL(u,l,z,Q,U,X,V,Z,Y){var W=Array.prototype.slice.call(arguments,3);try{l.apply(z,W)}catch(L){this.onError(L)}}function iL(u,l,z,Q,U,X,V,Z,Y){R2=!1,L4=null,mL.apply(nL,arguments)}function rL(u,l,z,Q,U,X,V,Z,Y){if(iL.apply(this,arguments),R2){if(R2){var W=L4;R2=!1,L4=null}else throw Error(j(198));H4||(H4=!0,S5=W)}}function p1(u){var l=u,z=u;if(u.alternate)for(;l.return;)l=l.return;else{u=l;do l=u,(l.flags&4098)!==0&&(z=l.return),u=l.return;while(u)}return l.tag===3?z:null}function CQ(u){if(u.tag===13){var l=u.memoizedState;if(l===null&&(u=u.alternate,u!==null&&(l=u.memoizedState)),l!==null)return l.dehydrated}return null}function X7(u){if(p1(u)!==u)throw Error(j(188))}function pL(u){var l=u.alternate;if(!l){if(l=p1(u),l===null)throw Error(j(188));return l!==u?null:u}for(var z=u,Q=l;;){var U=z.return;if(U===null)break;var X=U.alternate;if(X===null){if(Q=U.return,Q!==null){z=Q;continue}break}if(U.child===X.child){for(X=U.child;X;){if(X===z)return X7(U),u;if(X===Q)return X7(U),l;X=X.sibling}throw Error(j(188))}if(z.return!==Q.return)z=U,Q=X;else{for(var V=!1,Z=U.child;Z;){if(Z===z){V=!0,z=U,Q=X;break}if(Z===Q){V=!0,Q=U,z=X;break}Z=Z.sibling}if(!V){for(Z=X.child;Z;){if(Z===z){V=!0,z=X,Q=U;break}if(Z===Q){V=!0,Q=X,z=U;break}Z=Z.sibling}if(!V)throw Error(j(189))}}if(z.alternate!==Q)throw Error(j(190))}if(z.tag!==3)throw Error(j(188));return z.stateNode.current===z?u:l}function BQ(u){return u=pL(u),u!==null?IQ(u):null}function IQ(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var l=IQ(u);if(l!==null)return l;u=u.sibling}return null}function tL(u){if(y0&&typeof y0.onCommitFiberRoot==="function")try{y0.onCommitFiberRoot(k4,u,void 0,(u.current.flags&128)===128)}catch(l){}}function lH(u){return u>>>=0,u===0?32:31-(eL(u)/uH|0)|0}function E2(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function _4(u,l){var z=u.pendingLanes;if(z===0)return 0;var Q=0,U=u.suspendedLanes,X=u.pingedLanes,V=z&268435455;if(V!==0){var Z=V&~U;Z!==0?Q=E2(Z):(X&=V,X!==0&&(Q=E2(X)))}else V=z&~U,V!==0?Q=E2(V):X!==0&&(Q=E2(X));if(Q===0)return 0;if(l!==0&&l!==Q&&(l&U)===0&&(U=Q&-Q,X=l&-l,U>=X||U===16&&(X&4194240)!==0))return l;if((Q&4)!==0&&(Q|=z&16),l=u.entangledLanes,l!==0)for(u=u.entanglements,l&=Q;0<l;)z=31-_0(l),U=1<<z,Q|=u[z],l&=~U;return Q}function zH(u,l){switch(u){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5000;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function QH(u,l){for(var{suspendedLanes:z,pingedLanes:Q,expirationTimes:U,pendingLanes:X}=u;0<X;){var V=31-_0(X),Z=1<<V,Y=U[V];if(Y===-1){if((Z&z)===0||(Z&Q)!==0)U[V]=zH(Z,l)}else Y<=l&&(u.expiredLanes|=Z);X&=~Z}}function k5(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function RQ(){var u=h3;return h3<<=1,(h3&4194240)===0&&(h3=64),u}function u5(u){for(var l=[],z=0;31>z;z++)l.push(u);return l}function s2(u,l,z){u.pendingLanes|=l,l!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,l=31-_0(l),u[l]=z}function UH(u,l){var z=u.pendingLanes&~l;u.pendingLanes=l,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=l,u.mutableReadLanes&=l,u.entangledLanes&=l,l=u.entanglements;var Q=u.eventTimes;for(u=u.expirationTimes;0<z;){var U=31-_0(z),X=1<<U;l[U]=0,Q[U]=-1,u[U]=-1,z&=~X}}function C6(u,l){var z=u.entangledLanes|=l;for(u=u.entanglements;z;){var Q=31-_0(z),U=1<<Q;U&l|u[Q]&l&&(u[Q]|=l),z&=~U}}function NQ(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}function Z7(u,l){switch(u){case"focusin":case"focusout":X1=null;break;case"dragenter":case"dragleave":V1=null;break;case"mouseover":case"mouseout":Z1=null;break;case"pointerover":case"pointerout":x2.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":g2.delete(l.pointerId)}}function L2(u,l,z,Q,U,X){if(u===null||u.nativeEvent!==X)return u={blockedOn:l,domEventName:z,eventSystemFlags:Q,nativeEvent:X,targetContainers:[U]},l!==null&&(l=t2(l),l!==null&&B6(l)),u;return u.eventSystemFlags|=Q,l=u.targetContainers,U!==null&&l.indexOf(U)===-1&&l.push(U),u}function VH(u,l,z,Q,U){switch(l){case"focusin":return X1=L2(X1,u,l,z,Q,U),!0;case"dragenter":return V1=L2(V1,u,l,z,Q,U),!0;case"mouseover":return Z1=L2(Z1,u,l,z,Q,U),!0;case"pointerover":var X=U.pointerId;return x2.set(X,L2(x2.get(X)||null,u,l,z,Q,U)),!0;case"gotpointercapture":return X=U.pointerId,g2.set(X,L2(g2.get(X)||null,u,l,z,Q,U)),!0}return!1}function DQ(u){var l=x1(u.target);if(l!==null){var z=p1(l);if(z!==null){if(l=z.tag,l===13){if(l=CQ(z),l!==null){u.blockedOn=l,TQ(u.priority,function(){OQ(z)});return}}else if(l===3&&z.stateNode.current.memoizedState.isDehydrated){u.blockedOn=z.tag===3?z.stateNode.containerInfo:null;return}}}u.blockedOn=null}function t3(u){if(u.blockedOn!==null)return!1;for(var l=u.targetContainers;0<l.length;){var z=$5(u.domEventName,u.eventSystemFlags,l[0],u.nativeEvent);if(z===null){z=u.nativeEvent;var Q=new z.constructor(z.type,z);M5=Q,z.target.dispatchEvent(Q),M5=null}else return l=t2(z),l!==null&&B6(l),u.blockedOn=z,!1;l.shift()}return!0}function Y7(u,l,z){t3(u)&&z.delete(l)}function ZH(){f5=!1,X1!==null&&t3(X1)&&(X1=null),V1!==null&&t3(V1)&&(V1=null),Z1!==null&&t3(Z1)&&(Z1=null),x2.forEach(Y7),g2.forEach(Y7)}function H2(u,l){u.blockedOn===l&&(u.blockedOn=null,f5||(f5=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ZH)))}function w2(u){function l(U){return H2(U,u)}if(0<c3.length){H2(c3[0],u);for(var z=1;z<c3.length;z++){var Q=c3[z];Q.blockedOn===u&&(Q.blockedOn=null)}}X1!==null&&H2(X1,u),V1!==null&&H2(V1,u),Z1!==null&&H2(Z1,u),x2.forEach(l),g2.forEach(l);for(z=0;z<l1.length;z++)Q=l1[z],Q.blockedOn===u&&(Q.blockedOn=null);for(;0<l1.length&&(z=l1[0],z.blockedOn===null);)DQ(z),z.blockedOn===null&&l1.shift()}function YH(u,l,z,Q){var U=v,X=Ol.transition;Ol.transition=null;try{v=1,I6(u,l,z,Q)}finally{v=U,Ol.transition=X}}function WH(u,l,z,Q){var U=v,X=Ol.transition;Ol.transition=null;try{v=4,I6(u,l,z,Q)}finally{v=U,Ol.transition=X}}function I6(u,l,z,Q){if(K4){var U=$5(u,l,z,Q);if(U===null)V5(u,l,Q,G4,z),Z7(u,Q);else if(VH(U,u,l,z,Q))Q.stopPropagation();else if(Z7(u,Q),l&4&&-1<XH.indexOf(u)){for(;U!==null;){var X=t2(U);if(X!==null&&AQ(X),X=$5(u,l,z,Q),X===null&&V5(u,l,Q,G4,z),X===U)break;U=X}U!==null&&Q.stopPropagation()}else V5(u,l,Q,null,z)}}function $5(u,l,z,Q){if(G4=null,u=P6(Q),u=x1(u),u!==null)if(l=p1(u),l===null)u=null;else if(z=l.tag,z===13){if(u=CQ(l),u!==null)return u;u=null}else if(z===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;u=null}else l!==u&&(u=null);return G4=u,null}function SQ(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sL()){case E6:return 1;case jQ:return 4;case J4:case oL:return 16;case yQ:return 536870912;default:return 16}default:return 16}}function kQ(){if(e3)return e3;var u,l=F6,z=l.length,Q,U="value"in Q1?Q1.value:Q1.textContent,X=U.length;for(u=0;u<z&&l[u]===U[u];u++);var V=z-u;for(Q=1;Q<=V&&l[z-Q]===U[X-Q];Q++);return e3=U.slice(u,1<Q?1-Q:void 0)}function u4(u){var l=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&l===13&&(u=13)):u=l,u===10&&(u=13),32<=u||u===13?u:0}function m3(){return!0}function W7(){return!1}function ru(u){function l(z,Q,U,X,V){this._reactName=z,this._targetInst=U,this.type=Q,this.nativeEvent=X,this.target=V,this.currentTarget=null;for(var Z in u)u.hasOwnProperty(Z)&&(z=u[Z],this[Z]=z?z(X):X[Z]);return this.isDefaultPrevented=(X.defaultPrevented!=null?X.defaultPrevented:X.returnValue===!1)?m3:W7,this.isPropagationStopped=W7,this}return a(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var z=this.nativeEvent;z&&(z.preventDefault?z.preventDefault():typeof z.returnValue!=="unknown"&&(z.returnValue=!1),this.isDefaultPrevented=m3)},stopPropagation:function(){var z=this.nativeEvent;z&&(z.stopPropagation?z.stopPropagation():typeof z.cancelBubble!=="unknown"&&(z.cancelBubble=!0),this.isPropagationStopped=m3)},persist:function(){},isPersistent:m3}),l}function FH(u){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(u):(u=IH[u])?!!l[u]:!1}function y6(){return FH}function $Q(u,l){switch(u){case"keyup":return SH.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xQ(u){return u=u.detail,typeof u==="object"&&"data"in u?u.data:null}function fH(u,l){switch(u){case"compositionend":return xQ(l);case"keypress":if(l.which!==32)return null;return K7=!0,_7;case"textInput":return u=l.data,u===_7&&K7?null:u;default:return null}}function $H(u,l){if(Gl)return u==="compositionend"||!R6&&$Q(u,l)?(u=kQ(),e3=F6=Q1=null,Gl=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return fQ&&l.locale!=="ko"?null:l.data;default:return null}}function G7(u){var l=u&&u.nodeName&&u.nodeName.toLowerCase();return l==="input"?!!xH[u.type]:l==="textarea"?!0:!1}function gQ(u,l,z,Q){KQ(Q),l=q4(l,"onChange"),0<l.length&&(z=new j6("onChange","change",null,z,Q),u.push({event:z,listeners:l}))}function gH(u){dQ(u,0)}function $4(u){var l=El(u);if(ZQ(l))return u}function wH(u,l){if(u==="change")return l}function q7(){A2&&(A2.detachEvent("onpropertychange",vQ),v2=A2=null)}function vQ(u){if(u.propertyName==="value"&&$4(v2)){var l=[];gQ(l,v2,u,P6(u)),EQ(gH,l)}}function vH(u,l,z){u==="focusin"?(q7(),A2=l,v2=z,A2.attachEvent("onpropertychange",vQ)):u==="focusout"&&q7()}function hH(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return $4(v2)}function bH(u,l){if(u==="click")return $4(l)}function cH(u,l){if(u==="input"||u==="change")return $4(l)}function mH(u,l){return u===l&&(u!==0||1/u===1/l)||u!==u&&l!==l}function h2(u,l){if(G0(u,l))return!0;if(typeof u!=="object"||u===null||typeof l!=="object"||l===null)return!1;var z=Object.keys(u),Q=Object.keys(l);if(z.length!==Q.length)return!1;for(Q=0;Q<z.length;Q++){var U=z[Q];if(!P5.call(l,U)||!G0(u[U],l[U]))return!1}return!0}function P7(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function E7(u,l){var z=P7(u);u=0;for(var Q;z;){if(z.nodeType===3){if(Q=u+z.textContent.length,u<=l&&Q>=l)return{node:z,offset:l-u};u=Q}u:{for(;z;){if(z.nextSibling){z=z.nextSibling;break u}z=z.parentNode}z=void 0}z=P7(z)}}function hQ(u,l){return u&&l?u===l?!0:u&&u.nodeType===3?!1:l&&l.nodeType===3?hQ(u,l.parentNode):("contains"in u)?u.contains(l):u.compareDocumentPosition?!!(u.compareDocumentPosition(l)&16):!1:!1}function bQ(){for(var u=window,l=W4();l instanceof u.HTMLIFrameElement;){try{var z=typeof l.contentWindow.location.href==="string"}catch(Q){z=!1}if(z)u=l.contentWindow;else break;l=W4(u.document)}return l}function N6(u){var l=u&&u.nodeName&&u.nodeName.toLowerCase();return l&&(l==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||l==="textarea"||u.contentEditable==="true")}function nH(u){var l=bQ(),z=u.focusedElem,Q=u.selectionRange;if(l!==z&&z&&z.ownerDocument&&hQ(z.ownerDocument.documentElement,z)){if(Q!==null&&N6(z)){if(l=Q.start,u=Q.end,u===void 0&&(u=l),"selectionStart"in z)z.selectionStart=l,z.selectionEnd=Math.min(u,z.value.length);else if(u=(l=z.ownerDocument||document)&&l.defaultView||window,u.getSelection){u=u.getSelection();var U=z.textContent.length,X=Math.min(Q.start,U);Q=Q.end===void 0?X:Math.min(Q.end,U),!u.extend&&X>Q&&(U=Q,Q=X,X=U),U=E7(z,X);var V=E7(z,Q);U&&V&&(u.rangeCount!==1||u.anchorNode!==U.node||u.anchorOffset!==U.offset||u.focusNode!==V.node||u.focusOffset!==V.offset)&&(l=l.createRange(),l.setStart(U.node,U.offset),u.removeAllRanges(),X>Q?(u.addRange(l),u.extend(V.node,V.offset)):(l.setEnd(V.node,V.offset),u.addRange(l)))}}l=[];for(u=z;u=u.parentNode;)u.nodeType===1&&l.push({element:u,left:u.scrollLeft,top:u.scrollTop});typeof z.focus==="function"&&z.focus();for(z=0;z<l.length;z++)u=l[z],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}function C7(u,l,z){var Q=z.window===z?z.document:z.nodeType===9?z:z.ownerDocument;g5||ql==null||ql!==W4(Q)||(Q=ql,("selectionStart"in Q)&&N6(Q)?Q={start:Q.selectionStart,end:Q.selectionEnd}:(Q=(Q.ownerDocument&&Q.ownerDocument.defaultView||window).getSelection(),Q={anchorNode:Q.anchorNode,anchorOffset:Q.anchorOffset,focusNode:Q.focusNode,focusOffset:Q.focusOffset}),O2&&h2(O2,Q)||(O2=Q,Q=q4(x5,"onSelect"),0<Q.length&&(l=new j6("onSelect","select",null,l,z),u.push({event:l,listeners:Q}),l.target=ql)))}function n3(u,l){var z={};return z[u.toLowerCase()]=l.toLowerCase(),z["Webkit"+u]="webkit"+l,z["Moz"+u]="moz"+l,z}function x4(u){if(U5[u])return U5[u];if(!Pl[u])return u;var l=Pl[u],z;for(z in l)if(l.hasOwnProperty(z)&&z in cQ)return U5[u]=l[z];return u}function G1(u,l){pQ.set(u,l),r1(l,[u])}function I7(u,l,z){var Q=u.type||"unknown-event";u.currentTarget=z,rL(Q,l,void 0,u),u.currentTarget=null}function dQ(u,l){l=(l&4)!==0;for(var z=0;z<u.length;z++){var Q=u[z],U=Q.event;Q=Q.listeners;u:{var X=void 0;if(l)for(var V=Q.length-1;0<=V;V--){var Z=Q[V],Y=Z.instance,W=Z.currentTarget;if(Z=Z.listener,Y!==X&&U.isPropagationStopped())break u;I7(U,Z,W),X=Y}else for(V=0;V<Q.length;V++){if(Z=Q[V],Y=Z.instance,W=Z.currentTarget,Z=Z.listener,Y!==X&&U.isPropagationStopped())break u;I7(U,Z,W),X=Y}}}if(H4)throw u=S5,H4=!1,S5=null,u}function c(u,l){var z=l[n5];z===void 0&&(z=l[n5]=new Set);var Q=u+"__bubble";z.has(Q)||(aQ(l,u,2,!1),z.add(Q))}function X5(u,l,z){var Q=0;l&&(Q|=4),aQ(z,u,Q,l)}function b2(u){if(!u[i3]){u[i3]=!0,zQ.forEach(function(z){z!=="selectionchange"&&(rH.has(z)||X5(z,!1,u),X5(z,!0,u))});var l=u.nodeType===9?u:u.ownerDocument;l===null||l[i3]||(l[i3]=!0,X5("selectionchange",!1,l))}}function aQ(u,l,z,Q){switch(SQ(l)){case 1:var U=YH;break;case 4:U=WH;break;default:U=I6}z=U.bind(null,l,z,u),U=void 0,!D5||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(U=!0),Q?U!==void 0?u.addEventListener(l,z,{capture:!0,passive:U}):u.addEventListener(l,z,!0):U!==void 0?u.addEventListener(l,z,{passive:U}):u.addEventListener(l,z,!1)}function V5(u,l,z,Q,U){var X=Q;if((l&1)===0&&(l&2)===0&&Q!==null)u:for(;;){if(Q===null)return;var V=Q.tag;if(V===3||V===4){var Z=Q.stateNode.containerInfo;if(Z===U||Z.nodeType===8&&Z.parentNode===U)break;if(V===4)for(V=Q.return;V!==null;){var Y=V.tag;if(Y===3||Y===4){if(Y=V.stateNode.containerInfo,Y===U||Y.nodeType===8&&Y.parentNode===U)return}V=V.return}for(;Z!==null;){if(V=x1(Z),V===null)return;if(Y=V.tag,Y===5||Y===6){Q=X=V;continue u}Z=Z.parentNode}}Q=Q.return}EQ(function(){var W=X,L=P6(z),H=[];u:{var J=pQ.get(u);if(J!==void 0){var K=j6,_=u;switch(u){case"keypress":if(u4(z)===0)break u;case"keydown":case"keyup":K=yH;break;case"focusin":_="focus",K=Q5;break;case"focusout":_="blur",K=Q5;break;case"beforeblur":case"afterblur":K=Q5;break;case"click":if(z.button===2)break u;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=L7;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=JH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=AH;break;case mQ:case nQ:case iQ:K=GH;break;case rQ:K=MH;break;case"scroll":K=LH;break;case"wheel":K=DH;break;case"copy":case"cut":case"paste":K=PH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=J7}var q=(l&4)!==0,E=!q&&u==="scroll",G=q?J!==null?J+"Capture":null:J;q=[];for(var P=W,C;P!==null;){C=P;var B=C.stateNode;if(C.tag===5&&B!==null&&(C=B,G!==null&&(B=$2(P,G),B!=null&&q.push(c2(P,B,C)))),E)break;P=P.return}0<q.length&&(J=new K(J,_,null,z,L),H.push({event:J,listeners:q}))}}if((l&7)===0){u:{if(J=u==="mouseover"||u==="pointerover",K=u==="mouseout"||u==="pointerout",J&&z!==M5&&(_=z.relatedTarget||z.fromElement)&&(x1(_)||_[v0]))break u;if(K||J){if(J=L.window===L?L:(J=L.ownerDocument)?J.defaultView||J.parentWindow:window,K){if(_=z.relatedTarget||z.toElement,K=W,_=_?x1(_):null,_!==null&&(E=p1(_),_!==E||_.tag!==5&&_.tag!==6))_=null}else K=null,_=W;if(K!==_){if(q=L7,B="onMouseLeave",G="onMouseEnter",P="mouse",u==="pointerout"||u==="pointerover")q=J7,B="onPointerLeave",G="onPointerEnter",P="pointer";if(E=K==null?J:El(K),C=_==null?J:El(_),J=new q(B,P+"leave",K,z,L),J.target=E,J.relatedTarget=C,B=null,x1(L)===W&&(q=new q(G,P+"enter",_,z,L),q.target=C,q.relatedTarget=E,B=q),E=B,K&&_)l:{q=K,G=_,P=0;for(C=q;C;C=Hl(C))P++;C=0;for(B=G;B;B=Hl(B))C++;for(;0<P-C;)q=Hl(q),P--;for(;0<C-P;)G=Hl(G),C--;for(;P--;){if(q===G||G!==null&&q===G.alternate)break l;q=Hl(q),G=Hl(G)}q=null}else q=null;K!==null&&F7(H,J,K,q,!1),_!==null&&E!==null&&F7(H,E,_,q,!0)}}}u:{if(J=W?El(W):window,K=J.nodeName&&J.nodeName.toLowerCase(),K==="select"||K==="input"&&J.type==="file")var y=wH;else if(G7(J))if(wQ)y=cH;else{y=hH;var R=vH}else(K=J.nodeName)&&K.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(y=bH);if(y&&(y=y(u,W))){gQ(H,y,z,L);break u}R&&R(u,J,W),u==="focusout"&&(R=J._wrapperState)&&R.controlled&&J.type==="number"&&y5(J,"number",J.value)}switch(R=W?El(W):window,u){case"focusin":if(G7(R)||R.contentEditable==="true")ql=R,x5=W,O2=null;break;case"focusout":O2=x5=ql=null;break;case"mousedown":g5=!0;break;case"contextmenu":case"mouseup":case"dragend":g5=!1,C7(H,z,L);break;case"selectionchange":if(iH)break;case"keydown":case"keyup":C7(H,z,L)}var A;if(R6)u:{switch(u){case"compositionstart":var F="onCompositionStart";break u;case"compositionend":F="onCompositionEnd";break u;case"compositionupdate":F="onCompositionUpdate";break u}F=void 0}else Gl?$Q(u,z)&&(F="onCompositionEnd"):u==="keydown"&&z.keyCode===229&&(F="onCompositionStart");if(F&&(fQ&&z.locale!=="ko"&&(Gl||F!=="onCompositionStart"?F==="onCompositionEnd"&&Gl&&(A=kQ()):(Q1=L,F6=("value"in Q1)?Q1.value:Q1.textContent,Gl=!0)),R=q4(W,F),0<R.length&&(F=new H7(F,u,null,z,L),H.push({event:F,listeners:R}),A?F.data=A:(A=xQ(z),A!==null&&(F.data=A)))),A=kH?fH(u,z):$H(u,z))W=q4(W,"onBeforeInput"),0<W.length&&(L=new H7("onBeforeInput","beforeinput",null,z,L),H.push({event:L,listeners:W}),L.data=A)}dQ(H,l)})}function c2(u,l,z){return{instance:u,listener:l,currentTarget:z}}function q4(u,l){for(var z=l+"Capture",Q=[];u!==null;){var U=u,X=U.stateNode;U.tag===5&&X!==null&&(U=X,X=$2(u,z),X!=null&&Q.unshift(c2(u,X,U)),X=$2(u,l),X!=null&&Q.push(c2(u,X,U))),u=u.return}return Q}function Hl(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u?u:null}function F7(u,l,z,Q,U){for(var X=l._reactName,V=[];z!==null&&z!==Q;){var Z=z,Y=Z.alternate,W=Z.stateNode;if(Y!==null&&Y===Q)break;Z.tag===5&&W!==null&&(Z=W,U?(Y=$2(z,X),Y!=null&&V.unshift(c2(z,Y,Z))):U||(Y=$2(z,X),Y!=null&&V.push(c2(z,Y,Z)))),z=z.return}V.length!==0&&u.push({event:l,listeners:V})}function j7(u){return(typeof u==="string"?u:""+u).replace(pH,`
`).replace(dH,"")}function r3(u,l,z){if(l=j7(l),j7(u)!==l&&z)throw Error(j(425))}function P4(){}function c5(u,l){return u==="textarea"||u==="noscript"||typeof l.children==="string"||typeof l.children==="number"||typeof l.dangerouslySetInnerHTML==="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}function oH(u){setTimeout(function(){throw u})}function Z5(u,l){var z=l,Q=0;do{var U=z.nextSibling;if(u.removeChild(z),U&&U.nodeType===8)if(z=U.data,z==="/$"){if(Q===0){u.removeChild(U),w2(l);return}Q--}else z!=="$"&&z!=="$?"&&z!=="$!"||Q++;z=U}while(z);w2(l)}function Y1(u){for(;u!=null;u=u.nextSibling){var l=u.nodeType;if(l===1||l===3)break;if(l===8){if(l=u.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return u}function R7(u){u=u.previousSibling;for(var l=0;u;){if(u.nodeType===8){var z=u.data;if(z==="$"||z==="$!"||z==="$?"){if(l===0)return u;l--}else z==="/$"&&l++}u=u.previousSibling}return null}function x1(u){var l=u[j0];if(l)return l;for(var z=u.parentNode;z;){if(l=z[v0]||z[j0]){if(z=l.alternate,l.child!==null||z!==null&&z.child!==null)for(u=R7(u);u!==null;){if(z=u[j0])return z;u=R7(u)}return l}u=z,z=u.parentNode}return null}function t2(u){return u=u[j0]||u[v0],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function El(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(j(33))}function g4(u){return u[m2]||null}function q1(u){return{current:u}}function m(u){0>Cl||(u.current=i5[Cl],i5[Cl]=null,Cl--)}function b(u,l){Cl++,i5[Cl]=u.current,u.current=l}function Sl(u,l){var z=u.type.contextTypes;if(!z)return K1;var Q=u.stateNode;if(Q&&Q.__reactInternalMemoizedUnmaskedChildContext===l)return Q.__reactInternalMemoizedMaskedChildContext;var U={},X;for(X in z)U[X]=l[X];return Q&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=l,u.__reactInternalMemoizedMaskedChildContext=U),U}function hu(u){return u=u.childContextTypes,u!==null&&u!==void 0}function E4(){m(vu),m(yu)}function N7(u,l,z){if(yu.current!==K1)throw Error(j(168));b(yu,l),b(vu,z)}function sQ(u,l,z){var Q=u.stateNode;if(l=l.childContextTypes,typeof Q.getChildContext!=="function")return z;Q=Q.getChildContext();for(var U in Q)if(!(U in l))throw Error(j(108,vL(u)||"Unknown",U));return a({},z,Q)}function C4(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||K1,b1=yu.current,b(yu,u),b(vu,vu.current),!0}function A7(u,l,z){var Q=u.stateNode;if(!Q)throw Error(j(169));z?(u=sQ(u,l,b1),Q.__reactInternalMemoizedMergedChildContext=u,m(vu),m(yu),b(yu,u)):m(vu),b(vu,z)}function oQ(u){f0===null?f0=[u]:f0.push(u)}function uJ(u){w4=!0,oQ(u)}function P1(){if(!Y5&&f0!==null){Y5=!0;var u=0,l=v;try{var z=f0;for(v=1;u<z.length;u++){var Q=z[u];do Q=Q(!0);while(Q!==null)}f0=null,w4=!1}catch(U){throw f0!==null&&(f0=f0.slice(u+1)),FQ(E6,P1),U}finally{v=l,Y5=!1}}return null}function f1(u,l){Bl[Il++]=I4,Bl[Il++]=B4,B4=u,I4=l}function tQ(u,l,z){su[ou++]=$0,su[ou++]=x0,su[ou++]=c1,c1=u;var Q=$0;u=x0;var U=32-_0(Q)-1;Q&=~(1<<U),z+=1;var X=32-_0(l)+U;if(30<X){var V=U-U%5;X=(Q&(1<<V)-1).toString(32),Q>>=V,U-=V,$0=1<<32-_0(l)+U|z<<U|Q,x0=X+u}else $0=1<<X|z<<U|Q,x0=u}function A6(u){u.return!==null&&(f1(u,1),tQ(u,1,0))}function O6(u){for(;u===B4;)B4=Bl[--Il],Bl[Il]=null,I4=Bl[--Il],Bl[Il]=null;for(;u===c1;)c1=su[--ou],su[ou]=null,x0=su[--ou],su[ou]=null,$0=su[--ou],su[ou]=null}function eQ(u,l){var z=tu(5,null,null,0);z.elementType="DELETED",z.stateNode=l,z.return=u,l=u.deletions,l===null?(u.deletions=[z],u.flags|=16):l.push(z)}function O7(u,l){switch(u.tag){case 5:var z=u.type;return l=l.nodeType!==1||z.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(u.stateNode=l,iu=u,nu=Y1(l.firstChild),!0):!1;case 6:return l=u.pendingProps===""||l.nodeType!==3?null:l,l!==null?(u.stateNode=l,iu=u,nu=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(z=c1!==null?{id:$0,overflow:x0}:null,u.memoizedState={dehydrated:l,treeContext:z,retryLane:1073741824},z=tu(18,null,null,0),z.stateNode=l,z.return=u,u.child=z,iu=u,nu=null,!0):!1;default:return!1}}function r5(u){return(u.mode&1)!==0&&(u.flags&128)===0}function p5(u){if(i){var l=nu;if(l){var z=l;if(!O7(u,l)){if(r5(u))throw Error(j(418));l=Y1(z.nextSibling);var Q=iu;l&&O7(u,l)?eQ(Q,z):(u.flags=u.flags&-4097|2,i=!1,iu=u)}}else{if(r5(u))throw Error(j(418));u.flags=u.flags&-4097|2,i=!1,iu=u}}}function M7(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;iu=u}function p3(u){if(u!==iu)return!1;if(!i)return M7(u),i=!0,!1;var l;if((l=u.tag!==3)&&!(l=u.tag!==5)&&(l=u.type,l=l!=="head"&&l!=="body"&&!c5(u.type,u.memoizedProps)),l&&(l=nu)){if(r5(u))throw uU(),Error(j(418));for(;l;)eQ(u,l),l=Y1(l.nextSibling)}if(M7(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(j(317));u:{u=u.nextSibling;for(l=0;u;){if(u.nodeType===8){var z=u.data;if(z==="/$"){if(l===0){nu=Y1(u.nextSibling);break u}l--}else z!=="$"&&z!=="$!"&&z!=="$?"||l++}u=u.nextSibling}nu=null}}else nu=iu?Y1(u.stateNode.nextSibling):null;return!0}function uU(){for(var u=nu;u;)u=Y1(u.nextSibling)}function kl(){nu=iu=null,i=!1}function M6(u){J0===null?J0=[u]:J0.push(u)}function _2(u,l,z){if(u=z.ref,u!==null&&typeof u!=="function"&&typeof u!=="object"){if(z._owner){if(z=z._owner,z){if(z.tag!==1)throw Error(j(309));var Q=z.stateNode}if(!Q)throw Error(j(147,u));var U=Q,X=""+u;if(l!==null&&l.ref!==null&&typeof l.ref==="function"&&l.ref._stringRef===X)return l.ref;return l=function(V){var Z=U.refs;V===null?delete Z[X]:Z[X]=V},l._stringRef=X,l}if(typeof u!=="string")throw Error(j(284));if(!z._owner)throw Error(j(290,u))}return u}function d3(u,l){throw u=Object.prototype.toString.call(l),Error(j(31,u==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":u))}function T7(u){var l=u._init;return l(u._payload)}function lU(u){function l(G,P){if(u){var C=G.deletions;C===null?(G.deletions=[P],G.flags|=16):C.push(P)}}function z(G,P){if(!u)return null;for(;P!==null;)l(G,P),P=P.sibling;return null}function Q(G,P){for(G=new Map;P!==null;)P.key!==null?G.set(P.key,P):G.set(P.index,P),P=P.sibling;return G}function U(G,P){return G=J1(G,P),G.index=0,G.sibling=null,G}function X(G,P,C){if(G.index=C,!u)return G.flags|=1048576,P;if(C=G.alternate,C!==null)return C=C.index,C<P?(G.flags|=2,P):C;return G.flags|=2,P}function V(G){return u&&G.alternate===null&&(G.flags|=2),G}function Z(G,P,C,B){if(P===null||P.tag!==6)return P=G5(C,G.mode,B),P.return=G,P;return P=U(P,C),P.return=G,P}function Y(G,P,C,B){var y=C.type;if(y===Kl)return L(G,P,C.props.children,B,C.key);if(P!==null&&(P.elementType===y||typeof y==="object"&&y!==null&&y.$$typeof===e0&&T7(y)===P.type))return B=U(P,C.props),B.ref=_2(G,P,C),B.return=G,B;return B=Y4(C.type,C.key,C.props,null,G.mode,B),B.ref=_2(G,P,C),B.return=G,B}function W(G,P,C,B){if(P===null||P.tag!==4||P.stateNode.containerInfo!==C.containerInfo||P.stateNode.implementation!==C.implementation)return P=q5(C,G.mode,B),P.return=G,P;return P=U(P,C.children||[]),P.return=G,P}function L(G,P,C,B,y){if(P===null||P.tag!==7)return P=h1(C,G.mode,B,y),P.return=G,P;return P=U(P,C),P.return=G,P}function H(G,P,C){if(typeof P==="string"&&P!==""||typeof P==="number")return P=G5(""+P,G.mode,C),P.return=G,P;if(typeof P==="object"&&P!==null){switch(P.$$typeof){case g3:return C=Y4(P.type,P.key,P.props,null,G.mode,C),C.ref=_2(G,null,P),C.return=G,C;case _l:return P=q5(P,G.mode,C),P.return=G,P;case e0:var B=P._init;return H(G,B(P._payload),C)}if(P2(P)||W2(P))return P=h1(P,G.mode,C,null),P.return=G,P;d3(G,P)}return null}function J(G,P,C,B){var y=P!==null?P.key:null;if(typeof C==="string"&&C!==""||typeof C==="number")return y!==null?null:Z(G,P,""+C,B);if(typeof C==="object"&&C!==null){switch(C.$$typeof){case g3:return C.key===y?Y(G,P,C,B):null;case _l:return C.key===y?W(G,P,C,B):null;case e0:return y=C._init,J(G,P,y(C._payload),B)}if(P2(C)||W2(C))return y!==null?null:L(G,P,C,B,null);d3(G,C)}return null}function K(G,P,C,B,y){if(typeof B==="string"&&B!==""||typeof B==="number")return G=G.get(C)||null,Z(P,G,""+B,y);if(typeof B==="object"&&B!==null){switch(B.$$typeof){case g3:return G=G.get(B.key===null?C:B.key)||null,Y(P,G,B,y);case _l:return G=G.get(B.key===null?C:B.key)||null,W(P,G,B,y);case e0:var R=B._init;return K(G,P,C,R(B._payload),y)}if(P2(B)||W2(B))return G=G.get(C)||null,L(P,G,B,y,null);d3(P,B)}return null}function _(G,P,C,B){for(var y=null,R=null,A=P,F=P=0,x=null;A!==null&&F<C.length;F++){A.index>F?(x=A,A=null):x=A.sibling;var S=J(G,A,C[F],B);if(S===null){A===null&&(A=x);break}u&&A&&S.alternate===null&&l(G,A),P=X(S,P,F),R===null?y=S:R.sibling=S,R=S,A=x}if(F===C.length)return z(G,A),i&&f1(G,F),y;if(A===null){for(;F<C.length;F++)A=H(G,C[F],B),A!==null&&(P=X(A,P,F),R===null?y=A:R.sibling=A,R=A);return i&&f1(G,F),y}for(A=Q(G,A);F<C.length;F++)x=K(A,G,F,C[F],B),x!==null&&(u&&x.alternate!==null&&A.delete(x.key===null?F:x.key),P=X(x,P,F),R===null?y=x:R.sibling=x,R=x);return u&&A.forEach(function(C0){return l(G,C0)}),i&&f1(G,F),y}function q(G,P,C,B){var y=W2(C);if(typeof y!=="function")throw Error(j(150));if(C=y.call(C),C==null)throw Error(j(151));for(var R=y=null,A=P,F=P=0,x=null,S=C.next();A!==null&&!S.done;F++,S=C.next()){A.index>F?(x=A,A=null):x=A.sibling;var C0=J(G,A,S.value,B);if(C0===null){A===null&&(A=x);break}u&&A&&C0.alternate===null&&l(G,A),P=X(C0,P,F),R===null?y=C0:R.sibling=C0,R=C0,A=x}if(S.done)return z(G,A),i&&f1(G,F),y;if(A===null){for(;!S.done;F++,S=C.next())S=H(G,S.value,B),S!==null&&(P=X(S,P,F),R===null?y=S:R.sibling=S,R=S);return i&&f1(G,F),y}for(A=Q(G,A);!S.done;F++,S=C.next())S=K(A,G,F,S.value,B),S!==null&&(u&&S.alternate!==null&&A.delete(S.key===null?F:S.key),P=X(S,P,F),R===null?y=S:R.sibling=S,R=S);return u&&A.forEach(function(WW){return l(G,WW)}),i&&f1(G,F),y}function E(G,P,C,B){if(typeof C==="object"&&C!==null&&C.type===Kl&&C.key===null&&(C=C.props.children),typeof C==="object"&&C!==null){switch(C.$$typeof){case g3:u:{for(var y=C.key,R=P;R!==null;){if(R.key===y){if(y=C.type,y===Kl){if(R.tag===7){z(G,R.sibling),P=U(R,C.props.children),P.return=G,G=P;break u}}else if(R.elementType===y||typeof y==="object"&&y!==null&&y.$$typeof===e0&&T7(y)===R.type){z(G,R.sibling),P=U(R,C.props),P.ref=_2(G,R,C),P.return=G,G=P;break u}z(G,R);break}else l(G,R);R=R.sibling}C.type===Kl?(P=h1(C.props.children,G.mode,B,C.key),P.return=G,G=P):(B=Y4(C.type,C.key,C.props,null,G.mode,B),B.ref=_2(G,P,C),B.return=G,G=B)}return V(G);case _l:u:{for(R=C.key;P!==null;){if(P.key===R)if(P.tag===4&&P.stateNode.containerInfo===C.containerInfo&&P.stateNode.implementation===C.implementation){z(G,P.sibling),P=U(P,C.children||[]),P.return=G,G=P;break u}else{z(G,P);break}else l(G,P);P=P.sibling}P=q5(C,G.mode,B),P.return=G,G=P}return V(G);case e0:return R=C._init,E(G,P,R(C._payload),B)}if(P2(C))return _(G,P,C,B);if(W2(C))return q(G,P,C,B);d3(G,C)}return typeof C==="string"&&C!==""||typeof C==="number"?(C=""+C,P!==null&&P.tag===6?(z(G,P.sibling),P=U(P,C),P.return=G,G=P):(z(G,P),P=G5(C,G.mode,B),P.return=G,G=P),V(G)):z(G,P)}return E}function D6(){T6=Fl=j4=null}function S6(u){var l=F4.current;m(F4),u._currentValue=l}function d5(u,l,z){for(;u!==null;){var Q=u.alternate;if((u.childLanes&l)!==l?(u.childLanes|=l,Q!==null&&(Q.childLanes|=l)):Q!==null&&(Q.childLanes&l)!==l&&(Q.childLanes|=l),u===z)break;u=u.return}}function Ml(u,l){j4=u,T6=Fl=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&l)!==0&&(wu=!0),u.firstContext=null)}function u0(u){var l=u._currentValue;if(T6!==u)if(u={context:u,memoizedValue:l,next:null},Fl===null){if(j4===null)throw Error(j(308));Fl=u,j4.dependencies={lanes:0,firstContext:u}}else Fl=Fl.next=u;return l}function k6(u){g1===null?g1=[u]:g1.push(u)}function QU(u,l,z,Q){var U=l.interleaved;return U===null?(z.next=z,k6(l)):(z.next=U.next,U.next=z),l.interleaved=z,h0(u,Q)}function h0(u,l){u.lanes|=l;var z=u.alternate;z!==null&&(z.lanes|=l),z=u;for(u=u.return;u!==null;)u.childLanes|=l,z=u.alternate,z!==null&&(z.childLanes|=l),z=u,u=u.return;return z.tag===3?z.stateNode:null}function f6(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function UU(u,l){u=u.updateQueue,l.updateQueue===u&&(l.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function g0(u,l){return{eventTime:u,lane:l,tag:0,payload:null,callback:null,next:null}}function W1(u,l,z){var Q=u.updateQueue;if(Q===null)return null;if(Q=Q.shared,(g&2)!==0){var U=Q.pending;return U===null?l.next=l:(l.next=U.next,U.next=l),Q.pending=l,h0(u,z)}return U=Q.interleaved,U===null?(l.next=l,k6(Q)):(l.next=U.next,U.next=l),Q.interleaved=l,h0(u,z)}function z4(u,l,z){if(l=l.updateQueue,l!==null&&(l=l.shared,(z&4194240)!==0)){var Q=l.lanes;Q&=u.pendingLanes,z|=Q,l.lanes=z,C6(u,z)}}function D7(u,l){var{updateQueue:z,alternate:Q}=u;if(Q!==null&&(Q=Q.updateQueue,z===Q)){var U=null,X=null;if(z=z.firstBaseUpdate,z!==null){do{var V={eventTime:z.eventTime,lane:z.lane,tag:z.tag,payload:z.payload,callback:z.callback,next:null};X===null?U=X=V:X=X.next=V,z=z.next}while(z!==null);X===null?U=X=l:X=X.next=l}else U=X=l;z={baseState:Q.baseState,firstBaseUpdate:U,lastBaseUpdate:X,shared:Q.shared,effects:Q.effects},u.updateQueue=z;return}u=z.lastBaseUpdate,u===null?z.firstBaseUpdate=l:u.next=l,z.lastBaseUpdate=l}function y4(u,l,z,Q){var U=u.updateQueue;u1=!1;var{firstBaseUpdate:X,lastBaseUpdate:V}=U,Z=U.shared.pending;if(Z!==null){U.shared.pending=null;var Y=Z,W=Y.next;Y.next=null,V===null?X=W:V.next=W,V=Y;var L=u.alternate;L!==null&&(L=L.updateQueue,Z=L.lastBaseUpdate,Z!==V&&(Z===null?L.firstBaseUpdate=W:Z.next=W,L.lastBaseUpdate=Y))}if(X!==null){var H=U.baseState;V=0,L=W=Y=null,Z=X;do{var{lane:J,eventTime:K}=Z;if((Q&J)===J){L!==null&&(L=L.next={eventTime:K,lane:0,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null});u:{var _=u,q=Z;switch(J=l,K=z,q.tag){case 1:if(_=q.payload,typeof _==="function"){H=_.call(K,H,J);break u}H=_;break u;case 3:_.flags=_.flags&-65537|128;case 0:if(_=q.payload,J=typeof _==="function"?_.call(K,H,J):_,J===null||J===void 0)break u;H=a({},H,J);break u;case 2:u1=!0}}Z.callback!==null&&Z.lane!==0&&(u.flags|=64,J=U.effects,J===null?U.effects=[Z]:J.push(Z))}else K={eventTime:K,lane:J,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},L===null?(W=L=K,Y=H):L=L.next=K,V|=J;if(Z=Z.next,Z===null)if(Z=U.shared.pending,Z===null)break;else J=Z,Z=J.next,J.next=null,U.lastBaseUpdate=J,U.shared.pending=null}while(1);if(L===null&&(Y=H),U.baseState=Y,U.firstBaseUpdate=W,U.lastBaseUpdate=L,l=U.shared.interleaved,l!==null){U=l;do V|=U.lane,U=U.next;while(U!==l)}else X===null&&(U.shared.lanes=0);n1|=V,u.lanes=V,u.memoizedState=H}}function S7(u,l,z){if(u=l.effects,l.effects=null,u!==null)for(l=0;l<u.length;l++){var Q=u[l],U=Q.callback;if(U!==null){if(Q.callback=null,Q=z,typeof U!=="function")throw Error(j(191,U));U.call(Q)}}}function w1(u){if(u===e2)throw Error(j(174));return u}function $6(u,l){switch(b(i2,l),b(n2,u),b(R0,e2),u=l.nodeType,u){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:N5(null,"");break;default:u=u===8?l.parentNode:l,l=u.namespaceURI||null,u=u.tagName,l=N5(l,u)}m(R0),b(R0,l)}function $l(){m(R0),m(n2),m(i2)}function XU(u){w1(i2.current);var l=w1(R0.current),z=N5(l,u.type);l!==z&&(b(n2,u),b(R0,z))}function x6(u){n2.current===u&&(m(R0),m(n2))}function R4(u){for(var l=u;l!==null;){if(l.tag===13){var z=l.memoizedState;if(z!==null&&(z=z.dehydrated,z===null||z.data==="$?"||z.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break;for(;l.sibling===null;){if(l.return===null||l.return===u)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function g6(){for(var u=0;u<W5.length;u++)W5[u]._workInProgressVersionPrimary=null;W5.length=0}function Iu(){throw Error(j(321))}function w6(u,l){if(l===null)return!1;for(var z=0;z<l.length&&z<u.length;z++)if(!G0(u[z],l[z]))return!1;return!0}function v6(u,l,z,Q,U,X){if(m1=X,d=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Q4.current=u===null||u.memoizedState===null?VJ:ZJ,u=z(Q,U),M2){X=0;do{if(M2=!1,r2=0,25<=X)throw Error(j(301));X+=1,Wu=Zu=null,l.updateQueue=null,Q4.current=YJ,u=z(Q,U)}while(M2)}if(Q4.current=A4,l=Zu!==null&&Zu.next!==null,m1=0,Wu=Zu=d=null,N4=!1,l)throw Error(j(300));return u}function h6(){var u=r2!==0;return r2=0,u}function F0(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wu===null?d.memoizedState=Wu=u:Wu=Wu.next=u,Wu}function l0(){if(Zu===null){var u=d.alternate;u=u!==null?u.memoizedState:null}else u=Zu.next;var l=Wu===null?d.memoizedState:Wu.next;if(l!==null)Wu=l,Zu=u;else{if(u===null)throw Error(j(310));Zu=u,u={memoizedState:Zu.memoizedState,baseState:Zu.baseState,baseQueue:Zu.baseQueue,queue:Zu.queue,next:null},Wu===null?d.memoizedState=Wu=u:Wu=Wu.next=u}return Wu}function p2(u,l){return typeof l==="function"?l(u):l}function H5(u){var l=l0(),z=l.queue;if(z===null)throw Error(j(311));z.lastRenderedReducer=u;var Q=Zu,U=Q.baseQueue,X=z.pending;if(X!==null){if(U!==null){var V=U.next;U.next=X.next,X.next=V}Q.baseQueue=U=X,z.pending=null}if(U!==null){X=U.next,Q=Q.baseState;var Z=V=null,Y=null,W=X;do{var L=W.lane;if((m1&L)===L)Y!==null&&(Y=Y.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),Q=W.hasEagerState?W.eagerState:u(Q,W.action);else{var H={lane:L,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};Y===null?(Z=Y=H,V=Q):Y=Y.next=H,d.lanes|=L,n1|=L}W=W.next}while(W!==null&&W!==X);Y===null?V=Q:Y.next=Z,G0(Q,l.memoizedState)||(wu=!0),l.memoizedState=Q,l.baseState=V,l.baseQueue=Y,z.lastRenderedState=Q}if(u=z.interleaved,u!==null){U=u;do X=U.lane,d.lanes|=X,n1|=X,U=U.next;while(U!==u)}else U===null&&(z.lanes=0);return[l.memoizedState,z.dispatch]}function J5(u){var l=l0(),z=l.queue;if(z===null)throw Error(j(311));z.lastRenderedReducer=u;var{dispatch:Q,pending:U}=z,X=l.memoizedState;if(U!==null){z.pending=null;var V=U=U.next;do X=u(X,V.action),V=V.next;while(V!==U);G0(X,l.memoizedState)||(wu=!0),l.memoizedState=X,l.baseQueue===null&&(l.baseState=X),z.lastRenderedState=X}return[X,Q]}function VU(){}function ZU(u,l){var z=d,Q=l0(),U=l(),X=!G0(Q.memoizedState,U);if(X&&(Q.memoizedState=U,wu=!0),Q=Q.queue,b6(LU.bind(null,z,Q,u),[u]),Q.getSnapshot!==l||X||Wu!==null&&Wu.memoizedState.tag&1){if(z.flags|=2048,d2(9,WU.bind(null,z,Q,U,l),void 0,null),Lu===null)throw Error(j(349));(m1&30)!==0||YU(z,l,U)}return U}function YU(u,l,z){u.flags|=16384,u={getSnapshot:l,value:z},l=d.updateQueue,l===null?(l={lastEffect:null,stores:null},d.updateQueue=l,l.stores=[u]):(z=l.stores,z===null?l.stores=[u]:z.push(u))}function WU(u,l,z,Q){l.value=z,l.getSnapshot=Q,HU(l)&&JU(u)}function LU(u,l,z){return z(function(){HU(l)&&JU(u)})}function HU(u){var l=u.getSnapshot;u=u.value;try{var z=l();return!G0(u,z)}catch(Q){return!0}}function JU(u){var l=h0(u,1);l!==null&&K0(l,u,1,-1)}function k7(u){var l=F0();return typeof u==="function"&&(u=u()),l.memoizedState=l.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p2,lastRenderedState:u},l.queue=u,u=u.dispatch=XJ.bind(null,d,u),[l.memoizedState,u]}function d2(u,l,z,Q){return u={tag:u,create:l,destroy:z,deps:Q,next:null},l=d.updateQueue,l===null?(l={lastEffect:null,stores:null},d.updateQueue=l,l.lastEffect=u.next=u):(z=l.lastEffect,z===null?l.lastEffect=u.next=u:(Q=z.next,z.next=u,u.next=Q,l.lastEffect=u)),u}function _U(){return l0().memoizedState}function U4(u,l,z,Q){var U=F0();d.flags|=u,U.memoizedState=d2(1|l,z,void 0,Q===void 0?null:Q)}function v4(u,l,z,Q){var U=l0();Q=Q===void 0?null:Q;var X=void 0;if(Zu!==null){var V=Zu.memoizedState;if(X=V.destroy,Q!==null&&w6(Q,V.deps)){U.memoizedState=d2(l,z,X,Q);return}}d.flags|=u,U.memoizedState=d2(1|l,z,X,Q)}function f7(u,l){return U4(8390656,8,u,l)}function b6(u,l){return v4(2048,8,u,l)}function KU(u,l){return v4(4,2,u,l)}function GU(u,l){return v4(4,4,u,l)}function qU(u,l){if(typeof l==="function")return u=u(),l(u),function(){l(null)};if(l!==null&&l!==void 0)return u=u(),l.current=u,function(){l.current=null}}function PU(u,l,z){return z=z!==null&&z!==void 0?z.concat([u]):null,v4(4,4,qU.bind(null,l,u),z)}function c6(){}function EU(u,l){var z=l0();l=l===void 0?null:l;var Q=z.memoizedState;if(Q!==null&&l!==null&&w6(l,Q[1]))return Q[0];return z.memoizedState=[u,l],u}function CU(u,l){var z=l0();l=l===void 0?null:l;var Q=z.memoizedState;if(Q!==null&&l!==null&&w6(l,Q[1]))return Q[0];return u=u(),z.memoizedState=[u,l],u}function BU(u,l,z){if((m1&21)===0)return u.baseState&&(u.baseState=!1,wu=!0),u.memoizedState=z;return G0(z,l)||(z=RQ(),d.lanes|=z,n1|=z,u.baseState=!0),l}function QJ(u,l){var z=v;v=z!==0&&4>z?z:4,u(!0);var Q=L5.transition;L5.transition={};try{u(!1),l()}finally{v=z,L5.transition=Q}}function IU(){return l0().memoizedState}function UJ(u,l,z){var Q=H1(u);if(z={lane:Q,action:z,hasEagerState:!1,eagerState:null,next:null},FU(u))jU(l,z);else if(z=QU(u,l,z,Q),z!==null){var U=Du();K0(z,u,Q,U),yU(z,l,Q)}}function XJ(u,l,z){var Q=H1(u),U={lane:Q,action:z,hasEagerState:!1,eagerState:null,next:null};if(FU(u))jU(l,U);else{var X=u.alternate;if(u.lanes===0&&(X===null||X.lanes===0)&&(X=l.lastRenderedReducer,X!==null))try{var V=l.lastRenderedState,Z=X(V,z);if(U.hasEagerState=!0,U.eagerState=Z,G0(Z,V)){var Y=l.interleaved;Y===null?(U.next=U,k6(l)):(U.next=Y.next,Y.next=U),l.interleaved=U;return}}catch(W){}finally{}z=QU(u,l,U,Q),z!==null&&(U=Du(),K0(z,u,Q,U),yU(z,l,Q))}}function FU(u){var l=u.alternate;return u===d||l!==null&&l===d}function jU(u,l){M2=N4=!0;var z=u.pending;z===null?l.next=l:(l.next=z.next,z.next=l),u.pending=l}function yU(u,l,z){if((z&4194240)!==0){var Q=l.lanes;Q&=u.pendingLanes,z|=Q,l.lanes=z,C6(u,z)}}function L0(u,l){if(u&&u.defaultProps){l=a({},l),u=u.defaultProps;for(var z in u)l[z]===void 0&&(l[z]=u[z]);return l}return l}function a5(u,l,z,Q){l=u.memoizedState,z=z(Q,l),z=z===null||z===void 0?l:a({},l,z),u.memoizedState=z,u.lanes===0&&(u.updateQueue.baseState=z)}function $7(u,l,z,Q,U,X,V){return u=u.stateNode,typeof u.shouldComponentUpdate==="function"?u.shouldComponentUpdate(Q,X,V):l.prototype&&l.prototype.isPureReactComponent?!h2(z,Q)||!h2(U,X):!0}function RU(u,l,z){var Q=!1,U=K1,X=l.contextType;return typeof X==="object"&&X!==null?X=u0(X):(U=hu(l)?b1:yu.current,Q=l.contextTypes,X=(Q=Q!==null&&Q!==void 0)?Sl(u,U):K1),l=new l(z,X),u.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=h4,u.stateNode=l,l._reactInternals=u,Q&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=U,u.__reactInternalMemoizedMaskedChildContext=X),l}function x7(u,l,z,Q){u=l.state,typeof l.componentWillReceiveProps==="function"&&l.componentWillReceiveProps(z,Q),typeof l.UNSAFE_componentWillReceiveProps==="function"&&l.UNSAFE_componentWillReceiveProps(z,Q),l.state!==u&&h4.enqueueReplaceState(l,l.state,null)}function s5(u,l,z,Q){var U=u.stateNode;U.props=z,U.state=u.memoizedState,U.refs={},f6(u);var X=l.contextType;typeof X==="object"&&X!==null?U.context=u0(X):(X=hu(l)?b1:yu.current,U.context=Sl(u,X)),U.state=u.memoizedState,X=l.getDerivedStateFromProps,typeof X==="function"&&(a5(u,l,X,z),U.state=u.memoizedState),typeof l.getDerivedStateFromProps==="function"||typeof U.getSnapshotBeforeUpdate==="function"||typeof U.UNSAFE_componentWillMount!=="function"&&typeof U.componentWillMount!=="function"||(l=U.state,typeof U.componentWillMount==="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount==="function"&&U.UNSAFE_componentWillMount(),l!==U.state&&h4.enqueueReplaceState(U,U.state,null),y4(u,z,U,Q),U.state=u.memoizedState),typeof U.componentDidMount==="function"&&(u.flags|=4194308)}function xl(u,l){try{var z="",Q=l;do z+=wL(Q),Q=Q.return;while(Q);var U=z}catch(X){U=`
Error generating stack: `+X.message+`
`+X.stack}return{value:u,source:l,stack:U,digest:null}}function _5(u,l,z){return{value:u,source:null,stack:z!=null?z:null,digest:l!=null?l:null}}function o5(u,l){try{console.error(l.value)}catch(z){setTimeout(function(){throw z})}}function NU(u,l,z){z=g0(-1,z),z.tag=3,z.payload={element:null};var Q=l.value;return z.callback=function(){M4||(M4=!0,Z6=Q),o5(u,l)},z}function AU(u,l,z){z=g0(-1,z),z.tag=3;var Q=u.type.getDerivedStateFromError;if(typeof Q==="function"){var U=l.value;z.payload=function(){return Q(U)},z.callback=function(){o5(u,l)}}var X=u.stateNode;return X!==null&&typeof X.componentDidCatch==="function"&&(z.callback=function(){o5(u,l),typeof Q!=="function"&&(L1===null?L1=new Set([this]):L1.add(this));var V=l.stack;this.componentDidCatch(l.value,{componentStack:V!==null?V:""})}),z}function g7(u,l,z){var Q=u.pingCache;if(Q===null){Q=u.pingCache=new WJ;var U=new Set;Q.set(l,U)}else U=Q.get(l),U===void 0&&(U=new Set,Q.set(l,U));U.has(z)||(U.add(z),u=jJ.bind(null,u,l,z),l.then(u,u))}function w7(u){do{var l;if(l=u.tag===13)l=u.memoizedState,l=l!==null?l.dehydrated!==null?!0:!1:!0;if(l)return u;u=u.return}while(u!==null);return null}function v7(u,l,z,Q,U){if((u.mode&1)===0)return u===l?u.flags|=65536:(u.flags|=128,z.flags|=131072,z.flags&=-52805,z.tag===1&&(z.alternate===null?z.tag=17:(l=g0(-1,1),l.tag=2,W1(z,l,1))),z.lanes|=1),u;return u.flags|=65536,u.lanes=U,u}function Tu(u,l,z,Q){l.child=u===null?zU(l,null,z,Q):fl(l,u.child,z,Q)}function h7(u,l,z,Q,U){z=z.render;var X=l.ref;if(Ml(l,U),Q=v6(u,l,z,Q,X,U),z=h6(),u!==null&&!wu)return l.updateQueue=u.updateQueue,l.flags&=-2053,u.lanes&=~U,b0(u,l,U);return i&&z&&A6(l),l.flags|=1,Tu(u,l,Q,U),l.child}function b7(u,l,z,Q,U){if(u===null){var X=z.type;if(typeof X==="function"&&!s6(X)&&X.defaultProps===void 0&&z.compare===null&&z.defaultProps===void 0)return l.tag=15,l.type=X,OU(u,l,X,Q,U);return u=Y4(z.type,null,Q,l,l.mode,U),u.ref=l.ref,u.return=l,l.child=u}if(X=u.child,(u.lanes&U)===0){var V=X.memoizedProps;if(z=z.compare,z=z!==null?z:h2,z(V,Q)&&u.ref===l.ref)return b0(u,l,U)}return l.flags|=1,u=J1(X,Q),u.ref=l.ref,u.return=l,l.child=u}function OU(u,l,z,Q,U){if(u!==null){var X=u.memoizedProps;if(h2(X,Q)&&u.ref===l.ref)if(wu=!1,l.pendingProps=Q=X,(u.lanes&U)!==0)(u.flags&131072)!==0&&(wu=!0);else return l.lanes=u.lanes,b0(u,l,U)}return t5(u,l,z,Q,U)}function MU(u,l,z){var Q=l.pendingProps,U=Q.children,X=u!==null?u.memoizedState:null;if(Q.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},b(yl,mu),mu|=z;else{if((z&1073741824)===0)return u=X!==null?X.baseLanes|z:z,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:u,cachePool:null,transitions:null},l.updateQueue=null,b(yl,mu),mu|=u,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Q=X!==null?X.baseLanes:z,b(yl,mu),mu|=Q}else X!==null?(Q=X.baseLanes|z,l.memoizedState=null):Q=z,b(yl,mu),mu|=Q;return Tu(u,l,U,z),l.child}function TU(u,l){var z=l.ref;if(u===null&&z!==null||u!==null&&u.ref!==z)l.flags|=512,l.flags|=2097152}function t5(u,l,z,Q,U){var X=hu(z)?b1:yu.current;if(X=Sl(l,X),Ml(l,U),z=v6(u,l,z,Q,X,U),Q=h6(),u!==null&&!wu)return l.updateQueue=u.updateQueue,l.flags&=-2053,u.lanes&=~U,b0(u,l,U);return i&&Q&&A6(l),l.flags|=1,Tu(u,l,z,U),l.child}function c7(u,l,z,Q,U){if(hu(z)){var X=!0;C4(l)}else X=!1;if(Ml(l,U),l.stateNode===null)X4(u,l),RU(l,z,Q),s5(l,z,Q,U),Q=!0;else if(u===null){var{stateNode:V,memoizedProps:Z}=l;V.props=Z;var Y=V.context,W=z.contextType;typeof W==="object"&&W!==null?W=u0(W):(W=hu(z)?b1:yu.current,W=Sl(l,W));var L=z.getDerivedStateFromProps,H=typeof L==="function"||typeof V.getSnapshotBeforeUpdate==="function";H||typeof V.UNSAFE_componentWillReceiveProps!=="function"&&typeof V.componentWillReceiveProps!=="function"||(Z!==Q||Y!==W)&&x7(l,V,Q,W),u1=!1;var J=l.memoizedState;V.state=J,y4(l,Q,V,U),Y=l.memoizedState,Z!==Q||J!==Y||vu.current||u1?(typeof L==="function"&&(a5(l,z,L,Q),Y=l.memoizedState),(Z=u1||$7(l,z,Z,Q,J,Y,W))?(H||typeof V.UNSAFE_componentWillMount!=="function"&&typeof V.componentWillMount!=="function"||(typeof V.componentWillMount==="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount==="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount==="function"&&(l.flags|=4194308)):(typeof V.componentDidMount==="function"&&(l.flags|=4194308),l.memoizedProps=Q,l.memoizedState=Y),V.props=Q,V.state=Y,V.context=W,Q=Z):(typeof V.componentDidMount==="function"&&(l.flags|=4194308),Q=!1)}else{V=l.stateNode,UU(u,l),Z=l.memoizedProps,W=l.type===l.elementType?Z:L0(l.type,Z),V.props=W,H=l.pendingProps,J=V.context,Y=z.contextType,typeof Y==="object"&&Y!==null?Y=u0(Y):(Y=hu(z)?b1:yu.current,Y=Sl(l,Y));var K=z.getDerivedStateFromProps;(L=typeof K==="function"||typeof V.getSnapshotBeforeUpdate==="function")||typeof V.UNSAFE_componentWillReceiveProps!=="function"&&typeof V.componentWillReceiveProps!=="function"||(Z!==H||J!==Y)&&x7(l,V,Q,Y),u1=!1,J=l.memoizedState,V.state=J,y4(l,Q,V,U);var _=l.memoizedState;Z!==H||J!==_||vu.current||u1?(typeof K==="function"&&(a5(l,z,K,Q),_=l.memoizedState),(W=u1||$7(l,z,W,Q,J,_,Y)||!1)?(L||typeof V.UNSAFE_componentWillUpdate!=="function"&&typeof V.componentWillUpdate!=="function"||(typeof V.componentWillUpdate==="function"&&V.componentWillUpdate(Q,_,Y),typeof V.UNSAFE_componentWillUpdate==="function"&&V.UNSAFE_componentWillUpdate(Q,_,Y)),typeof V.componentDidUpdate==="function"&&(l.flags|=4),typeof V.getSnapshotBeforeUpdate==="function"&&(l.flags|=1024)):(typeof V.componentDidUpdate!=="function"||Z===u.memoizedProps&&J===u.memoizedState||(l.flags|=4),typeof V.getSnapshotBeforeUpdate!=="function"||Z===u.memoizedProps&&J===u.memoizedState||(l.flags|=1024),l.memoizedProps=Q,l.memoizedState=_),V.props=Q,V.state=_,V.context=Y,Q=W):(typeof V.componentDidUpdate!=="function"||Z===u.memoizedProps&&J===u.memoizedState||(l.flags|=4),typeof V.getSnapshotBeforeUpdate!=="function"||Z===u.memoizedProps&&J===u.memoizedState||(l.flags|=1024),Q=!1)}return e5(u,l,z,Q,X,U)}function e5(u,l,z,Q,U,X){TU(u,l);var V=(l.flags&128)!==0;if(!Q&&!V)return U&&A7(l,z,!1),b0(u,l,X);Q=l.stateNode,LJ.current=l;var Z=V&&typeof z.getDerivedStateFromError!=="function"?null:Q.render();return l.flags|=1,u!==null&&V?(l.child=fl(l,u.child,null,X),l.child=fl(l,null,Z,X)):Tu(u,l,Z,X),l.memoizedState=Q.state,U&&A7(l,z,!0),l.child}function DU(u){var l=u.stateNode;l.pendingContext?N7(u,l.pendingContext,l.pendingContext!==l.context):l.context&&N7(u,l.context,!1),$6(u,l.containerInfo)}function m7(u,l,z,Q,U){return kl(),M6(U),l.flags|=256,Tu(u,l,z,Q),l.child}function l6(u){return{baseLanes:u,cachePool:null,transitions:null}}function SU(u,l,z){var Q=l.pendingProps,U=p.current,X=!1,V=(l.flags&128)!==0,Z;if((Z=V)||(Z=u!==null&&u.memoizedState===null?!1:(U&2)!==0),Z)X=!0,l.flags&=-129;else if(u===null||u.memoizedState!==null)U|=1;if(b(p,U&1),u===null){if(p5(l),u=l.memoizedState,u!==null&&(u=u.dehydrated,u!==null))return(l.mode&1)===0?l.lanes=1:u.data==="$!"?l.lanes=8:l.lanes=1073741824,null;return V=Q.children,u=Q.fallback,X?(Q=l.mode,X=l.child,V={mode:"hidden",children:V},(Q&1)===0&&X!==null?(X.childLanes=0,X.pendingProps=V):X=m4(V,Q,0,null),u=h1(u,Q,z,null),X.return=l,u.return=l,X.sibling=u,l.child=X,l.child.memoizedState=l6(z),l.memoizedState=u6,u):m6(l,V)}if(U=u.memoizedState,U!==null&&(Z=U.dehydrated,Z!==null))return HJ(u,l,V,Q,Z,U,z);if(X){X=Q.fallback,V=l.mode,U=u.child,Z=U.sibling;var Y={mode:"hidden",children:Q.children};return(V&1)===0&&l.child!==U?(Q=l.child,Q.childLanes=0,Q.pendingProps=Y,l.deletions=null):(Q=J1(U,Y),Q.subtreeFlags=U.subtreeFlags&14680064),Z!==null?X=J1(Z,X):(X=h1(X,V,z,null),X.flags|=2),X.return=l,Q.return=l,Q.sibling=X,l.child=Q,Q=X,X=l.child,V=u.child.memoizedState,V=V===null?l6(z):{baseLanes:V.baseLanes|z,cachePool:null,transitions:V.transitions},X.memoizedState=V,X.childLanes=u.childLanes&~z,l.memoizedState=u6,Q}return X=u.child,u=X.sibling,Q=J1(X,{mode:"visible",children:Q.children}),(l.mode&1)===0&&(Q.lanes=z),Q.return=l,Q.sibling=null,u!==null&&(z=l.deletions,z===null?(l.deletions=[u],l.flags|=16):z.push(u)),l.child=Q,l.memoizedState=null,Q}function m6(u,l){return l=m4({mode:"visible",children:l},u.mode,0,null),l.return=u,u.child=l}function a3(u,l,z,Q){return Q!==null&&M6(Q),fl(l,u.child,null,z),u=m6(l,l.pendingProps.children),u.flags|=2,l.memoizedState=null,u}function HJ(u,l,z,Q,U,X,V){if(z){if(l.flags&256)return l.flags&=-257,Q=_5(Error(j(422))),a3(u,l,V,Q);if(l.memoizedState!==null)return l.child=u.child,l.flags|=128,null;return X=Q.fallback,U=l.mode,Q=m4({mode:"visible",children:Q.children},U,0,null),X=h1(X,U,V,null),X.flags|=2,Q.return=l,X.return=l,Q.sibling=X,l.child=Q,(l.mode&1)!==0&&fl(l,u.child,null,V),l.child.memoizedState=l6(V),l.memoizedState=u6,X}if((l.mode&1)===0)return a3(u,l,V,null);if(U.data==="$!"){if(Q=U.nextSibling&&U.nextSibling.dataset,Q)var Z=Q.dgst;return Q=Z,X=Error(j(419)),Q=_5(X,Q,void 0),a3(u,l,V,Q)}if(Z=(V&u.childLanes)!==0,wu||Z){if(Q=Lu,Q!==null){switch(V&-V){case 4:U=2;break;case 16:U=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:U=32;break;case 536870912:U=268435456;break;default:U=0}U=(U&(Q.suspendedLanes|V))!==0?0:U,U!==0&&U!==X.retryLane&&(X.retryLane=U,h0(u,U),K0(Q,u,U,-1))}return a6(),Q=_5(Error(j(421))),a3(u,l,V,Q)}if(U.data==="$?")return l.flags|=128,l.child=u.child,l=yJ.bind(null,u),U._reactRetry=l,null;return u=X.treeContext,nu=Y1(U.nextSibling),iu=l,i=!0,J0=null,u!==null&&(su[ou++]=$0,su[ou++]=x0,su[ou++]=c1,$0=u.id,x0=u.overflow,c1=l),l=m6(l,Q.children),l.flags|=4096,l}function n7(u,l,z){u.lanes|=l;var Q=u.alternate;Q!==null&&(Q.lanes|=l),d5(u.return,l,z)}function K5(u,l,z,Q,U){var X=u.memoizedState;X===null?u.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:Q,tail:z,tailMode:U}:(X.isBackwards=l,X.rendering=null,X.renderingStartTime=0,X.last=Q,X.tail=z,X.tailMode=U)}function kU(u,l,z){var Q=l.pendingProps,U=Q.revealOrder,X=Q.tail;if(Tu(u,l,Q.children,z),Q=p.current,(Q&2)!==0)Q=Q&1|2,l.flags|=128;else{if(u!==null&&(u.flags&128)!==0)u:for(u=l.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&n7(u,z,l);else if(u.tag===19)n7(u,z,l);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break u;for(;u.sibling===null;){if(u.return===null||u.return===l)break u;u=u.return}u.sibling.return=u.return,u=u.sibling}Q&=1}if(b(p,Q),(l.mode&1)===0)l.memoizedState=null;else switch(U){case"forwards":z=l.child;for(U=null;z!==null;)u=z.alternate,u!==null&&R4(u)===null&&(U=z),z=z.sibling;z=U,z===null?(U=l.child,l.child=null):(U=z.sibling,z.sibling=null),K5(l,!1,U,z,X);break;case"backwards":z=null,U=l.child;for(l.child=null;U!==null;){if(u=U.alternate,u!==null&&R4(u)===null){l.child=U;break}u=U.sibling,U.sibling=z,z=U,U=u}K5(l,!0,z,null,X);break;case"together":K5(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function X4(u,l){(l.mode&1)===0&&u!==null&&(u.alternate=null,l.alternate=null,l.flags|=2)}function b0(u,l,z){if(u!==null&&(l.dependencies=u.dependencies),n1|=l.lanes,(z&l.childLanes)===0)return null;if(u!==null&&l.child!==u.child)throw Error(j(153));if(l.child!==null){u=l.child,z=J1(u,u.pendingProps),l.child=z;for(z.return=l;u.sibling!==null;)u=u.sibling,z=z.sibling=J1(u,u.pendingProps),z.return=l;z.sibling=null}return l.child}function JJ(u,l,z){switch(l.tag){case 3:DU(l),kl();break;case 5:XU(l);break;case 1:hu(l.type)&&C4(l);break;case 4:$6(l,l.stateNode.containerInfo);break;case 10:var Q=l.type._context,U=l.memoizedProps.value;b(F4,Q._currentValue),Q._currentValue=U;break;case 13:if(Q=l.memoizedState,Q!==null){if(Q.dehydrated!==null)return b(p,p.current&1),l.flags|=128,null;if((z&l.child.childLanes)!==0)return SU(u,l,z);return b(p,p.current&1),u=b0(u,l,z),u!==null?u.sibling:null}b(p,p.current&1);break;case 19:if(Q=(z&l.childLanes)!==0,(u.flags&128)!==0){if(Q)return kU(u,l,z);l.flags|=128}if(U=l.memoizedState,U!==null&&(U.rendering=null,U.tail=null,U.lastEffect=null),b(p,p.current),Q)break;else return null;case 22:case 23:return l.lanes=0,MU(u,l,z)}return b0(u,l,z)}function K2(u,l){if(!i)switch(u.tailMode){case"hidden":l=u.tail;for(var z=null;l!==null;)l.alternate!==null&&(z=l),l=l.sibling;z===null?u.tail=null:z.sibling=null;break;case"collapsed":z=u.tail;for(var Q=null;z!==null;)z.alternate!==null&&(Q=z),z=z.sibling;Q===null?l||u.tail===null?u.tail=null:u.tail.sibling=null:Q.sibling=null}}function Fu(u){var l=u.alternate!==null&&u.alternate.child===u.child,z=0,Q=0;if(l)for(var U=u.child;U!==null;)z|=U.lanes|U.childLanes,Q|=U.subtreeFlags&14680064,Q|=U.flags&14680064,U.return=u,U=U.sibling;else for(U=u.child;U!==null;)z|=U.lanes|U.childLanes,Q|=U.subtreeFlags,Q|=U.flags,U.return=u,U=U.sibling;return u.subtreeFlags|=Q,u.childLanes=z,l}function _J(u,l,z){var Q=l.pendingProps;switch(O6(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fu(l),null;case 1:return hu(l.type)&&E4(),Fu(l),null;case 3:if(Q=l.stateNode,$l(),m(vu),m(yu),g6(),Q.pendingContext&&(Q.context=Q.pendingContext,Q.pendingContext=null),u===null||u.child===null)p3(l)?l.flags|=4:u===null||u.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,J0!==null&&(L6(J0),J0=null));return z6(u,l),Fu(l),null;case 5:x6(l);var U=w1(i2.current);if(z=l.type,u!==null&&l.stateNode!=null)$U(u,l,z,Q,U),u.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!Q){if(l.stateNode===null)throw Error(j(166));return Fu(l),null}if(u=w1(R0.current),p3(l)){Q=l.stateNode,z=l.type;var X=l.memoizedProps;switch(Q[j0]=l,Q[m2]=X,u=(l.mode&1)!==0,z){case"dialog":c("cancel",Q),c("close",Q);break;case"iframe":case"object":case"embed":c("load",Q);break;case"video":case"audio":for(U=0;U<j2.length;U++)c(j2[U],Q);break;case"source":c("error",Q);break;case"img":case"image":case"link":c("error",Q),c("load",Q);break;case"details":c("toggle",Q);break;case"input":u7(Q,X),c("invalid",Q);break;case"select":Q._wrapperState={wasMultiple:!!X.multiple},c("invalid",Q);break;case"textarea":z7(Q,X),c("invalid",Q)}A5(z,X),U=null;for(var V in X)if(X.hasOwnProperty(V)){var Z=X[V];V==="children"?typeof Z==="string"?Q.textContent!==Z&&(X.suppressHydrationWarning!==!0&&r3(Q.textContent,Z,u),U=["children",Z]):typeof Z==="number"&&Q.textContent!==""+Z&&(X.suppressHydrationWarning!==!0&&r3(Q.textContent,Z,u),U=["children",""+Z]):k2.hasOwnProperty(V)&&Z!=null&&V==="onScroll"&&c("scroll",Q)}switch(z){case"input":w3(Q),l7(Q,X,!0);break;case"textarea":w3(Q),Q7(Q);break;case"select":case"option":break;default:typeof X.onClick==="function"&&(Q.onclick=P4)}Q=U,l.updateQueue=Q,Q!==null&&(l.flags|=4)}else{V=U.nodeType===9?U:U.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=LQ(z)),u==="http://www.w3.org/1999/xhtml"?z==="script"?(u=V.createElement("div"),u.innerHTML="<script></script>",u=u.removeChild(u.firstChild)):typeof Q.is==="string"?u=V.createElement(z,{is:Q.is}):(u=V.createElement(z),z==="select"&&(V=u,Q.multiple?V.multiple=!0:Q.size&&(V.size=Q.size))):u=V.createElementNS(u,z),u[j0]=l,u[m2]=Q,fU(u,l,!1,!1),l.stateNode=u;u:{switch(V=O5(z,Q),z){case"dialog":c("cancel",u),c("close",u),U=Q;break;case"iframe":case"object":case"embed":c("load",u),U=Q;break;case"video":case"audio":for(U=0;U<j2.length;U++)c(j2[U],u);U=Q;break;case"source":c("error",u),U=Q;break;case"img":case"image":case"link":c("error",u),c("load",u),U=Q;break;case"details":c("toggle",u),U=Q;break;case"input":u7(u,Q),U=F5(u,Q),c("invalid",u);break;case"option":U=Q;break;case"select":u._wrapperState={wasMultiple:!!Q.multiple},U=a({},Q,{value:void 0}),c("invalid",u);break;case"textarea":z7(u,Q),U=R5(u,Q),c("invalid",u);break;default:U=Q}A5(z,U),Z=U;for(X in Z)if(Z.hasOwnProperty(X)){var Y=Z[X];X==="style"?_Q(u,Y):X==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,Y!=null&&HQ(u,Y)):X==="children"?typeof Y==="string"?(z!=="textarea"||Y!=="")&&f2(u,Y):typeof Y==="number"&&f2(u,""+Y):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(k2.hasOwnProperty(X)?Y!=null&&X==="onScroll"&&c("scroll",u):Y!=null&&_6(u,X,Y,V))}switch(z){case"input":w3(u),l7(u,Q,!1);break;case"textarea":w3(u),Q7(u);break;case"option":Q.value!=null&&u.setAttribute("value",""+_1(Q.value));break;case"select":u.multiple=!!Q.multiple,X=Q.value,X!=null?Rl(u,!!Q.multiple,X,!1):Q.defaultValue!=null&&Rl(u,!!Q.multiple,Q.defaultValue,!0);break;default:typeof U.onClick==="function"&&(u.onclick=P4)}switch(z){case"button":case"input":case"select":case"textarea":Q=!!Q.autoFocus;break u;case"img":Q=!0;break u;default:Q=!1}}Q&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Fu(l),null;case 6:if(u&&l.stateNode!=null)xU(u,l,u.memoizedProps,Q);else{if(typeof Q!=="string"&&l.stateNode===null)throw Error(j(166));if(z=w1(i2.current),w1(R0.current),p3(l)){if(Q=l.stateNode,z=l.memoizedProps,Q[j0]=l,X=Q.nodeValue!==z){if(u=iu,u!==null)switch(u.tag){case 3:r3(Q.nodeValue,z,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&r3(Q.nodeValue,z,(u.mode&1)!==0)}}X&&(l.flags|=4)}else Q=(z.nodeType===9?z:z.ownerDocument).createTextNode(Q),Q[j0]=l,l.stateNode=Q}return Fu(l),null;case 13:if(m(p),Q=l.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(i&&nu!==null&&(l.mode&1)!==0&&(l.flags&128)===0)uU(),kl(),l.flags|=98560,X=!1;else if(X=p3(l),Q!==null&&Q.dehydrated!==null){if(u===null){if(!X)throw Error(j(318));if(X=l.memoizedState,X=X!==null?X.dehydrated:null,!X)throw Error(j(317));X[j0]=l}else kl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Fu(l),X=!1}else J0!==null&&(L6(J0),J0=null),X=!0;if(!X)return l.flags&65536?l:null}if((l.flags&128)!==0)return l.lanes=z,l;return Q=Q!==null,Q!==(u!==null&&u.memoizedState!==null)&&Q&&(l.child.flags|=8192,(l.mode&1)!==0&&(u===null||(p.current&1)!==0?Yu===0&&(Yu=3):a6())),l.updateQueue!==null&&(l.flags|=4),Fu(l),null;case 4:return $l(),z6(u,l),u===null&&b2(l.stateNode.containerInfo),Fu(l),null;case 10:return S6(l.type._context),Fu(l),null;case 17:return hu(l.type)&&E4(),Fu(l),null;case 19:if(m(p),X=l.memoizedState,X===null)return Fu(l),null;if(Q=(l.flags&128)!==0,V=X.rendering,V===null)if(Q)K2(X,!1);else{if(Yu!==0||u!==null&&(u.flags&128)!==0)for(u=l.child;u!==null;){if(V=R4(u),V!==null){l.flags|=128,K2(X,!1),Q=V.updateQueue,Q!==null&&(l.updateQueue=Q,l.flags|=4),l.subtreeFlags=0,Q=z;for(z=l.child;z!==null;)X=z,u=Q,X.flags&=14680066,V=X.alternate,V===null?(X.childLanes=0,X.lanes=u,X.child=null,X.subtreeFlags=0,X.memoizedProps=null,X.memoizedState=null,X.updateQueue=null,X.dependencies=null,X.stateNode=null):(X.childLanes=V.childLanes,X.lanes=V.lanes,X.child=V.child,X.subtreeFlags=0,X.deletions=null,X.memoizedProps=V.memoizedProps,X.memoizedState=V.memoizedState,X.updateQueue=V.updateQueue,X.type=V.type,u=V.dependencies,X.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),z=z.sibling;return b(p,p.current&1|2),l.child}u=u.sibling}X.tail!==null&&zu()>gl&&(l.flags|=128,Q=!0,K2(X,!1),l.lanes=4194304)}else{if(!Q)if(u=R4(V),u!==null){if(l.flags|=128,Q=!0,z=u.updateQueue,z!==null&&(l.updateQueue=z,l.flags|=4),K2(X,!0),X.tail===null&&X.tailMode==="hidden"&&!V.alternate&&!i)return Fu(l),null}else 2*zu()-X.renderingStartTime>gl&&z!==1073741824&&(l.flags|=128,Q=!0,K2(X,!1),l.lanes=4194304);X.isBackwards?(V.sibling=l.child,l.child=V):(z=X.last,z!==null?z.sibling=V:l.child=V,X.last=V)}if(X.tail!==null)return l=X.tail,X.rendering=l,X.tail=l.sibling,X.renderingStartTime=zu(),l.sibling=null,z=p.current,b(p,Q?z&1|2:z&1),l;return Fu(l),null;case 22:case 23:return d6(),Q=l.memoizedState!==null,u!==null&&u.memoizedState!==null!==Q&&(l.flags|=8192),Q&&(l.mode&1)!==0?(mu&1073741824)!==0&&(Fu(l),l.subtreeFlags&6&&(l.flags|=8192)):Fu(l),null;case 24:return null;case 25:return null}throw Error(j(156,l.tag))}function KJ(u,l){switch(O6(l),l.tag){case 1:return hu(l.type)&&E4(),u=l.flags,u&65536?(l.flags=u&-65537|128,l):null;case 3:return $l(),m(vu),m(yu),g6(),u=l.flags,(u&65536)!==0&&(u&128)===0?(l.flags=u&-65537|128,l):null;case 5:return x6(l),null;case 13:if(m(p),u=l.memoizedState,u!==null&&u.dehydrated!==null){if(l.alternate===null)throw Error(j(340));kl()}return u=l.flags,u&65536?(l.flags=u&-65537|128,l):null;case 19:return m(p),null;case 4:return $l(),null;case 10:return S6(l.type._context),null;case 22:case 23:return d6(),null;case 24:return null;default:return null}}function jl(u,l){var z=u.ref;if(z!==null)if(typeof z==="function")try{z(null)}catch(Q){t(u,l,Q)}else z.current=null}function Q6(u,l,z){try{z()}catch(Q){t(u,l,Q)}}function qJ(u,l){if(h5=K4,u=bQ(),N6(u)){if("selectionStart"in u)var z={start:u.selectionStart,end:u.selectionEnd};else u:{z=(z=u.ownerDocument)&&z.defaultView||window;var Q=z.getSelection&&z.getSelection();if(Q&&Q.rangeCount!==0){z=Q.anchorNode;var{anchorOffset:U,focusNode:X}=Q;Q=Q.focusOffset;try{z.nodeType,X.nodeType}catch(B){z=null;break u}var V=0,Z=-1,Y=-1,W=0,L=0,H=u,J=null;l:for(;;){for(var K;;){if(H!==z||U!==0&&H.nodeType!==3||(Z=V+U),H!==X||Q!==0&&H.nodeType!==3||(Y=V+Q),H.nodeType===3&&(V+=H.nodeValue.length),(K=H.firstChild)===null)break;J=H,H=K}for(;;){if(H===u)break l;if(J===z&&++W===U&&(Z=V),J===X&&++L===Q&&(Y=V),(K=H.nextSibling)!==null)break;H=J,J=H.parentNode}H=K}z=Z===-1||Y===-1?null:{start:Z,end:Y}}else z=null}z=z||{start:0,end:0}}else z=null;b5={focusedElem:u,selectionRange:z},K4=!1;for(O=l;O!==null;)if(l=O,u=l.child,(l.subtreeFlags&1028)!==0&&u!==null)u.return=l,O=u;else for(;O!==null;){l=O;try{var _=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var{memoizedProps:q,memoizedState:E}=_,G=l.stateNode,P=G.getSnapshotBeforeUpdate(l.elementType===l.type?q:L0(l.type,q),E);G.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var C=l.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(B){t(l,l.return,B)}if(u=l.sibling,u!==null){u.return=l.return,O=u;break}O=l.return}return _=i7,i7=!1,_}function T2(u,l,z){var Q=l.updateQueue;if(Q=Q!==null?Q.lastEffect:null,Q!==null){var U=Q=Q.next;do{if((U.tag&u)===u){var X=U.destroy;U.destroy=void 0,X!==void 0&&Q6(l,z,X)}U=U.next}while(U!==Q)}}function b4(u,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var z=l=l.next;do{if((z.tag&u)===u){var Q=z.create;z.destroy=Q()}z=z.next}while(z!==l)}}function U6(u){var l=u.ref;if(l!==null){var z=u.stateNode;switch(u.tag){case 5:u=z;break;default:u=z}typeof l==="function"?l(u):l.current=u}}function gU(u){var l=u.alternate;l!==null&&(u.alternate=null,gU(l)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(l=u.stateNode,l!==null&&(delete l[j0],delete l[m2],delete l[n5],delete l[tH],delete l[eH])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function wU(u){return u.tag===5||u.tag===3||u.tag===4}function r7(u){u:for(;;){for(;u.sibling===null;){if(u.return===null||wU(u.return))return null;u=u.return}u.sibling.return=u.return;for(u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2)continue u;if(u.child===null||u.tag===4)continue u;else u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function X6(u,l,z){var Q=u.tag;if(Q===5||Q===6)u=u.stateNode,l?z.nodeType===8?z.parentNode.insertBefore(u,l):z.insertBefore(u,l):(z.nodeType===8?(l=z.parentNode,l.insertBefore(u,z)):(l=z,l.appendChild(u)),z=z._reactRootContainer,z!==null&&z!==void 0||l.onclick!==null||(l.onclick=P4));else if(Q!==4&&(u=u.child,u!==null))for(X6(u,l,z),u=u.sibling;u!==null;)X6(u,l,z),u=u.sibling}function V6(u,l,z){var Q=u.tag;if(Q===5||Q===6)u=u.stateNode,l?z.insertBefore(u,l):z.appendChild(u);else if(Q!==4&&(u=u.child,u!==null))for(V6(u,l,z),u=u.sibling;u!==null;)V6(u,l,z),u=u.sibling}function t0(u,l,z){for(z=z.child;z!==null;)vU(u,l,z),z=z.sibling}function vU(u,l,z){if(y0&&typeof y0.onCommitFiberUnmount==="function")try{y0.onCommitFiberUnmount(k4,z)}catch(Z){}switch(z.tag){case 5:ju||jl(z,l);case 6:var Q=Ju,U=H0;Ju=null,t0(u,l,z),Ju=Q,H0=U,Ju!==null&&(H0?(u=Ju,z=z.stateNode,u.nodeType===8?u.parentNode.removeChild(z):u.removeChild(z)):Ju.removeChild(z.stateNode));break;case 18:Ju!==null&&(H0?(u=Ju,z=z.stateNode,u.nodeType===8?Z5(u.parentNode,z):u.nodeType===1&&Z5(u,z),w2(u)):Z5(Ju,z.stateNode));break;case 4:Q=Ju,U=H0,Ju=z.stateNode.containerInfo,H0=!0,t0(u,l,z),Ju=Q,H0=U;break;case 0:case 11:case 14:case 15:if(!ju&&(Q=z.updateQueue,Q!==null&&(Q=Q.lastEffect,Q!==null))){U=Q=Q.next;do{var X=U,V=X.destroy;X=X.tag,V!==void 0&&((X&2)!==0?Q6(z,l,V):(X&4)!==0&&Q6(z,l,V)),U=U.next}while(U!==Q)}t0(u,l,z);break;case 1:if(!ju&&(jl(z,l),Q=z.stateNode,typeof Q.componentWillUnmount==="function"))try{Q.props=z.memoizedProps,Q.state=z.memoizedState,Q.componentWillUnmount()}catch(Z){t(z,l,Z)}t0(u,l,z);break;case 21:t0(u,l,z);break;case 22:z.mode&1?(ju=(Q=ju)||z.memoizedState!==null,t0(u,l,z),ju=Q):t0(u,l,z);break;default:t0(u,l,z)}}function p7(u){var l=u.updateQueue;if(l!==null){u.updateQueue=null;var z=u.stateNode;z===null&&(z=u.stateNode=new GJ),l.forEach(function(Q){var U=RJ.bind(null,u,Q);z.has(Q)||(z.add(Q),Q.then(U,U))})}}function W0(u,l){var z=l.deletions;if(z!==null)for(var Q=0;Q<z.length;Q++){var U=z[Q];try{var X=u,V=l,Z=V;u:for(;Z!==null;){switch(Z.tag){case 5:Ju=Z.stateNode,H0=!1;break u;case 3:Ju=Z.stateNode.containerInfo,H0=!0;break u;case 4:Ju=Z.stateNode.containerInfo,H0=!0;break u}Z=Z.return}if(Ju===null)throw Error(j(160));vU(X,V,U),Ju=null,H0=!1;var Y=U.alternate;Y!==null&&(Y.return=null),U.return=null}catch(W){t(U,l,W)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)hU(l,u),l=l.sibling}function hU(u,l){var{alternate:z,flags:Q}=u;switch(u.tag){case 0:case 11:case 14:case 15:if(W0(l,u),I0(u),Q&4){try{T2(3,u,u.return),b4(3,u)}catch(q){t(u,u.return,q)}try{T2(5,u,u.return)}catch(q){t(u,u.return,q)}}break;case 1:W0(l,u),I0(u),Q&512&&z!==null&&jl(z,z.return);break;case 5:if(W0(l,u),I0(u),Q&512&&z!==null&&jl(z,z.return),u.flags&32){var U=u.stateNode;try{f2(U,"")}catch(q){t(u,u.return,q)}}if(Q&4&&(U=u.stateNode,U!=null)){var X=u.memoizedProps,V=z!==null?z.memoizedProps:X,Z=u.type,Y=u.updateQueue;if(u.updateQueue=null,Y!==null)try{Z==="input"&&X.type==="radio"&&X.name!=null&&YQ(U,X),O5(Z,V);var W=O5(Z,X);for(V=0;V<Y.length;V+=2){var L=Y[V],H=Y[V+1];L==="style"?_Q(U,H):L==="dangerouslySetInnerHTML"?HQ(U,H):L==="children"?f2(U,H):_6(U,L,H,W)}switch(Z){case"input":j5(U,X);break;case"textarea":WQ(U,X);break;case"select":var J=U._wrapperState.wasMultiple;U._wrapperState.wasMultiple=!!X.multiple;var K=X.value;K!=null?Rl(U,!!X.multiple,K,!1):J!==!!X.multiple&&(X.defaultValue!=null?Rl(U,!!X.multiple,X.defaultValue,!0):Rl(U,!!X.multiple,X.multiple?[]:"",!1))}U[m2]=X}catch(q){t(u,u.return,q)}}break;case 6:if(W0(l,u),I0(u),Q&4){if(u.stateNode===null)throw Error(j(162));U=u.stateNode,X=u.memoizedProps;try{U.nodeValue=X}catch(q){t(u,u.return,q)}}break;case 3:if(W0(l,u),I0(u),Q&4&&z!==null&&z.memoizedState.isDehydrated)try{w2(l.containerInfo)}catch(q){t(u,u.return,q)}break;case 4:W0(l,u),I0(u);break;case 13:W0(l,u),I0(u),U=u.child,U.flags&8192&&(X=U.memoizedState!==null,U.stateNode.isHidden=X,!X||U.alternate!==null&&U.alternate.memoizedState!==null||(r6=zu())),Q&4&&p7(u);break;case 22:if(L=z!==null&&z.memoizedState!==null,u.mode&1?(ju=(W=ju)||L,W0(l,u),ju=W):W0(l,u),I0(u),Q&8192){if(W=u.memoizedState!==null,(u.stateNode.isHidden=W)&&!L&&(u.mode&1)!==0)for(O=u,L=u.child;L!==null;){for(H=O=L;O!==null;){switch(J=O,K=J.child,J.tag){case 0:case 11:case 14:case 15:T2(4,J,J.return);break;case 1:jl(J,J.return);var _=J.stateNode;if(typeof _.componentWillUnmount==="function"){Q=J,z=J.return;try{l=Q,_.props=l.memoizedProps,_.state=l.memoizedState,_.componentWillUnmount()}catch(q){t(Q,z,q)}}break;case 5:jl(J,J.return);break;case 22:if(J.memoizedState!==null){a7(H);continue}}K!==null?(K.return=J,O=K):a7(H)}L=L.sibling}u:for(L=null,H=u;;){if(H.tag===5){if(L===null){L=H;try{U=H.stateNode,W?(X=U.style,typeof X.setProperty==="function"?X.setProperty("display","none","important"):X.display="none"):(Z=H.stateNode,Y=H.memoizedProps.style,V=Y!==void 0&&Y!==null&&Y.hasOwnProperty("display")?Y.display:null,Z.style.display=JQ("display",V))}catch(q){t(u,u.return,q)}}}else if(H.tag===6){if(L===null)try{H.stateNode.nodeValue=W?"":H.memoizedProps}catch(q){t(u,u.return,q)}}else if((H.tag!==22&&H.tag!==23||H.memoizedState===null||H===u)&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===u)break u;for(;H.sibling===null;){if(H.return===null||H.return===u)break u;L===H&&(L=null),H=H.return}L===H&&(L=null),H.sibling.return=H.return,H=H.sibling}}break;case 19:W0(l,u),I0(u),Q&4&&p7(u);break;case 21:break;default:W0(l,u),I0(u)}}function I0(u){var l=u.flags;if(l&2){try{u:{for(var z=u.return;z!==null;){if(wU(z)){var Q=z;break u}z=z.return}throw Error(j(160))}switch(Q.tag){case 5:var U=Q.stateNode;Q.flags&32&&(f2(U,""),Q.flags&=-33);var X=r7(u);V6(u,X,U);break;case 3:case 4:var V=Q.stateNode.containerInfo,Z=r7(u);X6(u,Z,V);break;default:throw Error(j(161))}}catch(Y){t(u,u.return,Y)}u.flags&=-3}l&4096&&(u.flags&=-4097)}function PJ(u,l,z){O=u,bU(u,l,z)}function bU(u,l,z){for(var Q=(u.mode&1)!==0;O!==null;){var U=O,X=U.child;if(U.tag===22&&Q){var V=U.memoizedState!==null||s3;if(!V){var Z=U.alternate,Y=Z!==null&&Z.memoizedState!==null||ju;Z=s3;var W=ju;if(s3=V,(ju=Y)&&!W)for(O=U;O!==null;)V=O,Y=V.child,V.tag===22&&V.memoizedState!==null?s7(U):Y!==null?(Y.return=V,O=Y):s7(U);for(;X!==null;)O=X,bU(X,l,z),X=X.sibling;O=U,s3=Z,ju=W}d7(u,l,z)}else(U.subtreeFlags&8772)!==0&&X!==null?(X.return=U,O=X):d7(u,l,z)}}function d7(u){for(;O!==null;){var l=O;if((l.flags&8772)!==0){var z=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:ju||b4(5,l);break;case 1:var Q=l.stateNode;if(l.flags&4&&!ju)if(z===null)Q.componentDidMount();else{var U=l.elementType===l.type?z.memoizedProps:L0(l.type,z.memoizedProps);Q.componentDidUpdate(U,z.memoizedState,Q.__reactInternalSnapshotBeforeUpdate)}var X=l.updateQueue;X!==null&&S7(l,X,Q);break;case 3:var V=l.updateQueue;if(V!==null){if(z=null,l.child!==null)switch(l.child.tag){case 5:z=l.child.stateNode;break;case 1:z=l.child.stateNode}S7(l,V,z)}break;case 5:var Z=l.stateNode;if(z===null&&l.flags&4){z=Z;var Y=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":Y.autoFocus&&z.focus();break;case"img":Y.src&&(z.src=Y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var W=l.alternate;if(W!==null){var L=W.memoizedState;if(L!==null){var H=L.dehydrated;H!==null&&w2(H)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}ju||l.flags&512&&U6(l)}catch(J){t(l,l.return,J)}}if(l===u){O=null;break}if(z=l.sibling,z!==null){z.return=l.return,O=z;break}O=l.return}}function a7(u){for(;O!==null;){var l=O;if(l===u){O=null;break}var z=l.sibling;if(z!==null){z.return=l.return,O=z;break}O=l.return}}function s7(u){for(;O!==null;){var l=O;try{switch(l.tag){case 0:case 11:case 15:var z=l.return;try{b4(4,l)}catch(Y){t(l,z,Y)}break;case 1:var Q=l.stateNode;if(typeof Q.componentDidMount==="function"){var U=l.return;try{Q.componentDidMount()}catch(Y){t(l,U,Y)}}var X=l.return;try{U6(l)}catch(Y){t(l,X,Y)}break;case 5:var V=l.return;try{U6(l)}catch(Y){t(l,V,Y)}}}catch(Y){t(l,l.return,Y)}if(l===u){O=null;break}var Z=l.sibling;if(Z!==null){Z.return=l.return,O=Z;break}O=l.return}}function Du(){return(g&6)!==0?zu():V4!==-1?V4:V4=zu()}function H1(u){if((u.mode&1)===0)return 1;if((g&2)!==0&&_u!==0)return _u&-_u;if(lJ.transition!==null)return Z4===0&&(Z4=RQ()),Z4;if(u=v,u!==0)return u;return u=window.event,u=u===void 0?16:SQ(u.type),u}function K0(u,l,z,Q){if(50<S2)throw S2=0,Y6=null,Error(j(185));if(s2(u,z,Q),(g&2)===0||u!==Lu)u===Lu&&((g&2)===0&&(c4|=z),Yu===4&&z1(u,_u)),bu(u,Q),z===1&&g===0&&(l.mode&1)===0&&(gl=zu()+500,w4&&P1())}function bu(u,l){var z=u.callbackNode;QH(u,l);var Q=_4(u,u===Lu?_u:0);if(Q===0)z!==null&&V7(z),u.callbackNode=null,u.callbackPriority=0;else if(l=Q&-Q,u.callbackPriority!==l){if(z!=null&&V7(z),l===1)u.tag===0?uJ(o7.bind(null,u)):oQ(o7.bind(null,u)),sH(function(){(g&6)===0&&P1()}),z=null;else{switch(NQ(Q)){case 1:z=E6;break;case 4:z=jQ;break;case 16:z=J4;break;case 536870912:z=yQ;break;default:z=J4}z=aU(z,cU.bind(null,u))}u.callbackPriority=l,u.callbackNode=z}}function cU(u,l){if(V4=-1,Z4=0,(g&6)!==0)throw Error(j(327));var z=u.callbackNode;if(Tl()&&u.callbackNode!==z)return null;var Q=_4(u,u===Lu?_u:0);if(Q===0)return null;if((Q&30)!==0||(Q&u.expiredLanes)!==0||l)l=D4(u,Q);else{l=Q;var U=g;g|=2;var X=nU();if(Lu!==u||_u!==l)k0=null,gl=zu()+500,v1(u,l);do try{IJ();break}catch(Z){mU(u,Z)}while(1);D6(),O4.current=X,g=U,Xu!==null?l=0:(Lu=null,_u=0,l=Yu)}if(l!==0){if(l===2&&(U=k5(u),U!==0&&(Q=U,l=W6(u,U))),l===1)throw z=a2,v1(u,0),z1(u,Q),bu(u,zu()),z;if(l===6)z1(u,Q);else{if(U=u.current.alternate,(Q&30)===0&&!CJ(U)&&(l=D4(u,Q),l===2&&(X=k5(u),X!==0&&(Q=X,l=W6(u,X))),l===1))throw z=a2,v1(u,0),z1(u,Q),bu(u,zu()),z;switch(u.finishedWork=U,u.finishedLanes=Q,l){case 0:case 1:throw Error(j(345));case 2:$1(u,gu,k0);break;case 3:if(z1(u,Q),(Q&130023424)===Q&&(l=r6+500-zu(),10<l)){if(_4(u,0)!==0)break;if(U=u.suspendedLanes,(U&Q)!==Q){Du(),u.pingedLanes|=u.suspendedLanes&U;break}u.timeoutHandle=m5($1.bind(null,u,gu,k0),l);break}$1(u,gu,k0);break;case 4:if(z1(u,Q),(Q&4194240)===Q)break;l=u.eventTimes;for(U=-1;0<Q;){var V=31-_0(Q);X=1<<V,V=l[V],V>U&&(U=V),Q&=~X}if(Q=U,Q=zu()-Q,Q=(120>Q?120:480>Q?480:1080>Q?1080:1920>Q?1920:3000>Q?3000:4320>Q?4320:1960*EJ(Q/1960))-Q,10<Q){u.timeoutHandle=m5($1.bind(null,u,gu,k0),Q);break}$1(u,gu,k0);break;case 5:$1(u,gu,k0);break;default:throw Error(j(329))}}}return bu(u,zu()),u.callbackNode===z?cU.bind(null,u):null}function W6(u,l){var z=D2;return u.current.memoizedState.isDehydrated&&(v1(u,l).flags|=256),u=D4(u,l),u!==2&&(l=gu,gu=z,l!==null&&L6(l)),u}function L6(u){gu===null?gu=u:gu.push.apply(gu,u)}function CJ(u){for(var l=u;;){if(l.flags&16384){var z=l.updateQueue;if(z!==null&&(z=z.stores,z!==null))for(var Q=0;Q<z.length;Q++){var U=z[Q],X=U.getSnapshot;U=U.value;try{if(!G0(X(),U))return!1}catch(V){return!1}}}if(z=l.child,l.subtreeFlags&16384&&z!==null)z.return=l,l=z;else{if(l===u)break;for(;l.sibling===null;){if(l.return===null||l.return===u)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function z1(u,l){l&=~i6,l&=~c4,u.suspendedLanes|=l,u.pingedLanes&=~l;for(u=u.expirationTimes;0<l;){var z=31-_0(l),Q=1<<z;u[z]=-1,l&=~Q}}function o7(u){if((g&6)!==0)throw Error(j(327));Tl();var l=_4(u,0);if((l&1)===0)return bu(u,zu()),null;var z=D4(u,l);if(u.tag!==0&&z===2){var Q=k5(u);Q!==0&&(l=Q,z=W6(u,Q))}if(z===1)throw z=a2,v1(u,0),z1(u,l),bu(u,zu()),z;if(z===6)throw Error(j(345));return u.finishedWork=u.current.alternate,u.finishedLanes=l,$1(u,gu,k0),bu(u,zu()),null}function p6(u,l){var z=g;g|=1;try{return u(l)}finally{g=z,g===0&&(gl=zu()+500,w4&&P1())}}function i1(u){U1!==null&&U1.tag===0&&(g&6)===0&&Tl();var l=g;g|=1;var z=eu.transition,Q=v;try{if(eu.transition=null,v=1,u)return u()}finally{v=Q,eu.transition=z,g=l,(g&6)===0&&P1()}}function d6(){mu=yl.current,m(yl)}function v1(u,l){u.finishedWork=null,u.finishedLanes=0;var z=u.timeoutHandle;if(z!==-1&&(u.timeoutHandle=-1,aH(z)),Xu!==null)for(z=Xu.return;z!==null;){var Q=z;switch(O6(Q),Q.tag){case 1:Q=Q.type.childContextTypes,Q!==null&&Q!==void 0&&E4();break;case 3:$l(),m(vu),m(yu),g6();break;case 5:x6(Q);break;case 4:$l();break;case 13:m(p);break;case 19:m(p);break;case 10:S6(Q.type._context);break;case 22:case 23:d6()}z=z.return}if(Lu=u,Xu=u=J1(u.current,null),_u=mu=l,Yu=0,a2=null,i6=c4=n1=0,gu=D2=null,g1!==null){for(l=0;l<g1.length;l++)if(z=g1[l],Q=z.interleaved,Q!==null){z.interleaved=null;var U=Q.next,X=z.pending;if(X!==null){var V=X.next;X.next=U,Q.next=V}z.pending=Q}g1=null}return u}function mU(u,l){do{var z=Xu;try{if(D6(),Q4.current=A4,N4){for(var Q=d.memoizedState;Q!==null;){var U=Q.queue;U!==null&&(U.pending=null),Q=Q.next}N4=!1}if(m1=0,Wu=Zu=d=null,M2=!1,r2=0,n6.current=null,z===null||z.return===null){Yu=1,a2=l,Xu=null;break}u:{var X=u,V=z.return,Z=z,Y=l;if(l=_u,Z.flags|=32768,Y!==null&&typeof Y==="object"&&typeof Y.then==="function"){var W=Y,L=Z,H=L.tag;if((L.mode&1)===0&&(H===0||H===11||H===15)){var J=L.alternate;J?(L.updateQueue=J.updateQueue,L.memoizedState=J.memoizedState,L.lanes=J.lanes):(L.updateQueue=null,L.memoizedState=null)}var K=w7(V);if(K!==null){K.flags&=-257,v7(K,V,Z,X,l),K.mode&1&&g7(X,W,l),l=K,Y=W;var _=l.updateQueue;if(_===null){var q=new Set;q.add(Y),l.updateQueue=q}else _.add(Y);break u}else{if((l&1)===0){g7(X,W,l),a6();break u}Y=Error(j(426))}}else if(i&&Z.mode&1){var E=w7(V);if(E!==null){(E.flags&65536)===0&&(E.flags|=256),v7(E,V,Z,X,l),M6(xl(Y,Z));break u}}X=Y=xl(Y,Z),Yu!==4&&(Yu=2),D2===null?D2=[X]:D2.push(X),X=V;do{switch(X.tag){case 3:X.flags|=65536,l&=-l,X.lanes|=l;var G=NU(X,Y,l);D7(X,G);break u;case 1:Z=Y;var{type:P,stateNode:C}=X;if((X.flags&128)===0&&(typeof P.getDerivedStateFromError==="function"||C!==null&&typeof C.componentDidCatch==="function"&&(L1===null||!L1.has(C)))){X.flags|=65536,l&=-l,X.lanes|=l;var B=AU(X,Z,l);D7(X,B);break u}}X=X.return}while(X!==null)}rU(z)}catch(y){l=y,Xu===z&&z!==null&&(Xu=z=z.return);continue}break}while(1)}function nU(){var u=O4.current;return O4.current=A4,u===null?A4:u}function a6(){if(Yu===0||Yu===3||Yu===2)Yu=4;Lu===null||(n1&268435455)===0&&(c4&268435455)===0||z1(Lu,_u)}function D4(u,l){var z=g;g|=2;var Q=nU();if(Lu!==u||_u!==l)k0=null,v1(u,l);do try{BJ();break}catch(U){mU(u,U)}while(1);if(D6(),g=z,O4.current=Q,Xu!==null)throw Error(j(261));return Lu=null,_u=0,Yu}function BJ(){for(;Xu!==null;)iU(Xu)}function IJ(){for(;Xu!==null&&!dL();)iU(Xu)}function iU(u){var l=dU(u.alternate,u,mu);u.memoizedProps=u.pendingProps,l===null?rU(u):Xu=l,n6.current=null}function rU(u){var l=u;do{var z=l.alternate;if(u=l.return,(l.flags&32768)===0){if(z=_J(z,l,mu),z!==null){Xu=z;return}}else{if(z=KJ(z,l),z!==null){z.flags&=32767,Xu=z;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{Yu=6,Xu=null;return}}if(l=l.sibling,l!==null){Xu=l;return}Xu=l=u}while(l!==null);Yu===0&&(Yu=5)}function $1(u,l,z){var Q=v,U=eu.transition;try{eu.transition=null,v=1,FJ(u,l,z,Q)}finally{eu.transition=U,v=Q}return null}function FJ(u,l,z,Q){do Tl();while(U1!==null);if((g&6)!==0)throw Error(j(327));z=u.finishedWork;var U=u.finishedLanes;if(z===null)return null;if(u.finishedWork=null,u.finishedLanes=0,z===u.current)throw Error(j(177));u.callbackNode=null,u.callbackPriority=0;var X=z.lanes|z.childLanes;if(UH(u,X),u===Lu&&(Xu=Lu=null,_u=0),(z.subtreeFlags&2064)===0&&(z.flags&2064)===0||o3||(o3=!0,aU(J4,function(){return Tl(),null})),X=(z.flags&15990)!==0,(z.subtreeFlags&15990)!==0||X){X=eu.transition,eu.transition=null;var V=v;v=1;var Z=g;g|=4,n6.current=null,qJ(u,z),hU(z,u),nH(b5),K4=!!h5,b5=h5=null,u.current=z,PJ(z,u,U),aL(),g=Z,v=V,eu.transition=X}else u.current=z;if(o3&&(o3=!1,U1=u,T4=U),X=u.pendingLanes,X===0&&(L1=null),tL(z.stateNode,Q),bu(u,zu()),l!==null)for(Q=u.onRecoverableError,z=0;z<l.length;z++)U=l[z],Q(U.value,{componentStack:U.stack,digest:U.digest});if(M4)throw M4=!1,u=Z6,Z6=null,u;return(T4&1)!==0&&u.tag!==0&&Tl(),X=u.pendingLanes,(X&1)!==0?u===Y6?S2++:(S2=0,Y6=u):S2=0,P1(),null}function Tl(){if(U1!==null){var u=NQ(T4),l=eu.transition,z=v;try{if(eu.transition=null,v=16>u?16:u,U1===null)var Q=!1;else{if(u=U1,U1=null,T4=0,(g&6)!==0)throw Error(j(331));var U=g;g|=4;for(O=u.current;O!==null;){var X=O,V=X.child;if((O.flags&16)!==0){var Z=X.deletions;if(Z!==null){for(var Y=0;Y<Z.length;Y++){var W=Z[Y];for(O=W;O!==null;){var L=O;switch(L.tag){case 0:case 11:case 15:T2(8,L,X)}var H=L.child;if(H!==null)H.return=L,O=H;else for(;O!==null;){L=O;var{sibling:J,return:K}=L;if(gU(L),L===W){O=null;break}if(J!==null){J.return=K,O=J;break}O=K}}}var _=X.alternate;if(_!==null){var q=_.child;if(q!==null){_.child=null;do{var E=q.sibling;q.sibling=null,q=E}while(q!==null)}}O=X}}if((X.subtreeFlags&2064)!==0&&V!==null)V.return=X,O=V;else u:for(;O!==null;){if(X=O,(X.flags&2048)!==0)switch(X.tag){case 0:case 11:case 15:T2(9,X,X.return)}var G=X.sibling;if(G!==null){G.return=X.return,O=G;break u}O=X.return}}var P=u.current;for(O=P;O!==null;){V=O;var C=V.child;if((V.subtreeFlags&2064)!==0&&C!==null)C.return=V,O=C;else u:for(V=P;O!==null;){if(Z=O,(Z.flags&2048)!==0)try{switch(Z.tag){case 0:case 11:case 15:b4(9,Z)}}catch(y){t(Z,Z.return,y)}if(Z===V){O=null;break u}var B=Z.sibling;if(B!==null){B.return=Z.return,O=B;break u}O=Z.return}}if(g=U,P1(),y0&&typeof y0.onPostCommitFiberRoot==="function")try{y0.onPostCommitFiberRoot(k4,u)}catch(y){}Q=!0}return Q}finally{v=z,eu.transition=l}}return!1}function t7(u,l,z){l=xl(z,l),l=NU(u,l,1),u=W1(u,l,1),l=Du(),u!==null&&(s2(u,1,l),bu(u,l))}function t(u,l,z){if(u.tag===3)t7(u,u,z);else for(;l!==null;){if(l.tag===3){t7(l,u,z);break}else if(l.tag===1){var Q=l.stateNode;if(typeof l.type.getDerivedStateFromError==="function"||typeof Q.componentDidCatch==="function"&&(L1===null||!L1.has(Q))){u=xl(z,u),u=AU(l,u,1),l=W1(l,u,1),u=Du(),l!==null&&(s2(l,1,u),bu(l,u));break}}l=l.return}}function jJ(u,l,z){var Q=u.pingCache;Q!==null&&Q.delete(l),l=Du(),u.pingedLanes|=u.suspendedLanes&z,Lu===u&&(_u&z)===z&&(Yu===4||Yu===3&&(_u&130023424)===_u&&500>zu()-r6?v1(u,0):i6|=z),bu(u,l)}function pU(u,l){l===0&&((u.mode&1)===0?l=1:(l=b3,b3<<=1,(b3&130023424)===0&&(b3=4194304)));var z=Du();u=h0(u,l),u!==null&&(s2(u,l,z),bu(u,z))}function yJ(u){var l=u.memoizedState,z=0;l!==null&&(z=l.retryLane),pU(u,z)}function RJ(u,l){var z=0;switch(u.tag){case 13:var{stateNode:Q,memoizedState:U}=u;U!==null&&(z=U.retryLane);break;case 19:Q=u.stateNode;break;default:throw Error(j(314))}Q!==null&&Q.delete(l),pU(u,z)}function aU(u,l){return FQ(u,l)}function NJ(u,l,z,Q){this.tag=u,this.key=z,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=Q,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tu(u,l,z,Q){return new NJ(u,l,z,Q)}function s6(u){return u=u.prototype,!(!u||!u.isReactComponent)}function AJ(u){if(typeof u==="function")return s6(u)?1:0;if(u!==void 0&&u!==null){if(u=u.$$typeof,u===G6)return 11;if(u===q6)return 14}return 2}function J1(u,l){var z=u.alternate;return z===null?(z=tu(u.tag,l,u.key,u.mode),z.elementType=u.elementType,z.type=u.type,z.stateNode=u.stateNode,z.alternate=u,u.alternate=z):(z.pendingProps=l,z.type=u.type,z.flags=0,z.subtreeFlags=0,z.deletions=null),z.flags=u.flags&14680064,z.childLanes=u.childLanes,z.lanes=u.lanes,z.child=u.child,z.memoizedProps=u.memoizedProps,z.memoizedState=u.memoizedState,z.updateQueue=u.updateQueue,l=u.dependencies,z.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},z.sibling=u.sibling,z.index=u.index,z.ref=u.ref,z}function Y4(u,l,z,Q,U,X){var V=2;if(Q=u,typeof u==="function")s6(u)&&(V=1);else if(typeof u==="string")V=5;else u:switch(u){case Kl:return h1(z.children,U,X,l);case K6:V=8,U|=8;break;case E5:return u=tu(12,z,l,U|2),u.elementType=E5,u.lanes=X,u;case C5:return u=tu(13,z,l,U),u.elementType=C5,u.lanes=X,u;case B5:return u=tu(19,z,l,U),u.elementType=B5,u.lanes=X,u;case XQ:return m4(z,U,X,l);default:if(typeof u==="object"&&u!==null)switch(u.$$typeof){case QQ:V=10;break u;case UQ:V=9;break u;case G6:V=11;break u;case q6:V=14;break u;case e0:V=16,Q=null;break u}throw Error(j(130,u==null?u:typeof u,""))}return l=tu(V,z,l,U),l.elementType=u,l.type=Q,l.lanes=X,l}function h1(u,l,z,Q){return u=tu(7,u,Q,l),u.lanes=z,u}function m4(u,l,z,Q){return u=tu(22,u,Q,l),u.elementType=XQ,u.lanes=z,u.stateNode={isHidden:!1},u}function G5(u,l,z){return u=tu(6,u,null,l),u.lanes=z,u}function q5(u,l,z){return l=tu(4,u.children!==null?u.children:[],u.key,l),l.lanes=z,l.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},l}function OJ(u,l,z,Q,U){this.tag=l,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=u5(0),this.expirationTimes=u5(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=u5(0),this.identifierPrefix=Q,this.onRecoverableError=U,this.mutableSourceEagerHydrationData=null}function o6(u,l,z,Q,U,X,V,Z,Y){return u=new OJ(u,l,z,Z,Y),l===1?(l=1,X===!0&&(l|=8)):l=0,X=tu(3,null,null,l),u.current=X,X.stateNode=u,X.memoizedState={element:Q,isDehydrated:z,cache:null,transitions:null,pendingSuspenseBoundaries:null},f6(X),u}function MJ(u,l,z){var Q=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_l,key:Q==null?null:""+Q,children:u,containerInfo:l,implementation:z}}function sU(u){if(!u)return K1;u=u._reactInternals;u:{if(p1(u)!==u||u.tag!==1)throw Error(j(170));var l=u;do{switch(l.tag){case 3:l=l.stateNode.context;break u;case 1:if(hu(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break u}}l=l.return}while(l!==null);throw Error(j(171))}if(u.tag===1){var z=u.type;if(hu(z))return sQ(u,z,l)}return l}function oU(u,l,z,Q,U,X,V,Z,Y){return u=o6(z,Q,!0,u,U,X,V,Z,Y),u.context=sU(null),z=u.current,Q=Du(),U=H1(z),X=g0(Q,U),X.callback=l!==void 0&&l!==null?l:null,W1(z,X,U),u.current.lanes=U,s2(u,U,Q),bu(u,Q),u}function n4(u,l,z,Q){var U=l.current,X=Du(),V=H1(U);return z=sU(z),l.context===null?l.context=z:l.pendingContext=z,l=g0(X,V),l.payload={element:u},Q=Q===void 0?null:Q,Q!==null&&(l.callback=Q),u=W1(U,l,V),u!==null&&(K0(u,U,V,X),z4(u,U,V)),V}function S4(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return u.child.stateNode;default:return u.child.stateNode}}function e7(u,l){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var z=u.retryLane;u.retryLane=z!==0&&z<l?z:l}}function t6(u,l){e7(u,l),(u=u.alternate)&&e7(u,l)}function TJ(){return null}function e6(u){this._internalRoot=u}function i4(u){this._internalRoot=u}function uz(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function r4(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function uQ(){}function DJ(u,l,z,Q,U){if(U){if(typeof Q==="function"){var X=Q;Q=function(){var W=S4(V);X.call(W)}}var V=oU(l,Q,u,0,null,!1,!1,"",uQ);return u._reactRootContainer=V,u[v0]=V.current,b2(u.nodeType===8?u.parentNode:u),i1(),V}for(;U=u.lastChild;)u.removeChild(U);if(typeof Q==="function"){var Z=Q;Q=function(){var W=S4(Y);Z.call(W)}}var Y=o6(u,0,!1,null,null,!1,!1,"",uQ);return u._reactRootContainer=Y,u[v0]=Y.current,b2(u.nodeType===8?u.parentNode:u),i1(function(){n4(l,Y,z,Q)}),Y}function p4(u,l,z,Q,U){var X=z._reactRootContainer;if(X){var V=X;if(typeof U==="function"){var Z=U;U=function(){var Y=S4(V);Z.call(Y)}}n4(l,V,u,U)}else V=DJ(z,l,u,U,Q);return S4(V)}var lQ,r,zQ,k2,w0,P5,fL,o9,t9,Ku,H6,c0,g3,_l,Kl,K6,E5,QQ,UQ,G6,C5,B5,q6,e0,XQ,e9,a,s8,o8=!1,P2,v3,HQ,y2,bL,cL,M5=null,T5=null,Nl=null,Al=null,e8=!1,D5=!1,k1,R2=!1,L4=null,H4=!1,S5=null,nL,FQ,V7,dL,aL,zu,sL,E6,jQ,J4,oL,yQ,k4=null,y0=null,_0,eL,uH,h3=64,b3=4194304,v=0,AQ,B6,OQ,MQ,TQ,f5=!1,c3,X1=null,V1=null,Z1=null,x2,g2,l1,XH,Ol,K4=!0,G4=null,Q1=null,F6=null,e3=null,wl,j6,o2,LH,l5,z5,J2,f4,L7,HH,JH,_H,Q5,KH,GH,qH,PH,EH,H7,CH,BH,IH,jH,yH,RH,J7,NH,AH,OH,MH,TH,DH,SH,R6,N2=null,kH,fQ,_7,K7=!1,Gl=!1,xH,A2=null,v2=null,wQ=!1,C2,B2,l4,G0,iH,ql=null,x5=null,O2=null,g5=!1,Pl,U5,cQ,mQ,nQ,iQ,rQ,pQ,B7,F2,w5,v5,I2,j2,rH,i3,pH,dH,h5=null,b5=null,m5,aH,y7,sH,vl,j0,m2,v0,n5,tH,eH,i5,Cl=-1,K1,yu,vu,b1,f0=null,w4=!1,Y5=!1,Bl,Il=0,B4=null,I4=0,su,ou=0,c1=null,$0=1,x0="",iu=null,nu=null,i=!1,J0=null,lJ,fl,zU,F4,j4=null,Fl=null,T6=null,g1=null,u1=!1,e2,R0,n2,i2,p,W5,Q4,L5,m1=0,d=null,Zu=null,Wu=null,N4=!1,M2=!1,r2=0,zJ=0,A4,VJ,ZJ,YJ,h4,WJ,LJ,wu=!1,u6,fU,z6,$U,xU,s3=!1,ju=!1,GJ,O=null,i7=!1,Ju=null,H0=!1,EJ,O4,n6,eu,g=0,Lu=null,Xu=null,_u=0,mu=0,yl,Yu=0,a2=null,n1=0,c4=0,i6=0,D2=null,gu=null,r6=0,gl=1/0,k0=null,M4=!1,Z6=null,L1=null,o3=!1,U1=null,T4=0,S2=0,Y6=null,V4=-1,Z4=0,dU,tU,SJ,G2,kJ,Jl,eU,uX=function(u,l){var z=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uz(l))throw Error(j(200));return MJ(u,l,null,z)},lX=function(u,l){if(!uz(u))throw Error(j(299));var z=!1,Q="",U=tU;return l!==null&&l!==void 0&&(l.unstable_strictMode===!0&&(z=!0),l.identifierPrefix!==void 0&&(Q=l.identifierPrefix),l.onRecoverableError!==void 0&&(U=l.onRecoverableError)),l=o6(u,1,!1,null,null,z,!1,Q,U),u[v0]=l.current,b2(u.nodeType===8?u.parentNode:u),new e6(l)},zX=function(u){if(u==null)return null;if(u.nodeType===1)return u;var l=u._reactInternals;if(l===void 0){if(typeof u.render==="function")throw Error(j(188));throw u=Object.keys(u).join(","),Error(j(268,u))}return u=BQ(l),u=u===null?null:u.stateNode,u},QX=function(u){return i1(u)},UX=function(u,l,z){if(!r4(l))throw Error(j(200));return p4(null,u,l,!0,z)},XX=function(u,l,z){if(!uz(u))throw Error(j(405));var Q=z!=null&&z.hydratedSources||null,U=!1,X="",V=tU;if(z!==null&&z!==void 0&&(z.unstable_strictMode===!0&&(U=!0),z.identifierPrefix!==void 0&&(X=z.identifierPrefix),z.onRecoverableError!==void 0&&(V=z.onRecoverableError)),l=oU(l,null,u,1,z!=null?z:null,U,!1,X,V),u[v0]=l.current,b2(u),Q)for(u=0;u<Q.length;u++)z=Q[u],U=z._getVersion,U=U(z._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[z,U]:l.mutableSourceEagerHydrationData.push(z,U);return new i4(l)},VX=function(u,l,z){if(!r4(l))throw Error(j(200));return p4(null,u,l,!1,z)},ZX=function(u){if(!r4(u))throw Error(j(40));return u._reactRootContainer?(i1(function(){p4(null,null,u,!1,function(){u._reactRootContainer=null,u[v0]=null})}),!0):!1},YX,WX=function(u,l,z,Q){if(!r4(z))throw Error(j(200));if(u==null||u._reactInternals===void 0)throw Error(j(38));return p4(u,l,z,!1,Q)},LX="18.3.1-next-f1338f8080-20240426";var HX=GW(()=>{lQ=s0(X2(),1),r=s0(s9(),1);zQ=new Set,k2={};w0=!(typeof window==="undefined"||typeof window.document==="undefined"||typeof window.document.createElement==="undefined"),P5=Object.prototype.hasOwnProperty,fL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,o9={},t9={};Ku={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){Ku[u]=new Su(u,0,!1,u,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var l=u[0];Ku[l]=new Su(l,1,!1,u[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(u){Ku[u]=new Su(u,2,!1,u.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){Ku[u]=new Su(u,2,!1,u,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){Ku[u]=new Su(u,3,!1,u.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(u){Ku[u]=new Su(u,3,!0,u,null,!1,!1)});["capture","download"].forEach(function(u){Ku[u]=new Su(u,4,!1,u,null,!1,!1)});["cols","rows","size","span"].forEach(function(u){Ku[u]=new Su(u,6,!1,u,null,!1,!1)});["rowSpan","start"].forEach(function(u){Ku[u]=new Su(u,5,!1,u.toLowerCase(),null,!1,!1)});H6=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var l=u.replace(H6,J6);Ku[l]=new Su(l,1,!1,u,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var l=u.replace(H6,J6);Ku[l]=new Su(l,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(u){var l=u.replace(H6,J6);Ku[l]=new Su(l,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(u){Ku[u]=new Su(u,1,!1,u.toLowerCase(),null,!1,!1)});Ku.xlinkHref=new Su("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(u){Ku[u]=new Su(u,1,!1,u.toLowerCase(),null,!0,!0)});c0=lQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,g3=Symbol.for("react.element"),_l=Symbol.for("react.portal"),Kl=Symbol.for("react.fragment"),K6=Symbol.for("react.strict_mode"),E5=Symbol.for("react.profiler"),QQ=Symbol.for("react.provider"),UQ=Symbol.for("react.context"),G6=Symbol.for("react.forward_ref"),C5=Symbol.for("react.suspense"),B5=Symbol.for("react.suspense_list"),q6=Symbol.for("react.memo"),e0=Symbol.for("react.lazy"),XQ=Symbol.for("react.offscreen"),e9=Symbol.iterator;a=Object.assign;P2=Array.isArray;HQ=function(u){return typeof MSApp!=="undefined"&&MSApp.execUnsafeLocalFunction?function(l,z,Q,U){MSApp.execUnsafeLocalFunction(function(){return u(l,z,Q,U)})}:u}(function(u,l){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=l;else{v3=v3||document.createElement("div"),v3.innerHTML="<svg>"+l.valueOf().toString()+"</svg>";for(l=v3.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;l.firstChild;)u.appendChild(l.firstChild)}});y2={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bL=["Webkit","ms","Moz","O"];Object.keys(y2).forEach(function(u){bL.forEach(function(l){l=l+u.charAt(0).toUpperCase()+u.substring(1),y2[l]=y2[u]})});cL=a({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});if(w0)try{k1={},Object.defineProperty(k1,"passive",{get:function(){D5=!0}}),window.addEventListener("test",k1,k1),window.removeEventListener("test",k1,k1)}catch(u){D5=!1}nL={onError:function(u){R2=!0,L4=u}};FQ=r.unstable_scheduleCallback,V7=r.unstable_cancelCallback,dL=r.unstable_shouldYield,aL=r.unstable_requestPaint,zu=r.unstable_now,sL=r.unstable_getCurrentPriorityLevel,E6=r.unstable_ImmediatePriority,jQ=r.unstable_UserBlockingPriority,J4=r.unstable_NormalPriority,oL=r.unstable_LowPriority,yQ=r.unstable_IdlePriority;_0=Math.clz32?Math.clz32:lH,eL=Math.log,uH=Math.LN2;c3=[],x2=new Map,g2=new Map,l1=[],XH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");Ol=c0.ReactCurrentBatchConfig;wl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},j6=ru(wl),o2=a({},wl,{view:0,detail:0}),LH=ru(o2),f4=a({},o2,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:y6,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){if("movementX"in u)return u.movementX;return u!==J2&&(J2&&u.type==="mousemove"?(l5=u.screenX-J2.screenX,z5=u.screenY-J2.screenY):z5=l5=0,J2=u),l5},movementY:function(u){return"movementY"in u?u.movementY:z5}}),L7=ru(f4),HH=a({},f4,{dataTransfer:0}),JH=ru(HH),_H=a({},o2,{relatedTarget:0}),Q5=ru(_H),KH=a({},wl,{animationName:0,elapsedTime:0,pseudoElement:0}),GH=ru(KH),qH=a({},wl,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),PH=ru(qH),EH=a({},wl,{data:0}),H7=ru(EH),CH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};jH=a({},o2,{key:function(u){if(u.key){var l=CH[u.key]||u.key;if(l!=="Unidentified")return l}return u.type==="keypress"?(u=u4(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?BH[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:y6,charCode:function(u){return u.type==="keypress"?u4(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?u4(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),yH=ru(jH),RH=a({},f4,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),J7=ru(RH),NH=a({},o2,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:y6}),AH=ru(NH),OH=a({},wl,{propertyName:0,elapsedTime:0,pseudoElement:0}),MH=ru(OH),TH=a({},f4,{deltaX:function(u){return"deltaX"in u?u.deltaX:("wheelDeltaX"in u)?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:("wheelDeltaY"in u)?-u.wheelDeltaY:("wheelDelta"in u)?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),DH=ru(TH),SH=[9,13,27,32],R6=w0&&"CompositionEvent"in window;w0&&"documentMode"in document&&(N2=document.documentMode);kH=w0&&"TextEvent"in window&&!N2,fQ=w0&&(!R6||N2&&8<N2&&11>=N2),_7=String.fromCharCode(32);xH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};if(w0){if(w0){if(B2="oninput"in document,!B2)l4=document.createElement("div"),l4.setAttribute("oninput","return;"),B2=typeof l4.oninput==="function";C2=B2}else C2=!1;wQ=C2&&(!document.documentMode||9<document.documentMode)}G0=typeof Object.is==="function"?Object.is:mH;iH=w0&&"documentMode"in document&&11>=document.documentMode;Pl={animationend:n3("Animation","AnimationEnd"),animationiteration:n3("Animation","AnimationIteration"),animationstart:n3("Animation","AnimationStart"),transitionend:n3("Transition","TransitionEnd")},U5={},cQ={};w0&&(cQ=document.createElement("div").style,("AnimationEvent"in window)||(delete Pl.animationend.animation,delete Pl.animationiteration.animation,delete Pl.animationstart.animation),("TransitionEvent"in window)||delete Pl.transitionend.transition);mQ=x4("animationend"),nQ=x4("animationiteration"),iQ=x4("animationstart"),rQ=x4("transitionend"),pQ=new Map,B7="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");for(I2=0;I2<B7.length;I2++)F2=B7[I2],w5=F2.toLowerCase(),v5=F2[0].toUpperCase()+F2.slice(1),G1(w5,"on"+v5);G1(mQ,"onAnimationEnd");G1(nQ,"onAnimationIteration");G1(iQ,"onAnimationStart");G1("dblclick","onDoubleClick");G1("focusin","onFocus");G1("focusout","onBlur");G1(rQ,"onTransitionEnd");Dl("onMouseEnter",["mouseout","mouseover"]);Dl("onMouseLeave",["mouseout","mouseover"]);Dl("onPointerEnter",["pointerout","pointerover"]);Dl("onPointerLeave",["pointerout","pointerover"]);r1("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));r1("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));r1("onBeforeInput",["compositionend","keypress","textInput","paste"]);r1("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));r1("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));r1("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));j2="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rH=new Set("cancel close invalid load scroll toggle".split(" ").concat(j2));i3="_reactListening"+Math.random().toString(36).slice(2);pH=/\r\n?/g,dH=/\u0000|\uFFFD/g;m5=typeof setTimeout==="function"?setTimeout:void 0,aH=typeof clearTimeout==="function"?clearTimeout:void 0,y7=typeof Promise==="function"?Promise:void 0,sH=typeof queueMicrotask==="function"?queueMicrotask:typeof y7!=="undefined"?function(u){return y7.resolve(null).then(u).catch(oH)}:m5;vl=Math.random().toString(36).slice(2),j0="__reactFiber$"+vl,m2="__reactProps$"+vl,v0="__reactContainer$"+vl,n5="__reactEvents$"+vl,tH="__reactListeners$"+vl,eH="__reactHandles$"+vl;i5=[];K1={},yu=q1(K1),vu=q1(!1),b1=K1;Bl=[],su=[];lJ=c0.ReactCurrentBatchConfig;fl=lU(!0),zU=lU(!1),F4=q1(null);e2={},R0=q1(e2),n2=q1(e2),i2=q1(e2);p=q1(0);W5=[];Q4=c0.ReactCurrentDispatcher,L5=c0.ReactCurrentBatchConfig;A4={readContext:u0,useCallback:Iu,useContext:Iu,useEffect:Iu,useImperativeHandle:Iu,useInsertionEffect:Iu,useLayoutEffect:Iu,useMemo:Iu,useReducer:Iu,useRef:Iu,useState:Iu,useDebugValue:Iu,useDeferredValue:Iu,useTransition:Iu,useMutableSource:Iu,useSyncExternalStore:Iu,useId:Iu,unstable_isNewReconciler:!1},VJ={readContext:u0,useCallback:function(u,l){return F0().memoizedState=[u,l===void 0?null:l],u},useContext:u0,useEffect:f7,useImperativeHandle:function(u,l,z){return z=z!==null&&z!==void 0?z.concat([u]):null,U4(4194308,4,qU.bind(null,l,u),z)},useLayoutEffect:function(u,l){return U4(4194308,4,u,l)},useInsertionEffect:function(u,l){return U4(4,2,u,l)},useMemo:function(u,l){var z=F0();return l=l===void 0?null:l,u=u(),z.memoizedState=[u,l],u},useReducer:function(u,l,z){var Q=F0();return l=z!==void 0?z(l):l,Q.memoizedState=Q.baseState=l,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:l},Q.queue=u,u=u.dispatch=UJ.bind(null,d,u),[Q.memoizedState,u]},useRef:function(u){var l=F0();return u={current:u},l.memoizedState=u},useState:k7,useDebugValue:c6,useDeferredValue:function(u){return F0().memoizedState=u},useTransition:function(){var u=k7(!1),l=u[0];return u=QJ.bind(null,u[1]),F0().memoizedState=u,[l,u]},useMutableSource:function(){},useSyncExternalStore:function(u,l,z){var Q=d,U=F0();if(i){if(z===void 0)throw Error(j(407));z=z()}else{if(z=l(),Lu===null)throw Error(j(349));(m1&30)!==0||YU(Q,l,z)}U.memoizedState=z;var X={value:z,getSnapshot:l};return U.queue=X,f7(LU.bind(null,Q,X,u),[u]),Q.flags|=2048,d2(9,WU.bind(null,Q,X,z,l),void 0,null),z},useId:function(){var u=F0(),l=Lu.identifierPrefix;if(i){var z=x0,Q=$0;z=(Q&~(1<<32-_0(Q)-1)).toString(32)+z,l=":"+l+"R"+z,z=r2++,0<z&&(l+="H"+z.toString(32)),l+=":"}else z=zJ++,l=":"+l+"r"+z.toString(32)+":";return u.memoizedState=l},unstable_isNewReconciler:!1},ZJ={readContext:u0,useCallback:EU,useContext:u0,useEffect:b6,useImperativeHandle:PU,useInsertionEffect:KU,useLayoutEffect:GU,useMemo:CU,useReducer:H5,useRef:_U,useState:function(){return H5(p2)},useDebugValue:c6,useDeferredValue:function(u){var l=l0();return BU(l,Zu.memoizedState,u)},useTransition:function(){var u=H5(p2)[0],l=l0().memoizedState;return[u,l]},useMutableSource:VU,useSyncExternalStore:ZU,useId:IU,unstable_isNewReconciler:!1},YJ={readContext:u0,useCallback:EU,useContext:u0,useEffect:b6,useImperativeHandle:PU,useInsertionEffect:KU,useLayoutEffect:GU,useMemo:CU,useReducer:J5,useRef:_U,useState:function(){return J5(p2)},useDebugValue:c6,useDeferredValue:function(u){var l=l0();return Zu===null?l.memoizedState=u:BU(l,Zu.memoizedState,u)},useTransition:function(){var u=J5(p2)[0],l=l0().memoizedState;return[u,l]},useMutableSource:VU,useSyncExternalStore:ZU,useId:IU,unstable_isNewReconciler:!1};h4={isMounted:function(u){return(u=u._reactInternals)?p1(u)===u:!1},enqueueSetState:function(u,l,z){u=u._reactInternals;var Q=Du(),U=H1(u),X=g0(Q,U);X.payload=l,z!==void 0&&z!==null&&(X.callback=z),l=W1(u,X,U),l!==null&&(K0(l,u,U,Q),z4(l,u,U))},enqueueReplaceState:function(u,l,z){u=u._reactInternals;var Q=Du(),U=H1(u),X=g0(Q,U);X.tag=1,X.payload=l,z!==void 0&&z!==null&&(X.callback=z),l=W1(u,X,U),l!==null&&(K0(l,u,U,Q),z4(l,u,U))},enqueueForceUpdate:function(u,l){u=u._reactInternals;var z=Du(),Q=H1(u),U=g0(z,Q);U.tag=2,l!==void 0&&l!==null&&(U.callback=l),l=W1(u,U,Q),l!==null&&(K0(l,u,Q,z),z4(l,u,Q))}};WJ=typeof WeakMap==="function"?WeakMap:Map;LJ=c0.ReactCurrentOwner;u6={dehydrated:null,treeContext:null,retryLane:0};fU=function(u,l){for(var z=l.child;z!==null;){if(z.tag===5||z.tag===6)u.appendChild(z.stateNode);else if(z.tag!==4&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===l)break;for(;z.sibling===null;){if(z.return===null||z.return===l)return;z=z.return}z.sibling.return=z.return,z=z.sibling}};z6=function(){};$U=function(u,l,z,Q){var U=u.memoizedProps;if(U!==Q){u=l.stateNode,w1(R0.current);var X=null;switch(z){case"input":U=F5(u,U),Q=F5(u,Q),X=[];break;case"select":U=a({},U,{value:void 0}),Q=a({},Q,{value:void 0}),X=[];break;case"textarea":U=R5(u,U),Q=R5(u,Q),X=[];break;default:typeof U.onClick!=="function"&&typeof Q.onClick==="function"&&(u.onclick=P4)}A5(z,Q);var V;z=null;for(W in U)if(!Q.hasOwnProperty(W)&&U.hasOwnProperty(W)&&U[W]!=null)if(W==="style"){var Z=U[W];for(V in Z)Z.hasOwnProperty(V)&&(z||(z={}),z[V]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(k2.hasOwnProperty(W)?X||(X=[]):(X=X||[]).push(W,null));for(W in Q){var Y=Q[W];if(Z=U!=null?U[W]:void 0,Q.hasOwnProperty(W)&&Y!==Z&&(Y!=null||Z!=null))if(W==="style")if(Z){for(V in Z)!Z.hasOwnProperty(V)||Y&&Y.hasOwnProperty(V)||(z||(z={}),z[V]="");for(V in Y)Y.hasOwnProperty(V)&&Z[V]!==Y[V]&&(z||(z={}),z[V]=Y[V])}else z||(X||(X=[]),X.push(W,z)),z=Y;else W==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,Z=Z?Z.__html:void 0,Y!=null&&Z!==Y&&(X=X||[]).push(W,Y)):W==="children"?typeof Y!=="string"&&typeof Y!=="number"||(X=X||[]).push(W,""+Y):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(k2.hasOwnProperty(W)?(Y!=null&&W==="onScroll"&&c("scroll",u),X||Z===Y||(X=[])):(X=X||[]).push(W,Y))}z&&(X=X||[]).push("style",z);var W=X;if(l.updateQueue=W)l.flags|=4}};xU=function(u,l,z,Q){z!==Q&&(l.flags|=4)};GJ=typeof WeakSet==="function"?WeakSet:Set;EJ=Math.ceil,O4=c0.ReactCurrentDispatcher,n6=c0.ReactCurrentOwner,eu=c0.ReactCurrentBatchConfig,yl=q1(0);dU=function(u,l,z){if(u!==null)if(u.memoizedProps!==l.pendingProps||vu.current)wu=!0;else{if((u.lanes&z)===0&&(l.flags&128)===0)return wu=!1,JJ(u,l,z);wu=(u.flags&131072)!==0?!0:!1}else wu=!1,i&&(l.flags&1048576)!==0&&tQ(l,I4,l.index);switch(l.lanes=0,l.tag){case 2:var Q=l.type;X4(u,l),u=l.pendingProps;var U=Sl(l,yu.current);Ml(l,z),U=v6(null,l,Q,u,U,z);var X=h6();return l.flags|=1,typeof U==="object"&&U!==null&&typeof U.render==="function"&&U.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,hu(Q)?(X=!0,C4(l)):X=!1,l.memoizedState=U.state!==null&&U.state!==void 0?U.state:null,f6(l),U.updater=h4,l.stateNode=U,U._reactInternals=l,s5(l,Q,u,z),l=e5(null,l,Q,!0,X,z)):(l.tag=0,i&&X&&A6(l),Tu(null,l,U,z),l=l.child),l;case 16:Q=l.elementType;u:{switch(X4(u,l),u=l.pendingProps,U=Q._init,Q=U(Q._payload),l.type=Q,U=l.tag=AJ(Q),u=L0(Q,u),U){case 0:l=t5(null,l,Q,u,z);break u;case 1:l=c7(null,l,Q,u,z);break u;case 11:l=h7(null,l,Q,u,z);break u;case 14:l=b7(null,l,Q,L0(Q.type,u),z);break u}throw Error(j(306,Q,""))}return l;case 0:return Q=l.type,U=l.pendingProps,U=l.elementType===Q?U:L0(Q,U),t5(u,l,Q,U,z);case 1:return Q=l.type,U=l.pendingProps,U=l.elementType===Q?U:L0(Q,U),c7(u,l,Q,U,z);case 3:u:{if(DU(l),u===null)throw Error(j(387));Q=l.pendingProps,X=l.memoizedState,U=X.element,UU(u,l),y4(l,Q,null,z);var V=l.memoizedState;if(Q=V.element,X.isDehydrated)if(X={element:Q,isDehydrated:!1,cache:V.cache,pendingSuspenseBoundaries:V.pendingSuspenseBoundaries,transitions:V.transitions},l.updateQueue.baseState=X,l.memoizedState=X,l.flags&256){U=xl(Error(j(423)),l),l=m7(u,l,Q,z,U);break u}else if(Q!==U){U=xl(Error(j(424)),l),l=m7(u,l,Q,z,U);break u}else for(nu=Y1(l.stateNode.containerInfo.firstChild),iu=l,i=!0,J0=null,z=zU(l,null,Q,z),l.child=z;z;)z.flags=z.flags&-3|4096,z=z.sibling;else{if(kl(),Q===U){l=b0(u,l,z);break u}Tu(u,l,Q,z)}l=l.child}return l;case 5:return XU(l),u===null&&p5(l),Q=l.type,U=l.pendingProps,X=u!==null?u.memoizedProps:null,V=U.children,c5(Q,U)?V=null:X!==null&&c5(Q,X)&&(l.flags|=32),TU(u,l),Tu(u,l,V,z),l.child;case 6:return u===null&&p5(l),null;case 13:return SU(u,l,z);case 4:return $6(l,l.stateNode.containerInfo),Q=l.pendingProps,u===null?l.child=fl(l,null,Q,z):Tu(u,l,Q,z),l.child;case 11:return Q=l.type,U=l.pendingProps,U=l.elementType===Q?U:L0(Q,U),h7(u,l,Q,U,z);case 7:return Tu(u,l,l.pendingProps,z),l.child;case 8:return Tu(u,l,l.pendingProps.children,z),l.child;case 12:return Tu(u,l,l.pendingProps.children,z),l.child;case 10:u:{if(Q=l.type._context,U=l.pendingProps,X=l.memoizedProps,V=U.value,b(F4,Q._currentValue),Q._currentValue=V,X!==null)if(G0(X.value,V)){if(X.children===U.children&&!vu.current){l=b0(u,l,z);break u}}else for(X=l.child,X!==null&&(X.return=l);X!==null;){var Z=X.dependencies;if(Z!==null){V=X.child;for(var Y=Z.firstContext;Y!==null;){if(Y.context===Q){if(X.tag===1){Y=g0(-1,z&-z),Y.tag=2;var W=X.updateQueue;if(W!==null){W=W.shared;var L=W.pending;L===null?Y.next=Y:(Y.next=L.next,L.next=Y),W.pending=Y}}X.lanes|=z,Y=X.alternate,Y!==null&&(Y.lanes|=z),d5(X.return,z,l),Z.lanes|=z;break}Y=Y.next}}else if(X.tag===10)V=X.type===l.type?null:X.child;else if(X.tag===18){if(V=X.return,V===null)throw Error(j(341));V.lanes|=z,Z=V.alternate,Z!==null&&(Z.lanes|=z),d5(V,z,l),V=X.sibling}else V=X.child;if(V!==null)V.return=X;else for(V=X;V!==null;){if(V===l){V=null;break}if(X=V.sibling,X!==null){X.return=V.return,V=X;break}V=V.return}X=V}Tu(u,l,U.children,z),l=l.child}return l;case 9:return U=l.type,Q=l.pendingProps.children,Ml(l,z),U=u0(U),Q=Q(U),l.flags|=1,Tu(u,l,Q,z),l.child;case 14:return Q=l.type,U=L0(Q,l.pendingProps),U=L0(Q.type,U),b7(u,l,Q,U,z);case 15:return OU(u,l,l.type,l.pendingProps,z);case 17:return Q=l.type,U=l.pendingProps,U=l.elementType===Q?U:L0(Q,U),X4(u,l),l.tag=1,hu(Q)?(u=!0,C4(l)):u=!1,Ml(l,z),RU(l,Q,U),s5(l,Q,U,z),e5(null,l,Q,!0,u,z);case 19:return kU(u,l,z);case 22:return MU(u,l,z)}throw Error(j(156,l.tag))};tU=typeof reportError==="function"?reportError:function(u){console.error(u)};i4.prototype.render=e6.prototype.render=function(u){var l=this._internalRoot;if(l===null)throw Error(j(409));n4(u,l,null,null)};i4.prototype.unmount=e6.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var l=u.containerInfo;i1(function(){n4(null,u,null,null)}),l[v0]=null}};i4.prototype.unstable_scheduleHydration=function(u){if(u){var l=MQ();u={blockedOn:null,target:u,priority:l};for(var z=0;z<l1.length&&l!==0&&l<l1[z].priority;z++);l1.splice(z,0,u),z===0&&DQ(u)}};AQ=function(u){switch(u.tag){case 3:var l=u.stateNode;if(l.current.memoizedState.isDehydrated){var z=E2(l.pendingLanes);z!==0&&(C6(l,z|1),bu(l,zu()),(g&6)===0&&(gl=zu()+500,P1()))}break;case 13:i1(function(){var Q=h0(u,1);if(Q!==null){var U=Du();K0(Q,u,1,U)}}),t6(u,1)}};B6=function(u){if(u.tag===13){var l=h0(u,134217728);if(l!==null){var z=Du();K0(l,u,134217728,z)}t6(u,134217728)}};OQ=function(u){if(u.tag===13){var l=H1(u),z=h0(u,l);if(z!==null){var Q=Du();K0(z,u,l,Q)}t6(u,l)}};MQ=function(){return v};TQ=function(u,l){var z=v;try{return v=u,l()}finally{v=z}};T5=function(u,l,z){switch(l){case"input":if(j5(u,z),l=z.name,z.type==="radio"&&l!=null){for(z=u;z.parentNode;)z=z.parentNode;z=z.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]');for(l=0;l<z.length;l++){var Q=z[l];if(Q!==u&&Q.form===u.form){var U=g4(Q);if(!U)throw Error(j(90));ZQ(Q),j5(Q,U)}}}break;case"textarea":WQ(u,z);break;case"select":l=z.value,l!=null&&Rl(u,!!z.multiple,l,!1)}};qQ=p6;PQ=i1;SJ={usingClientEntryPoint:!1,Events:[t2,El,g4,KQ,GQ,p6]},G2={findFiberByHostInstance:x1,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kJ={bundleType:G2.bundleType,version:G2.version,rendererPackageName:G2.rendererPackageName,rendererConfig:G2.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:c0.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=BQ(u),u===null?null:u.stateNode},findFiberByHostInstance:G2.findFiberByHostInstance||TJ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"){if(Jl=__REACT_DEVTOOLS_GLOBAL_HOOK__,!Jl.isDisabled&&Jl.supportsFiber)try{k4=Jl.inject(kJ),y0=Jl}catch(u){}}eU=SJ,YX=p6});var zz=N3((zE,_X)=>{HX();function JX(){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__==="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=="function")return;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JX)}catch(u){console.error(u)}}JX(),_X.exports=lz});var KX=N3(($J)=>{var u3=s0(zz(),1);$J.createRoot=u3.createRoot,$J.hydrateRoot=u3.hydrateRoot;var fJ});var VW=s0(X2(),1),ZW=s0(KX(),1);function Ru(u){this.content=u}Ru.prototype={constructor:Ru,find:function(u){for(var l=0;l<this.content.length;l+=2)if(this.content[l]===u)return l;return-1},get:function(u){var l=this.find(u);return l==-1?void 0:this.content[l+1]},update:function(u,l,z){var Q=z&&z!=u?this.remove(z):this,U=Q.find(u),X=Q.content.slice();if(U==-1)X.push(z||u,l);else if(X[U+1]=l,z)X[U]=z;return new Ru(X)},remove:function(u){var l=this.find(u);if(l==-1)return this;var z=this.content.slice();return z.splice(l,2),new Ru(z)},addToStart:function(u,l){return new Ru([u,l].concat(this.remove(u).content))},addToEnd:function(u,l){var z=this.remove(u).content.slice();return z.push(u,l),new Ru(z)},addBefore:function(u,l,z){var Q=this.remove(l),U=Q.content.slice(),X=Q.find(u);return U.splice(X==-1?U.length:X,0,l,z),new Ru(U)},forEach:function(u){for(var l=0;l<this.content.length;l+=2)u(this.content[l],this.content[l+1])},prepend:function(u){if(u=Ru.from(u),!u.size)return this;return new Ru(u.content.concat(this.subtract(u).content))},append:function(u){if(u=Ru.from(u),!u.size)return this;return new Ru(this.subtract(u).content.concat(u.content))},subtract:function(u){var l=this;u=Ru.from(u);for(var z=0;z<u.content.length;z+=2)l=l.remove(u.content[z]);return l},toObject:function(){var u={};return this.forEach(function(l,z){u[l]=z}),u},get size(){return this.content.length>>1}};Ru.from=function(u){if(u instanceof Ru)return u;var l=[];if(u)for(var z in u)l.push(z,u[z]);return new Ru(l)};var Qz=Ru;function yX(u,l,z){for(let Q=0;;Q++){if(Q==u.childCount||Q==l.childCount)return u.childCount==l.childCount?null:z;let U=u.child(Q),X=l.child(Q);if(U==X){z+=U.nodeSize;continue}if(!U.sameMarkup(X))return z;if(U.isText&&U.text!=X.text){for(let V=0;U.text[V]==X.text[V];V++)z++;return z}if(U.content.size||X.content.size){let V=yX(U.content,X.content,z+1);if(V!=null)return V}z+=U.nodeSize}}function RX(u,l,z,Q){for(let U=u.childCount,X=l.childCount;;){if(U==0||X==0)return U==X?null:{a:z,b:Q};let V=u.child(--U),Z=l.child(--X),Y=V.nodeSize;if(V==Z){z-=Y,Q-=Y;continue}if(!V.sameMarkup(Z))return{a:z,b:Q};if(V.isText&&V.text!=Z.text){let W=0,L=Math.min(V.text.length,Z.text.length);while(W<L&&V.text[V.text.length-W-1]==Z.text[Z.text.length-W-1])W++,z--,Q--;return{a:z,b:Q}}if(V.content.size||Z.content.size){let W=RX(V.content,Z.content,z-1,Q-1);if(W)return W}z-=Y,Q-=Y}}class I{constructor(u,l){if(this.content=u,this.size=l||0,l==null)for(let z=0;z<u.length;z++)this.size+=u[z].nodeSize}nodesBetween(u,l,z,Q=0,U){for(let X=0,V=0;V<l;X++){let Z=this.content[X],Y=V+Z.nodeSize;if(Y>u&&z(Z,Q+V,U||null,X)!==!1&&Z.content.size){let W=V+1;Z.nodesBetween(Math.max(0,u-W),Math.min(Z.content.size,l-W),z,Q+W)}V=Y}}descendants(u){this.nodesBetween(0,this.size,u)}textBetween(u,l,z,Q){let U="",X=!0;return this.nodesBetween(u,l,(V,Z)=>{let Y=V.isText?V.text.slice(Math.max(u,Z)-Z,l-Z):!V.isLeaf?"":Q?typeof Q==="function"?Q(V):Q:V.type.spec.leafText?V.type.spec.leafText(V):"";if(V.isBlock&&(V.isLeaf&&Y||V.isTextblock)&&z)if(X)X=!1;else U+=z;U+=Y},0),U}append(u){if(!u.size)return this;if(!this.size)return u;let l=this.lastChild,z=u.firstChild,Q=this.content.slice(),U=0;if(l.isText&&l.sameMarkup(z))Q[Q.length-1]=l.withText(l.text+z.text),U=1;for(;U<u.content.length;U++)Q.push(u.content[U]);return new I(Q,this.size+u.size)}cut(u,l=this.size){if(u==0&&l==this.size)return this;let z=[],Q=0;if(l>u)for(let U=0,X=0;X<l;U++){let V=this.content[U],Z=X+V.nodeSize;if(Z>u){if(X<u||Z>l)if(V.isText)V=V.cut(Math.max(0,u-X),Math.min(V.text.length,l-X));else V=V.cut(Math.max(0,u-X-1),Math.min(V.content.size,l-X-1));z.push(V),Q+=V.nodeSize}X=Z}return new I(z,Q)}cutByIndex(u,l){if(u==l)return I.empty;if(u==0&&l==this.content.length)return this;return new I(this.content.slice(u,l))}replaceChild(u,l){let z=this.content[u];if(z==l)return this;let Q=this.content.slice(),U=this.size+l.nodeSize-z.nodeSize;return Q[u]=l,new I(Q,U)}addToStart(u){return new I([u].concat(this.content),this.size+u.nodeSize)}addToEnd(u){return new I(this.content.concat(u),this.size+u.nodeSize)}eq(u){if(this.content.length!=u.content.length)return!1;for(let l=0;l<this.content.length;l++)if(!this.content[l].eq(u.content[l]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(u){let l=this.content[u];if(!l)throw new RangeError("Index "+u+" out of range for "+this);return l}maybeChild(u){return this.content[u]||null}forEach(u){for(let l=0,z=0;l<this.content.length;l++){let Q=this.content[l];u(Q,z,l),z+=Q.nodeSize}}findDiffStart(u,l=0){return yX(this,u,l)}findDiffEnd(u,l=this.size,z=u.size){return RX(this,u,l,z)}findIndex(u){if(u==0)return d4(0,u);if(u==this.size)return d4(this.content.length,u);if(u>this.size||u<0)throw new RangeError(`Position ${u} outside of fragment (${this})`);for(let l=0,z=0;;l++){let Q=this.child(l),U=z+Q.nodeSize;if(U>=u){if(U==u)return d4(l+1,U);return d4(l,z)}z=U}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map((u)=>u.toJSON()):null}static fromJSON(u,l){if(!l)return I.empty;if(!Array.isArray(l))throw new RangeError("Invalid input for Fragment.fromJSON");return new I(l.map(u.nodeFromJSON))}static fromArray(u){if(!u.length)return I.empty;let l,z=0;for(let Q=0;Q<u.length;Q++){let U=u[Q];if(z+=U.nodeSize,Q&&U.isText&&u[Q-1].sameMarkup(U)){if(!l)l=u.slice(0,Q);l[l.length-1]=U.withText(l[l.length-1].text+U.text)}else if(l)l.push(U)}return new I(l||u,z)}static from(u){if(!u)return I.empty;if(u instanceof I)return u;if(Array.isArray(u))return this.fromArray(u);if(u.attrs)return new I([u],u.nodeSize);throw new RangeError("Can not convert "+u+" to a Fragment"+(u.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}I.empty=new I([],0);var Uz={index:0,offset:0};function d4(u,l){return Uz.index=u,Uz.offset=l,Uz}function s4(u,l){if(u===l)return!0;if(!(u&&typeof u=="object")||!(l&&typeof l=="object"))return!1;let z=Array.isArray(u);if(Array.isArray(l)!=z)return!1;if(z){if(u.length!=l.length)return!1;for(let Q=0;Q<u.length;Q++)if(!s4(u[Q],l[Q]))return!1}else{for(let Q in u)if(!(Q in l)||!s4(u[Q],l[Q]))return!1;for(let Q in l)if(!(Q in u))return!1}return!0}class w{constructor(u,l){this.type=u,this.attrs=l}addToSet(u){let l,z=!1;for(let Q=0;Q<u.length;Q++){let U=u[Q];if(this.eq(U))return u;if(this.type.excludes(U.type)){if(!l)l=u.slice(0,Q)}else if(U.type.excludes(this.type))return u;else{if(!z&&U.type.rank>this.type.rank){if(!l)l=u.slice(0,Q);l.push(this),z=!0}if(l)l.push(U)}}if(!l)l=u.slice();if(!z)l.push(this);return l}removeFromSet(u){for(let l=0;l<u.length;l++)if(this.eq(u[l]))return u.slice(0,l).concat(u.slice(l+1));return u}isInSet(u){for(let l=0;l<u.length;l++)if(this.eq(u[l]))return!0;return!1}eq(u){return this==u||this.type==u.type&&s4(this.attrs,u.attrs)}toJSON(){let u={type:this.type.name};for(let l in this.attrs){u.attrs=this.attrs;break}return u}static fromJSON(u,l){if(!l)throw new RangeError("Invalid input for Mark.fromJSON");let z=u.marks[l.type];if(!z)throw new RangeError(`There is no mark type ${l.type} in this schema`);let Q=z.create(l.attrs);return z.checkAttrs(Q.attrs),Q}static sameSet(u,l){if(u==l)return!0;if(u.length!=l.length)return!1;for(let z=0;z<u.length;z++)if(!u[z].eq(l[z]))return!1;return!0}static setFrom(u){if(!u||Array.isArray(u)&&u.length==0)return w.none;if(u instanceof w)return[u];let l=u.slice();return l.sort((z,Q)=>z.type.rank-Q.type.rank),l}}w.none=[];class hl extends Error{}class N{constructor(u,l,z){this.content=u,this.openStart=l,this.openEnd=z}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(u,l){let z=AX(this.content,u+this.openStart,l);return z&&new N(z,this.openStart,this.openEnd)}removeBetween(u,l){return new N(NX(this.content,u+this.openStart,l+this.openStart),this.openStart,this.openEnd)}eq(u){return this.content.eq(u.content)&&this.openStart==u.openStart&&this.openEnd==u.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let u={content:this.content.toJSON()};if(this.openStart>0)u.openStart=this.openStart;if(this.openEnd>0)u.openEnd=this.openEnd;return u}static fromJSON(u,l){if(!l)return N.empty;let z=l.openStart||0,Q=l.openEnd||0;if(typeof z!="number"||typeof Q!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new N(I.fromJSON(u,l.content),z,Q)}static maxOpen(u,l=!0){let z=0,Q=0;for(let U=u.firstChild;U&&!U.isLeaf&&(l||!U.type.spec.isolating);U=U.firstChild)z++;for(let U=u.lastChild;U&&!U.isLeaf&&(l||!U.type.spec.isolating);U=U.lastChild)Q++;return new N(u,z,Q)}}N.empty=new N(I.empty,0,0);function NX(u,l,z){let{index:Q,offset:U}=u.findIndex(l),X=u.maybeChild(Q),{index:V,offset:Z}=u.findIndex(z);if(U==l||X.isText){if(Z!=z&&!u.child(V).isText)throw new RangeError("Removing non-flat range");return u.cut(0,l).append(u.cut(z))}if(Q!=V)throw new RangeError("Removing non-flat range");return u.replaceChild(Q,X.copy(NX(X.content,l-U-1,z-U-1)))}function AX(u,l,z,Q){let{index:U,offset:X}=u.findIndex(l),V=u.maybeChild(U);if(X==l||V.isText){if(Q&&!Q.canReplace(U,U,z))return null;return u.cut(0,l).append(z).append(u.cut(l))}let Z=AX(V.content,l-X-1,z,V);return Z&&u.replaceChild(U,V.copy(Z))}function xJ(u,l,z){if(z.openStart>u.depth)throw new hl("Inserted content deeper than insertion position");if(u.depth-z.openStart!=l.depth-z.openEnd)throw new hl("Inconsistent open depths");return OX(u,l,z,0)}function OX(u,l,z,Q){let U=u.index(Q),X=u.node(Q);if(U==l.index(Q)&&Q<u.depth-z.openStart){let V=OX(u,l,z,Q+1);return X.copy(X.content.replaceChild(U,V))}else if(!z.content.size)return a1(X,o4(u,l,Q));else if(!z.openStart&&!z.openEnd&&u.depth==Q&&l.depth==Q){let V=u.parent,Z=V.content;return a1(V,Z.cut(0,u.parentOffset).append(z.content).append(Z.cut(l.parentOffset)))}else{let{start:V,end:Z}=gJ(z,u);return a1(X,TX(u,V,Z,l,Q))}}function MX(u,l){if(!l.type.compatibleContent(u.type))throw new hl("Cannot join "+l.type.name+" onto "+u.type.name)}function Vz(u,l,z){let Q=u.node(z);return MX(Q,l.node(z)),Q}function d1(u,l){let z=l.length-1;if(z>=0&&u.isText&&u.sameMarkup(l[z]))l[z]=u.withText(l[z].text+u.text);else l.push(u)}function z3(u,l,z,Q){let U=(l||u).node(z),X=0,V=l?l.index(z):U.childCount;if(u){if(X=u.index(z),u.depth>z)X++;else if(u.textOffset)d1(u.nodeAfter,Q),X++}for(let Z=X;Z<V;Z++)d1(U.child(Z),Q);if(l&&l.depth==z&&l.textOffset)d1(l.nodeBefore,Q)}function a1(u,l){return u.type.checkContent(l),u.copy(l)}function TX(u,l,z,Q,U){let X=u.depth>U&&Vz(u,l,U+1),V=Q.depth>U&&Vz(z,Q,U+1),Z=[];if(z3(null,u,U,Z),X&&V&&l.index(U)==z.index(U))MX(X,V),d1(a1(X,TX(u,l,z,Q,U+1)),Z);else{if(X)d1(a1(X,o4(u,l,U+1)),Z);if(z3(l,z,U,Z),V)d1(a1(V,o4(z,Q,U+1)),Z)}return z3(Q,null,U,Z),new I(Z)}function o4(u,l,z){let Q=[];if(z3(null,u,z,Q),u.depth>z){let U=Vz(u,l,z+1);d1(a1(U,o4(u,l,z+1)),Q)}return z3(l,null,z,Q),new I(Q)}function gJ(u,l){let z=l.depth-u.openStart,U=l.node(z).copy(u.content);for(let X=z-1;X>=0;X--)U=l.node(X).copy(I.from(U));return{start:U.resolveNoCache(u.openStart+z),end:U.resolveNoCache(U.content.size-u.openEnd-z)}}class U3{constructor(u,l,z){this.pos=u,this.path=l,this.parentOffset=z,this.depth=l.length/3-1}resolveDepth(u){if(u==null)return this.depth;if(u<0)return this.depth+u;return u}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(u){return this.path[this.resolveDepth(u)*3]}index(u){return this.path[this.resolveDepth(u)*3+1]}indexAfter(u){return u=this.resolveDepth(u),this.index(u)+(u==this.depth&&!this.textOffset?0:1)}start(u){return u=this.resolveDepth(u),u==0?0:this.path[u*3-1]+1}end(u){return u=this.resolveDepth(u),this.start(u)+this.node(u).content.size}before(u){if(u=this.resolveDepth(u),!u)throw new RangeError("There is no position before the top-level node");return u==this.depth+1?this.pos:this.path[u*3-1]}after(u){if(u=this.resolveDepth(u),!u)throw new RangeError("There is no position after the top-level node");return u==this.depth+1?this.pos:this.path[u*3-1]+this.path[u*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let u=this.parent,l=this.index(this.depth);if(l==u.childCount)return null;let z=this.pos-this.path[this.path.length-1],Q=u.child(l);return z?u.child(l).cut(z):Q}get nodeBefore(){let u=this.index(this.depth),l=this.pos-this.path[this.path.length-1];if(l)return this.parent.child(u).cut(0,l);return u==0?null:this.parent.child(u-1)}posAtIndex(u,l){l=this.resolveDepth(l);let z=this.path[l*3],Q=l==0?0:this.path[l*3-1]+1;for(let U=0;U<u;U++)Q+=z.child(U).nodeSize;return Q}marks(){let u=this.parent,l=this.index();if(u.content.size==0)return w.none;if(this.textOffset)return u.child(l).marks;let z=u.maybeChild(l-1),Q=u.maybeChild(l);if(!z){let V=z;z=Q,Q=V}let U=z.marks;for(var X=0;X<U.length;X++)if(U[X].type.spec.inclusive===!1&&(!Q||!U[X].isInSet(Q.marks)))U=U[X--].removeFromSet(U);return U}marksAcross(u){let l=this.parent.maybeChild(this.index());if(!l||!l.isInline)return null;let z=l.marks,Q=u.parent.maybeChild(u.index());for(var U=0;U<z.length;U++)if(z[U].type.spec.inclusive===!1&&(!Q||!z[U].isInSet(Q.marks)))z=z[U--].removeFromSet(z);return z}sharedDepth(u){for(let l=this.depth;l>0;l--)if(this.start(l)<=u&&this.end(l)>=u)return l;return 0}blockRange(u=this,l){if(u.pos<this.pos)return u.blockRange(this);for(let z=this.depth-(this.parent.inlineContent||this.pos==u.pos?1:0);z>=0;z--)if(u.pos<=this.end(z)&&(!l||l(this.node(z))))return new bl(this,u,z);return null}sameParent(u){return this.pos-this.parentOffset==u.pos-u.parentOffset}max(u){return u.pos>this.pos?u:this}min(u){return u.pos<this.pos?u:this}toString(){let u="";for(let l=1;l<=this.depth;l++)u+=(u?"/":"")+this.node(l).type.name+"_"+this.index(l-1);return u+":"+this.parentOffset}static resolve(u,l){if(!(l>=0&&l<=u.content.size))throw new RangeError("Position "+l+" out of range");let z=[],Q=0,U=l;for(let X=u;;){let{index:V,offset:Z}=X.content.findIndex(U),Y=U-Z;if(z.push(X,V,Q+Z),!Y)break;if(X=X.child(V),X.isText)break;U=Y-1,Q+=Z+1}return new U3(l,z,U)}static resolveCached(u,l){let z=GX.get(u);if(z)for(let U=0;U<z.elts.length;U++){let X=z.elts[U];if(X.pos==l)return X}else GX.set(u,z=new DX);let Q=z.elts[z.i]=U3.resolve(u,l);return z.i=(z.i+1)%wJ,Q}}class DX{constructor(){this.elts=[],this.i=0}}var wJ=12,GX=new WeakMap;class bl{constructor(u,l,z){this.$from=u,this.$to=l,this.depth=z}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}var vJ=Object.create(null);class pu{constructor(u,l,z,Q=w.none){this.type=u,this.attrs=l,this.marks=Q,this.content=z||I.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(u){return this.content.child(u)}maybeChild(u){return this.content.maybeChild(u)}forEach(u){this.content.forEach(u)}nodesBetween(u,l,z,Q=0){this.content.nodesBetween(u,l,z,Q,this)}descendants(u){this.nodesBetween(0,this.content.size,u)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(u,l,z,Q){return this.content.textBetween(u,l,z,Q)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(u){return this==u||this.sameMarkup(u)&&this.content.eq(u.content)}sameMarkup(u){return this.hasMarkup(u.type,u.attrs,u.marks)}hasMarkup(u,l,z){return this.type==u&&s4(this.attrs,l||u.defaultAttrs||vJ)&&w.sameSet(this.marks,z||w.none)}copy(u=null){if(u==this.content)return this;return new pu(this.type,this.attrs,u,this.marks)}mark(u){return u==this.marks?this:new pu(this.type,this.attrs,this.content,u)}cut(u,l=this.content.size){if(u==0&&l==this.content.size)return this;return this.copy(this.content.cut(u,l))}slice(u,l=this.content.size,z=!1){if(u==l)return N.empty;let Q=this.resolve(u),U=this.resolve(l),X=z?0:Q.sharedDepth(l),V=Q.start(X),Y=Q.node(X).content.cut(Q.pos-V,U.pos-V);return new N(Y,Q.depth-X,U.depth-X)}replace(u,l,z){return xJ(this.resolve(u),this.resolve(l),z)}nodeAt(u){for(let l=this;;){let{index:z,offset:Q}=l.content.findIndex(u);if(l=l.maybeChild(z),!l)return null;if(Q==u||l.isText)return l;u-=Q+1}}childAfter(u){let{index:l,offset:z}=this.content.findIndex(u);return{node:this.content.maybeChild(l),index:l,offset:z}}childBefore(u){if(u==0)return{node:null,index:0,offset:0};let{index:l,offset:z}=this.content.findIndex(u);if(z<u)return{node:this.content.child(l),index:l,offset:z};let Q=this.content.child(l-1);return{node:Q,index:l-1,offset:z-Q.nodeSize}}resolve(u){return U3.resolveCached(this,u)}resolveNoCache(u){return U3.resolve(this,u)}rangeHasMark(u,l,z){let Q=!1;if(l>u)this.nodesBetween(u,l,(U)=>{if(z.isInSet(U.marks))Q=!0;return!Q});return Q}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let u=this.type.name;if(this.content.size)u+="("+this.content.toStringInner()+")";return SX(this.marks,u)}contentMatchAt(u){let l=this.type.contentMatch.matchFragment(this.content,0,u);if(!l)throw new Error("Called contentMatchAt on a node with invalid content");return l}canReplace(u,l,z=I.empty,Q=0,U=z.childCount){let X=this.contentMatchAt(u).matchFragment(z,Q,U),V=X&&X.matchFragment(this.content,l);if(!V||!V.validEnd)return!1;for(let Z=Q;Z<U;Z++)if(!this.type.allowsMarks(z.child(Z).marks))return!1;return!0}canReplaceWith(u,l,z,Q){if(Q&&!this.type.allowsMarks(Q))return!1;let U=this.contentMatchAt(u).matchType(z),X=U&&U.matchFragment(this.content,l);return X?X.validEnd:!1}canAppend(u){if(u.content.size)return this.canReplace(this.childCount,this.childCount,u.content);else return this.type.compatibleContent(u.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let u=w.none;for(let l=0;l<this.marks.length;l++){let z=this.marks[l];z.type.checkAttrs(z.attrs),u=z.addToSet(u)}if(!w.sameSet(u,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map((l)=>l.type.name)}`);this.content.forEach((l)=>l.check())}toJSON(){let u={type:this.type.name};for(let l in this.attrs){u.attrs=this.attrs;break}if(this.content.size)u.content=this.content.toJSON();if(this.marks.length)u.marks=this.marks.map((l)=>l.toJSON());return u}static fromJSON(u,l){if(!l)throw new RangeError("Invalid input for Node.fromJSON");let z=void 0;if(l.marks){if(!Array.isArray(l.marks))throw new RangeError("Invalid mark data for Node.fromJSON");z=l.marks.map(u.markFromJSON)}if(l.type=="text"){if(typeof l.text!="string")throw new RangeError("Invalid text node in JSON");return u.text(l.text,z)}let Q=I.fromJSON(u,l.content),U=u.nodeType(l.type).create(l.attrs,Q,z);return U.type.checkAttrs(U.attrs),U}}pu.prototype.text=void 0;class t4 extends pu{constructor(u,l,z,Q){super(u,l,null,Q);if(!z)throw new RangeError("Empty text nodes are not allowed");this.text=z}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);return SX(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(u,l){return this.text.slice(u,l)}get nodeSize(){return this.text.length}mark(u){return u==this.marks?this:new t4(this.type,this.attrs,this.text,u)}withText(u){if(u==this.text)return this;return new t4(this.type,this.attrs,u,this.marks)}cut(u=0,l=this.text.length){if(u==0&&l==this.text.length)return this;return this.withText(this.text.slice(u,l))}eq(u){return this.sameMarkup(u)&&this.text==u.text}toJSON(){let u=super.toJSON();return u.text=this.text,u}}function SX(u,l){for(let z=u.length-1;z>=0;z--)l=u[z].type.name+"("+l+")";return l}class s1{constructor(u){this.validEnd=u,this.next=[],this.wrapCache=[]}static parse(u,l){let z=new kX(u,l);if(z.next==null)return s1.empty;let Q=fX(z);if(z.next)z.err("Unexpected trailing text");let U=rJ(iJ(Q));return pJ(U,z),U}matchType(u){for(let l=0;l<this.next.length;l++)if(this.next[l].type==u)return this.next[l].next;return null}matchFragment(u,l=0,z=u.childCount){let Q=this;for(let U=l;Q&&U<z;U++)Q=Q.matchType(u.child(U).type);return Q}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let u=0;u<this.next.length;u++){let{type:l}=this.next[u];if(!(l.isText||l.hasRequiredAttrs()))return l}return null}compatible(u){for(let l=0;l<this.next.length;l++)for(let z=0;z<u.next.length;z++)if(this.next[l].type==u.next[z].type)return!0;return!1}fillBefore(u,l=!1,z=0){let Q=[this];function U(X,V){let Z=X.matchFragment(u,z);if(Z&&(!l||Z.validEnd))return I.from(V.map((Y)=>Y.createAndFill()));for(let Y=0;Y<X.next.length;Y++){let{type:W,next:L}=X.next[Y];if(!(W.isText||W.hasRequiredAttrs())&&Q.indexOf(L)==-1){Q.push(L);let H=U(L,V.concat(W));if(H)return H}}return null}return U(this,[])}findWrapping(u){for(let z=0;z<this.wrapCache.length;z+=2)if(this.wrapCache[z]==u)return this.wrapCache[z+1];let l=this.computeWrapping(u);return this.wrapCache.push(u,l),l}computeWrapping(u){let l=Object.create(null),z=[{match:this,type:null,via:null}];while(z.length){let Q=z.shift(),U=Q.match;if(U.matchType(u)){let X=[];for(let V=Q;V.type;V=V.via)X.push(V.type);return X.reverse()}for(let X=0;X<U.next.length;X++){let{type:V,next:Z}=U.next[X];if(!V.isLeaf&&!V.hasRequiredAttrs()&&!(V.name in l)&&(!Q.type||Z.validEnd))z.push({match:V.contentMatch,type:V,via:Q}),l[V.name]=!0}}return null}get edgeCount(){return this.next.length}edge(u){if(u>=this.next.length)throw new RangeError(`There's no ${u}th edge in this content match`);return this.next[u]}toString(){let u=[];function l(z){u.push(z);for(let Q=0;Q<z.next.length;Q++)if(u.indexOf(z.next[Q].next)==-1)l(z.next[Q].next)}return l(this),u.map((z,Q)=>{let U=Q+(z.validEnd?"*":" ")+" ";for(let X=0;X<z.next.length;X++)U+=(X?", ":"")+z.next[X].type.name+"->"+u.indexOf(z.next[X].next);return U}).join(`
`)}}s1.empty=new s1(!0);class kX{constructor(u,l){if(this.string=u,this.nodeTypes=l,this.inline=null,this.pos=0,this.tokens=u.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]=="")this.tokens.pop();if(this.tokens[0]=="")this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(u){return this.next==u&&(this.pos++||!0)}err(u){throw new SyntaxError(u+" (in content expression '"+this.string+"')")}}function fX(u){let l=[];do l.push(hJ(u));while(u.eat("|"));return l.length==1?l[0]:{type:"choice",exprs:l}}function hJ(u){let l=[];do l.push(bJ(u));while(u.next&&u.next!=")"&&u.next!="|");return l.length==1?l[0]:{type:"seq",exprs:l}}function bJ(u){let l=nJ(u);for(;;)if(u.eat("+"))l={type:"plus",expr:l};else if(u.eat("*"))l={type:"star",expr:l};else if(u.eat("?"))l={type:"opt",expr:l};else if(u.eat("{"))l=cJ(u,l);else break;return l}function qX(u){if(/\D/.test(u.next))u.err("Expected number, got '"+u.next+"'");let l=Number(u.next);return u.pos++,l}function cJ(u,l){let z=qX(u),Q=z;if(u.eat(","))if(u.next!="}")Q=qX(u);else Q=-1;if(!u.eat("}"))u.err("Unclosed braced range");return{type:"range",min:z,max:Q,expr:l}}function mJ(u,l){let z=u.nodeTypes,Q=z[l];if(Q)return[Q];let U=[];for(let X in z){let V=z[X];if(V.isInGroup(l))U.push(V)}if(U.length==0)u.err("No node type or group '"+l+"' found");return U}function nJ(u){if(u.eat("(")){let l=fX(u);if(!u.eat(")"))u.err("Missing closing paren");return l}else if(!/\W/.test(u.next)){let l=mJ(u,u.next).map((z)=>{if(u.inline==null)u.inline=z.isInline;else if(u.inline!=z.isInline)u.err("Mixing inline and block content");return{type:"name",value:z}});return u.pos++,l.length==1?l[0]:{type:"choice",exprs:l}}else u.err("Unexpected token '"+u.next+"'")}function iJ(u){let l=[[]];return U(X(u,0),z()),l;function z(){return l.push([])-1}function Q(V,Z,Y){let W={term:Y,to:Z};return l[V].push(W),W}function U(V,Z){V.forEach((Y)=>Y.to=Z)}function X(V,Z){if(V.type=="choice")return V.exprs.reduce((Y,W)=>Y.concat(X(W,Z)),[]);else if(V.type=="seq")for(let Y=0;;Y++){let W=X(V.exprs[Y],Z);if(Y==V.exprs.length-1)return W;U(W,Z=z())}else if(V.type=="star"){let Y=z();return Q(Z,Y),U(X(V.expr,Y),Y),[Q(Y)]}else if(V.type=="plus"){let Y=z();return U(X(V.expr,Z),Y),U(X(V.expr,Y),Y),[Q(Y)]}else if(V.type=="opt")return[Q(Z)].concat(X(V.expr,Z));else if(V.type=="range"){let Y=Z;for(let W=0;W<V.min;W++){let L=z();U(X(V.expr,Y),L),Y=L}if(V.max==-1)U(X(V.expr,Y),Y);else for(let W=V.min;W<V.max;W++){let L=z();Q(Y,L),U(X(V.expr,Y),L),Y=L}return[Q(Y)]}else if(V.type=="name")return[Q(Z,void 0,V.value)];else throw new Error("Unknown expr type")}}function $X(u,l){return l-u}function PX(u,l){let z=[];return Q(l),z.sort($X);function Q(U){let X=u[U];if(X.length==1&&!X[0].term)return Q(X[0].to);z.push(U);for(let V=0;V<X.length;V++){let{term:Z,to:Y}=X[V];if(!Z&&z.indexOf(Y)==-1)Q(Y)}}}function rJ(u){let l=Object.create(null);return z(PX(u,0));function z(Q){let U=[];Q.forEach((V)=>{u[V].forEach(({term:Z,to:Y})=>{if(!Z)return;let W;for(let L=0;L<U.length;L++)if(U[L][0]==Z)W=U[L][1];PX(u,Y).forEach((L)=>{if(!W)U.push([Z,W=[]]);if(W.indexOf(L)==-1)W.push(L)})})});let X=l[Q.join(",")]=new s1(Q.indexOf(u.length-1)>-1);for(let V=0;V<U.length;V++){let Z=U[V][1].sort($X);X.next.push({type:U[V][0],next:l[Z.join(",")]||z(Z)})}return X}}function pJ(u,l){for(let z=0,Q=[u];z<Q.length;z++){let U=Q[z],X=!U.validEnd,V=[];for(let Z=0;Z<U.next.length;Z++){let{type:Y,next:W}=U.next[Z];if(V.push(Y.name),X&&!(Y.isText||Y.hasRequiredAttrs()))X=!1;if(Q.indexOf(W)==-1)Q.push(W)}if(X)l.err("Only non-generatable nodes ("+V.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function xX(u){let l=Object.create(null);for(let z in u){let Q=u[z];if(!Q.hasDefault)return null;l[z]=Q.default}return l}function gX(u,l){let z=Object.create(null);for(let Q in u){let U=l&&l[Q];if(U===void 0){let X=u[Q];if(X.hasDefault)U=X.default;else throw new RangeError("No value supplied for attribute "+Q)}z[Q]=U}return z}function wX(u,l,z,Q){for(let U in l)if(!(U in u))throw new RangeError(`Unsupported attribute ${U} for ${z} of type ${U}`);for(let U in u){let X=u[U];if(X.validate)X.validate(l[U])}}function vX(u,l){let z=Object.create(null);if(l)for(let Q in l)z[Q]=new hX(u,Q,l[Q]);return z}class e4{constructor(u,l,z){this.name=u,this.schema=l,this.spec=z,this.markSet=null,this.groups=z.group?z.group.split(" "):[],this.attrs=vX(u,z.attrs),this.defaultAttrs=xX(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(z.inline||u=="text"),this.isText=u=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==s1.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(u){return this.groups.indexOf(u)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let u in this.attrs)if(this.attrs[u].isRequired)return!0;return!1}compatibleContent(u){return this==u||this.contentMatch.compatible(u.contentMatch)}computeAttrs(u){if(!u&&this.defaultAttrs)return this.defaultAttrs;else return gX(this.attrs,u)}create(u=null,l,z){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new pu(this,this.computeAttrs(u),I.from(l),w.setFrom(z))}createChecked(u=null,l,z){return l=I.from(l),this.checkContent(l),new pu(this,this.computeAttrs(u),l,w.setFrom(z))}createAndFill(u=null,l,z){if(u=this.computeAttrs(u),l=I.from(l),l.size){let X=this.contentMatch.fillBefore(l);if(!X)return null;l=X.append(l)}let Q=this.contentMatch.matchFragment(l),U=Q&&Q.fillBefore(I.empty,!0);if(!U)return null;return new pu(this,u,l.append(U),w.setFrom(z))}validContent(u){let l=this.contentMatch.matchFragment(u);if(!l||!l.validEnd)return!1;for(let z=0;z<u.childCount;z++)if(!this.allowsMarks(u.child(z).marks))return!1;return!0}checkContent(u){if(!this.validContent(u))throw new RangeError(`Invalid content for node ${this.name}: ${u.toString().slice(0,50)}`)}checkAttrs(u){wX(this.attrs,u,"node",this.name)}allowsMarkType(u){return this.markSet==null||this.markSet.indexOf(u)>-1}allowsMarks(u){if(this.markSet==null)return!0;for(let l=0;l<u.length;l++)if(!this.allowsMarkType(u[l].type))return!1;return!0}allowedMarks(u){if(this.markSet==null)return u;let l;for(let z=0;z<u.length;z++)if(!this.allowsMarkType(u[z].type)){if(!l)l=u.slice(0,z)}else if(l)l.push(u[z]);return!l?u:l.length?l:w.none}static compile(u,l){let z=Object.create(null);u.forEach((U,X)=>z[U]=new e4(U,l,X));let Q=l.spec.topNode||"doc";if(!z[Q])throw new RangeError("Schema is missing its top node type ('"+Q+"')");if(!z.text)throw new RangeError("Every schema needs a 'text' type");for(let U in z.text.attrs)throw new RangeError("The text node type should not have attributes");return z}}function dJ(u,l,z){let Q=z.split("|");return(U)=>{let X=U===null?"null":typeof U;if(Q.indexOf(X)<0)throw new RangeError(`Expected value of type ${Q} for attribute ${l} on type ${u}, got ${X}`)}}class hX{constructor(u,l,z){this.hasDefault=Object.prototype.hasOwnProperty.call(z,"default"),this.default=z.default,this.validate=typeof z.validate=="string"?dJ(u,l,z.validate):z.validate}get isRequired(){return!this.hasDefault}}class V3{constructor(u,l,z,Q){this.name=u,this.rank=l,this.schema=z,this.spec=Q,this.attrs=vX(u,Q.attrs),this.excluded=null;let U=xX(this.attrs);this.instance=U?new w(this,U):null}create(u=null){if(!u&&this.instance)return this.instance;return new w(this,gX(this.attrs,u))}static compile(u,l){let z=Object.create(null),Q=0;return u.forEach((U,X)=>z[U]=new V3(U,Q++,l,X)),z}removeFromSet(u){for(var l=0;l<u.length;l++)if(u[l].type==this)u=u.slice(0,l).concat(u.slice(l+1)),l--;return u}isInSet(u){for(let l=0;l<u.length;l++)if(u[l].type==this)return u[l]}checkAttrs(u){wX(this.attrs,u,"mark",this.name)}excludes(u){return this.excluded.indexOf(u)>-1}}class u8{constructor(u){this.linebreakReplacement=null,this.cached=Object.create(null);let l=this.spec={};for(let Q in u)l[Q]=u[Q];l.nodes=Qz.from(u.nodes),l.marks=Qz.from(u.marks||{}),this.nodes=e4.compile(this.spec.nodes,this),this.marks=V3.compile(this.spec.marks,this);let z=Object.create(null);for(let Q in this.nodes){if(Q in this.marks)throw new RangeError(Q+" can not be both a node and a mark");let U=this.nodes[Q],X=U.spec.content||"",V=U.spec.marks;if(U.contentMatch=z[X]||(z[X]=s1.parse(X,this.nodes)),U.inlineContent=U.contentMatch.inlineContent,U.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!U.isInline||!U.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=U}U.markSet=V=="_"?null:V?EX(this,V.split(" ")):V==""||!U.inlineContent?[]:null}for(let Q in this.marks){let U=this.marks[Q],X=U.spec.excludes;U.excluded=X==null?[U]:X==""?[]:EX(this,X.split(" "))}this.nodeFromJSON=(Q)=>pu.fromJSON(this,Q),this.markFromJSON=(Q)=>w.fromJSON(this,Q),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(u,l=null,z,Q){if(typeof u=="string")u=this.nodeType(u);else if(!(u instanceof e4))throw new RangeError("Invalid node type: "+u);else if(u.schema!=this)throw new RangeError("Node type from different schema used ("+u.name+")");return u.createChecked(l,z,Q)}text(u,l){let z=this.nodes.text;return new t4(z,z.defaultAttrs,u,w.setFrom(l))}mark(u,l){if(typeof u=="string")u=this.marks[u];return u.create(l)}nodeType(u){let l=this.nodes[u];if(!l)throw new RangeError("Unknown node type: "+u);return l}}function EX(u,l){let z=[];for(let Q=0;Q<l.length;Q++){let U=l[Q],X=u.marks[U],V=X;if(X)z.push(X);else for(let Z in u.marks){let Y=u.marks[Z];if(U=="_"||Y.spec.group&&Y.spec.group.split(" ").indexOf(U)>-1)z.push(V=Y)}if(!V)throw new SyntaxError("Unknown mark type: '"+l[Q]+"'")}return z}function aJ(u){return u.tag!=null}function sJ(u){return u.style!=null}class q0{constructor(u,l){this.schema=u,this.rules=l,this.tags=[],this.styles=[];let z=this.matchedStyles=[];l.forEach((Q)=>{if(aJ(Q))this.tags.push(Q);else if(sJ(Q)){let U=/[^=]*/.exec(Q.style)[0];if(z.indexOf(U)<0)z.push(U);this.styles.push(Q)}}),this.normalizeLists=!this.tags.some((Q)=>{if(!/^(ul|ol)\b/.test(Q.tag)||!Q.node)return!1;let U=u.nodes[Q.node];return U.contentMatch.matchType(U)})}parse(u,l={}){let z=new Yz(this,l,!1);return z.addAll(u,w.none,l.from,l.to),z.finish()}parseSlice(u,l={}){let z=new Yz(this,l,!0);return z.addAll(u,w.none,l.from,l.to),N.maxOpen(z.finish())}matchTag(u,l,z){for(let Q=z?this.tags.indexOf(z)+1:0;Q<this.tags.length;Q++){let U=this.tags[Q];if(eJ(u,U.tag)&&(U.namespace===void 0||u.namespaceURI==U.namespace)&&(!U.context||l.matchesContext(U.context))){if(U.getAttrs){let X=U.getAttrs(u);if(X===!1)continue;U.attrs=X||void 0}return U}}}matchStyle(u,l,z,Q){for(let U=Q?this.styles.indexOf(Q)+1:0;U<this.styles.length;U++){let X=this.styles[U],V=X.style;if(V.indexOf(u)!=0||X.context&&!z.matchesContext(X.context)||V.length>u.length&&(V.charCodeAt(u.length)!=61||V.slice(u.length+1)!=l))continue;if(X.getAttrs){let Z=X.getAttrs(l);if(Z===!1)continue;X.attrs=Z||void 0}return X}}static schemaRules(u){let l=[];function z(Q){let U=Q.priority==null?50:Q.priority,X=0;for(;X<l.length;X++){let V=l[X];if((V.priority==null?50:V.priority)<U)break}l.splice(X,0,Q)}for(let Q in u.marks){let U=u.marks[Q].spec.parseDOM;if(U)U.forEach((X)=>{if(z(X=BX(X)),!(X.mark||X.ignore||X.clearMark))X.mark=Q})}for(let Q in u.nodes){let U=u.nodes[Q].spec.parseDOM;if(U)U.forEach((X)=>{if(z(X=BX(X)),!(X.node||X.ignore||X.mark))X.node=Q})}return l}static fromSchema(u){return u.cached.domParser||(u.cached.domParser=new q0(u,q0.schemaRules(u)))}}var bX={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},oJ={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},cX={ol:!0,ul:!0},X3=1,Zz=2,Q3=4;function CX(u,l,z){if(l!=null)return(l?X3:0)|(l==="full"?Zz:0);return u&&u.whitespace=="pre"?X3|Zz:z&~Q3}class l3{constructor(u,l,z,Q,U,X){this.type=u,this.attrs=l,this.marks=z,this.solid=Q,this.options=X,this.content=[],this.activeMarks=w.none,this.match=U||(X&Q3?null:u.contentMatch)}findWrapping(u){if(!this.match){if(!this.type)return[];let l=this.type.contentMatch.fillBefore(I.from(u));if(l)this.match=this.type.contentMatch.matchFragment(l);else{let z=this.type.contentMatch,Q;if(Q=z.findWrapping(u.type))return this.match=z,Q;else return null}}return this.match.findWrapping(u.type)}finish(u){if(!(this.options&X3)){let z=this.content[this.content.length-1],Q;if(z&&z.isText&&(Q=/[ \t\r\n\u000c]+$/.exec(z.text))){let U=z;if(z.text.length==Q[0].length)this.content.pop();else this.content[this.content.length-1]=U.withText(U.text.slice(0,U.text.length-Q[0].length))}}let l=I.from(this.content);if(!u&&this.match)l=l.append(this.match.fillBefore(I.empty,!0));return this.type?this.type.create(this.attrs,l,this.marks):l}inlineContext(u){if(this.type)return this.type.inlineContent;if(this.content.length)return this.content[0].isInline;return u.parentNode&&!bX.hasOwnProperty(u.parentNode.nodeName.toLowerCase())}}class Yz{constructor(u,l,z){this.parser=u,this.options=l,this.isOpen=z,this.open=0,this.localPreserveWS=!1;let Q=l.topNode,U,X=CX(null,l.preserveWhitespace,0)|(z?Q3:0);if(Q)U=new l3(Q.type,Q.attrs,w.none,!0,l.topMatch||Q.type.contentMatch,X);else if(z)U=new l3(null,null,w.none,!0,null,X);else U=new l3(u.schema.topNodeType,null,w.none,!0,null,X);this.nodes=[U],this.find=l.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(u,l){if(u.nodeType==3)this.addTextNode(u,l);else if(u.nodeType==1)this.addElement(u,l)}addTextNode(u,l){let z=u.nodeValue,Q=this.top,U=Q.options&Zz?"full":this.localPreserveWS||(Q.options&X3)>0;if(U==="full"||Q.inlineContext(u)||/[^ \t\r\n\u000c]/.test(z)){if(!U){if(z=z.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(z)&&this.open==this.nodes.length-1){let X=Q.content[Q.content.length-1],V=u.previousSibling;if(!X||V&&V.nodeName=="BR"||X.isText&&/[ \t\r\n\u000c]$/.test(X.text))z=z.slice(1)}}else if(U!=="full")z=z.replace(/\r?\n|\r/g," ");else z=z.replace(/\r\n?/g,`
`);if(z)this.insertNode(this.parser.schema.text(z),l,!/\S/.test(z));this.findInText(u)}else this.findInside(u)}addElement(u,l,z){let Q=this.localPreserveWS,U=this.top;if(u.tagName=="PRE"||/pre/.test(u.style&&u.style.whiteSpace))this.localPreserveWS=!0;let X=u.nodeName.toLowerCase(),V;if(cX.hasOwnProperty(X)&&this.parser.normalizeLists)tJ(u);let Z=this.options.ruleFromNode&&this.options.ruleFromNode(u)||(V=this.parser.matchTag(u,this,z));u:if(Z?Z.ignore:oJ.hasOwnProperty(X))this.findInside(u),this.ignoreFallback(u,l);else if(!Z||Z.skip||Z.closeParent){if(Z&&Z.closeParent)this.open=Math.max(0,this.open-1);else if(Z&&Z.skip.nodeType)u=Z.skip;let Y,W=this.needsBlock;if(bX.hasOwnProperty(X)){if(U.content.length&&U.content[0].isInline&&this.open)this.open--,U=this.top;if(Y=!0,!U.type)this.needsBlock=!0}else if(!u.firstChild){this.leafFallback(u,l);break u}let L=Z&&Z.skip?l:this.readStyles(u,l);if(L)this.addAll(u,L);if(Y)this.sync(U);this.needsBlock=W}else{let Y=this.readStyles(u,l);if(Y)this.addElementByRule(u,Z,Y,Z.consuming===!1?V:void 0)}this.localPreserveWS=Q}leafFallback(u,l){if(u.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent)this.addTextNode(u.ownerDocument.createTextNode(`
`),l)}ignoreFallback(u,l){if(u.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent))this.findPlace(this.parser.schema.text("-"),l,!0)}readStyles(u,l){let z=u.style;if(z&&z.length)for(let Q=0;Q<this.parser.matchedStyles.length;Q++){let U=this.parser.matchedStyles[Q],X=z.getPropertyValue(U);if(X)for(let V=void 0;;){let Z=this.parser.matchStyle(U,X,this,V);if(!Z)break;if(Z.ignore)return null;if(Z.clearMark)l=l.filter((Y)=>!Z.clearMark(Y));else l=l.concat(this.parser.schema.marks[Z.mark].create(Z.attrs));if(Z.consuming===!1)V=Z;else break}}return l}addElementByRule(u,l,z,Q){let U,X;if(l.node){if(X=this.parser.schema.nodes[l.node],!X.isLeaf){let Z=this.enter(X,l.attrs||null,z,l.preserveWhitespace);if(Z)U=!0,z=Z}else if(!this.insertNode(X.create(l.attrs),z,u.nodeName=="BR"))this.leafFallback(u,z)}else{let Z=this.parser.schema.marks[l.mark];z=z.concat(Z.create(l.attrs))}let V=this.top;if(X&&X.isLeaf)this.findInside(u);else if(Q)this.addElement(u,z,Q);else if(l.getContent)this.findInside(u),l.getContent(u,this.parser.schema).forEach((Z)=>this.insertNode(Z,z,!1));else{let Z=u;if(typeof l.contentElement=="string")Z=u.querySelector(l.contentElement);else if(typeof l.contentElement=="function")Z=l.contentElement(u);else if(l.contentElement)Z=l.contentElement;this.findAround(u,Z,!0),this.addAll(Z,z),this.findAround(u,Z,!1)}if(U&&this.sync(V))this.open--}addAll(u,l,z,Q){let U=z||0;for(let X=z?u.childNodes[z]:u.firstChild,V=Q==null?null:u.childNodes[Q];X!=V;X=X.nextSibling,++U)this.findAtPoint(u,U),this.addDOM(X,l);this.findAtPoint(u,U)}findPlace(u,l,z){let Q,U;for(let X=this.open,V=0;X>=0;X--){let Z=this.nodes[X],Y=Z.findWrapping(u);if(Y&&(!Q||Q.length>Y.length+V)){if(Q=Y,U=Z,!Y.length)break}if(Z.solid){if(z)break;V+=2}}if(!Q)return null;this.sync(U);for(let X=0;X<Q.length;X++)l=this.enterInner(Q[X],null,l,!1);return l}insertNode(u,l,z){if(u.isInline&&this.needsBlock&&!this.top.type){let U=this.textblockFromContext();if(U)l=this.enterInner(U,null,l)}let Q=this.findPlace(u,l,z);if(Q){this.closeExtra();let U=this.top;if(U.match)U.match=U.match.matchType(u.type);let X=w.none;for(let V of Q.concat(u.marks))if(U.type?U.type.allowsMarkType(V.type):IX(V.type,u.type))X=V.addToSet(X);return U.content.push(u.mark(X)),!0}return!1}enter(u,l,z,Q){let U=this.findPlace(u.create(l),z,!1);if(U)U=this.enterInner(u,l,z,!0,Q);return U}enterInner(u,l,z,Q=!1,U){this.closeExtra();let X=this.top;X.match=X.match&&X.match.matchType(u);let V=CX(u,U,X.options);if(X.options&Q3&&X.content.length==0)V|=Q3;let Z=w.none;return z=z.filter((Y)=>{if(X.type?X.type.allowsMarkType(Y.type):IX(Y.type,u))return Z=Y.addToSet(Z),!1;return!0}),this.nodes.push(new l3(u,l,Z,Q,null,V)),this.open++,z}closeExtra(u=!1){let l=this.nodes.length-1;if(l>this.open){for(;l>this.open;l--)this.nodes[l-1].content.push(this.nodes[l].finish(u));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(u){for(let l=this.open;l>=0;l--)if(this.nodes[l]==u)return this.open=l,!0;else if(this.localPreserveWS)this.nodes[l].options|=X3;return!1}get currentPos(){this.closeExtra();let u=0;for(let l=this.open;l>=0;l--){let z=this.nodes[l].content;for(let Q=z.length-1;Q>=0;Q--)u+=z[Q].nodeSize;if(l)u++}return u}findAtPoint(u,l){if(this.find){for(let z=0;z<this.find.length;z++)if(this.find[z].node==u&&this.find[z].offset==l)this.find[z].pos=this.currentPos}}findInside(u){if(this.find){for(let l=0;l<this.find.length;l++)if(this.find[l].pos==null&&u.nodeType==1&&u.contains(this.find[l].node))this.find[l].pos=this.currentPos}}findAround(u,l,z){if(u!=l&&this.find){for(let Q=0;Q<this.find.length;Q++)if(this.find[Q].pos==null&&u.nodeType==1&&u.contains(this.find[Q].node)){if(l.compareDocumentPosition(this.find[Q].node)&(z?2:4))this.find[Q].pos=this.currentPos}}}findInText(u){if(this.find){for(let l=0;l<this.find.length;l++)if(this.find[l].node==u)this.find[l].pos=this.currentPos-(u.nodeValue.length-this.find[l].offset)}}matchesContext(u){if(u.indexOf("|")>-1)return u.split(/\s*\|\s*/).some(this.matchesContext,this);let l=u.split("/"),z=this.options.context,Q=!this.isOpen&&(!z||z.parent.type==this.nodes[0].type),U=-(z?z.depth+1:0)+(Q?0:1),X=(V,Z)=>{for(;V>=0;V--){let Y=l[V];if(Y==""){if(V==l.length-1||V==0)continue;for(;Z>=U;Z--)if(X(V-1,Z))return!0;return!1}else{let W=Z>0||Z==0&&Q?this.nodes[Z].type:z&&Z>=U?z.node(Z-U).type:null;if(!W||W.name!=Y&&!W.isInGroup(Y))return!1;Z--}}return!0};return X(l.length-1,this.open)}textblockFromContext(){let u=this.options.context;if(u)for(let l=u.depth;l>=0;l--){let z=u.node(l).contentMatchAt(u.indexAfter(l)).defaultType;if(z&&z.isTextblock&&z.defaultAttrs)return z}for(let l in this.parser.schema.nodes){let z=this.parser.schema.nodes[l];if(z.isTextblock&&z.defaultAttrs)return z}}}function tJ(u){for(let l=u.firstChild,z=null;l;l=l.nextSibling){let Q=l.nodeType==1?l.nodeName.toLowerCase():null;if(Q&&cX.hasOwnProperty(Q)&&z)z.appendChild(l),l=z;else if(Q=="li")z=l;else if(Q)z=null}}function eJ(u,l){return(u.matches||u.msMatchesSelector||u.webkitMatchesSelector||u.mozMatchesSelector).call(u,l)}function BX(u){let l={};for(let z in u)l[z]=u[z];return l}function IX(u,l){let z=l.schema.nodes;for(let Q in z){let U=z[Q];if(!U.allowsMarkType(u))continue;let X=[],V=(Z)=>{X.push(Z);for(let Y=0;Y<Z.edgeCount;Y++){let{type:W,next:L}=Z.edge(Y);if(W==l)return!0;if(X.indexOf(L)<0&&V(L))return!0}};if(V(U.contentMatch))return!0}}class N0{constructor(u,l){this.nodes=u,this.marks=l}serializeFragment(u,l={},z){if(!z)z=Xz(l).createDocumentFragment();let Q=z,U=[];return u.forEach((X)=>{if(U.length||X.marks.length){let V=0,Z=0;while(V<U.length&&Z<X.marks.length){let Y=X.marks[Z];if(!this.marks[Y.type.name]){Z++;continue}if(!Y.eq(U[V][0])||Y.type.spec.spanning===!1)break;V++,Z++}while(V<U.length)Q=U.pop()[1];while(Z<X.marks.length){let Y=X.marks[Z++],W=this.serializeMark(Y,X.isInline,l);if(W)U.push([Y,Q]),Q.appendChild(W.dom),Q=W.contentDOM||W.dom}}Q.appendChild(this.serializeNodeInner(X,l))}),z}serializeNodeInner(u,l){let{dom:z,contentDOM:Q}=a4(Xz(l),this.nodes[u.type.name](u),null,u.attrs);if(Q){if(u.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(u.content,l,Q)}return z}serializeNode(u,l={}){let z=this.serializeNodeInner(u,l);for(let Q=u.marks.length-1;Q>=0;Q--){let U=this.serializeMark(u.marks[Q],u.isInline,l);if(U)(U.contentDOM||U.dom).appendChild(z),z=U.dom}return z}serializeMark(u,l,z={}){let Q=this.marks[u.type.name];return Q&&a4(Xz(z),Q(u,l),null,u.attrs)}static renderSpec(u,l,z=null,Q){return a4(u,l,z,Q)}static fromSchema(u){return u.cached.domSerializer||(u.cached.domSerializer=new N0(this.nodesFromSchema(u),this.marksFromSchema(u)))}static nodesFromSchema(u){let l=FX(u.nodes);if(!l.text)l.text=(z)=>z.text;return l}static marksFromSchema(u){return FX(u.marks)}}function FX(u){let l={};for(let z in u){let Q=u[z].spec.toDOM;if(Q)l[z]=Q}return l}function Xz(u){return u.document||window.document}var jX=new WeakMap;function u_(u){let l=jX.get(u);if(l===void 0)jX.set(u,l=l_(u));return l}function l_(u){let l=null;function z(Q){if(Q&&typeof Q=="object")if(Array.isArray(Q))if(typeof Q[0]=="string"){if(!l)l=[];l.push(Q)}else for(let U=0;U<Q.length;U++)z(Q[U]);else for(let U in Q)z(Q[U])}return z(u),l}function a4(u,l,z,Q){if(typeof l=="string")return{dom:u.createTextNode(l)};if(l.nodeType!=null)return{dom:l};if(l.dom&&l.dom.nodeType!=null)return l;let U=l[0],X;if(typeof U!="string")throw new RangeError("Invalid array passed to renderSpec");if(Q&&(X=u_(Q))&&X.indexOf(l)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let V=U.indexOf(" ");if(V>0)z=U.slice(0,V),U=U.slice(V+1);let Z,Y=z?u.createElementNS(z,U):u.createElement(U),W=l[1],L=1;if(W&&typeof W=="object"&&W.nodeType==null&&!Array.isArray(W)){L=2;for(let H in W)if(W[H]!=null){let J=H.indexOf(" ");if(J>0)Y.setAttributeNS(H.slice(0,J),H.slice(J+1),W[H]);else if(H=="style"&&Y.style)Y.style.cssText=W[H];else Y.setAttribute(H,W[H])}}for(let H=L;H<l.length;H++){let J=l[H];if(J===0){if(H<l.length-1||H>L)throw new RangeError("Content hole must be the only child of its parent node");return{dom:Y,contentDOM:Y}}else{let{dom:K,contentDOM:_}=a4(u,J,z,Q);if(Y.appendChild(K),_){if(Z)throw new RangeError("Multiple content holes");Z=_}}}return{dom:Y,contentDOM:Z}}var iX=65535,rX=Math.pow(2,16);function z_(u,l){return u+l*rX}function mX(u){return u&iX}function Q_(u){return(u-(u&iX))/rX}var pX=1,dX=2,l8=4,aX=8;class z8{constructor(u,l,z){this.pos=u,this.delInfo=l,this.recover=z}get deleted(){return(this.delInfo&aX)>0}get deletedBefore(){return(this.delInfo&(pX|l8))>0}get deletedAfter(){return(this.delInfo&(dX|l8))>0}get deletedAcross(){return(this.delInfo&l8)>0}}class du{constructor(u,l=!1){if(this.ranges=u,this.inverted=l,!u.length&&du.empty)return du.empty}recover(u){let l=0,z=mX(u);if(!this.inverted)for(let Q=0;Q<z;Q++)l+=this.ranges[Q*3+2]-this.ranges[Q*3+1];return this.ranges[z*3]+l+Q_(u)}mapResult(u,l=1){return this._map(u,l,!1)}map(u,l=1){return this._map(u,l,!0)}_map(u,l,z){let Q=0,U=this.inverted?2:1,X=this.inverted?1:2;for(let V=0;V<this.ranges.length;V+=3){let Z=this.ranges[V]-(this.inverted?Q:0);if(Z>u)break;let Y=this.ranges[V+U],W=this.ranges[V+X],L=Z+Y;if(u<=L){let H=!Y?l:u==Z?-1:u==L?1:l,J=Z+Q+(H<0?0:W);if(z)return J;let K=u==(l<0?Z:L)?null:z_(V/3,u-Z),_=u==Z?dX:u==L?pX:l8;if(l<0?u!=Z:u!=L)_|=aX;return new z8(J,_,K)}Q+=W-Y}return z?u+Q:new z8(u+Q,0,null)}touches(u,l){let z=0,Q=mX(l),U=this.inverted?2:1,X=this.inverted?1:2;for(let V=0;V<this.ranges.length;V+=3){let Z=this.ranges[V]-(this.inverted?z:0);if(Z>u)break;let Y=this.ranges[V+U],W=Z+Y;if(u<=W&&V==Q*3)return!0;z+=this.ranges[V+X]-Y}return!1}forEach(u){let l=this.inverted?2:1,z=this.inverted?1:2;for(let Q=0,U=0;Q<this.ranges.length;Q+=3){let X=this.ranges[Q],V=X-(this.inverted?U:0),Z=X+(this.inverted?0:U),Y=this.ranges[Q+l],W=this.ranges[Q+z];u(V,V+Y,Z,Z+W),U+=W-Y}}invert(){return new du(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(u){return u==0?du.empty:new du(u<0?[0,-u,0]:[0,0,u])}}du.empty=new du([]);class ml{constructor(u,l,z=0,Q=u?u.length:0){this.mirror=l,this.from=z,this.to=Q,this._maps=u||[],this.ownData=!(u||l)}get maps(){return this._maps}slice(u=0,l=this.maps.length){return new ml(this._maps,this.mirror,u,l)}appendMap(u,l){if(!this.ownData)this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0;if(this.to=this._maps.push(u),l!=null)this.setMirror(this._maps.length-1,l)}appendMapping(u){for(let l=0,z=this._maps.length;l<u._maps.length;l++){let Q=u.getMirror(l);this.appendMap(u._maps[l],Q!=null&&Q<l?z+Q:void 0)}}getMirror(u){if(this.mirror){for(let l=0;l<this.mirror.length;l++)if(this.mirror[l]==u)return this.mirror[l+(l%2?-1:1)]}}setMirror(u,l){if(!this.mirror)this.mirror=[];this.mirror.push(u,l)}appendMappingInverted(u){for(let l=u.maps.length-1,z=this._maps.length+u._maps.length;l>=0;l--){let Q=u.getMirror(l);this.appendMap(u._maps[l].invert(),Q!=null&&Q>l?z-Q-1:void 0)}}invert(){let u=new ml;return u.appendMappingInverted(this),u}map(u,l=1){if(this.mirror)return this._map(u,l,!0);for(let z=this.from;z<this.to;z++)u=this._maps[z].map(u,l);return u}mapResult(u,l=1){return this._map(u,l,!1)}_map(u,l,z){let Q=0;for(let U=this.from;U<this.to;U++){let X=this._maps[U],V=X.mapResult(u,l);if(V.recover!=null){let Z=this.getMirror(U);if(Z!=null&&Z>U&&Z<this.to){U=Z,u=this._maps[Z].recover(V.recover);continue}}Q|=V.delInfo,u=V.pos}return z?u:new z8(u,Q,null)}}var Wz=Object.create(null);class Gu{getMap(){return du.empty}merge(u){return null}static fromJSON(u,l){if(!l||!l.stepType)throw new RangeError("Invalid input for Step.fromJSON");let z=Wz[l.stepType];if(!z)throw new RangeError(`No step type ${l.stepType} defined`);return z.fromJSON(u,l)}static jsonID(u,l){if(u in Wz)throw new RangeError("Duplicate use of step JSON ID "+u);return Wz[u]=l,l.prototype.jsonID=u,l}}class Vu{constructor(u,l){this.doc=u,this.failed=l}static ok(u){return new Vu(u,null)}static fail(u){return new Vu(null,u)}static fromReplace(u,l,z,Q){try{return Vu.ok(u.replace(l,z,Q))}catch(U){if(U instanceof hl)return Vu.fail(U.message);throw U}}}function _z(u,l,z){let Q=[];for(let U=0;U<u.childCount;U++){let X=u.child(U);if(X.content.size)X=X.copy(_z(X.content,l,X));if(X.isInline)X=l(X,z,U);Q.push(X)}return I.fromArray(Q)}class E1 extends Gu{constructor(u,l,z){super();this.from=u,this.to=l,this.mark=z}apply(u){let l=u.slice(this.from,this.to),z=u.resolve(this.from),Q=z.node(z.sharedDepth(this.to)),U=new N(_z(l.content,(X,V)=>{if(!X.isAtom||!V.type.allowsMarkType(this.mark.type))return X;return X.mark(this.mark.addToSet(X.marks))},Q),l.openStart,l.openEnd);return Vu.fromReplace(u,this.from,this.to,U)}invert(){return new A0(this.from,this.to,this.mark)}map(u){let l=u.mapResult(this.from,1),z=u.mapResult(this.to,-1);if(l.deleted&&z.deleted||l.pos>=z.pos)return null;return new E1(l.pos,z.pos,this.mark)}merge(u){if(u instanceof E1&&u.mark.eq(this.mark)&&this.from<=u.to&&this.to>=u.from)return new E1(Math.min(this.from,u.from),Math.max(this.to,u.to),this.mark);return null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(u,l){if(typeof l.from!="number"||typeof l.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new E1(l.from,l.to,u.markFromJSON(l.mark))}}Gu.jsonID("addMark",E1);class A0 extends Gu{constructor(u,l,z){super();this.from=u,this.to=l,this.mark=z}apply(u){let l=u.slice(this.from,this.to),z=new N(_z(l.content,(Q)=>{return Q.mark(this.mark.removeFromSet(Q.marks))},u),l.openStart,l.openEnd);return Vu.fromReplace(u,this.from,this.to,z)}invert(){return new E1(this.from,this.to,this.mark)}map(u){let l=u.mapResult(this.from,1),z=u.mapResult(this.to,-1);if(l.deleted&&z.deleted||l.pos>=z.pos)return null;return new A0(l.pos,z.pos,this.mark)}merge(u){if(u instanceof A0&&u.mark.eq(this.mark)&&this.from<=u.to&&this.to>=u.from)return new A0(Math.min(this.from,u.from),Math.max(this.to,u.to),this.mark);return null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(u,l){if(typeof l.from!="number"||typeof l.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new A0(l.from,l.to,u.markFromJSON(l.mark))}}Gu.jsonID("removeMark",A0);class C1 extends Gu{constructor(u,l){super();this.pos=u,this.mark=l}apply(u){let l=u.nodeAt(this.pos);if(!l)return Vu.fail("No node at mark step's position");let z=l.type.create(l.attrs,null,this.mark.addToSet(l.marks));return Vu.fromReplace(u,this.pos,this.pos+1,new N(I.from(z),0,l.isLeaf?0:1))}invert(u){let l=u.nodeAt(this.pos);if(l){let z=this.mark.addToSet(l.marks);if(z.length==l.marks.length){for(let Q=0;Q<l.marks.length;Q++)if(!l.marks[Q].isInSet(z))return new C1(this.pos,l.marks[Q]);return new C1(this.pos,this.mark)}}return new o1(this.pos,this.mark)}map(u){let l=u.mapResult(this.pos,1);return l.deletedAfter?null:new C1(l.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(u,l){if(typeof l.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new C1(l.pos,u.markFromJSON(l.mark))}}Gu.jsonID("addNodeMark",C1);class o1 extends Gu{constructor(u,l){super();this.pos=u,this.mark=l}apply(u){let l=u.nodeAt(this.pos);if(!l)return Vu.fail("No node at mark step's position");let z=l.type.create(l.attrs,null,this.mark.removeFromSet(l.marks));return Vu.fromReplace(u,this.pos,this.pos+1,new N(I.from(z),0,l.isLeaf?0:1))}invert(u){let l=u.nodeAt(this.pos);if(!l||!this.mark.isInSet(l.marks))return this;return new C1(this.pos,this.mark)}map(u){let l=u.mapResult(this.pos,1);return l.deletedAfter?null:new o1(l.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(u,l){if(typeof l.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new o1(l.pos,u.markFromJSON(l.mark))}}Gu.jsonID("removeNodeMark",o1);class Qu extends Gu{constructor(u,l,z,Q=!1){super();this.from=u,this.to=l,this.slice=z,this.structure=Q}apply(u){if(this.structure&&Jz(u,this.from,this.to))return Vu.fail("Structure replace would overwrite content");return Vu.fromReplace(u,this.from,this.to,this.slice)}getMap(){return new du([this.from,this.to-this.from,this.slice.size])}invert(u){return new Qu(this.from,this.from+this.slice.size,u.slice(this.from,this.to))}map(u){let l=u.mapResult(this.from,1),z=u.mapResult(this.to,-1);if(l.deletedAcross&&z.deletedAcross)return null;return new Qu(l.pos,Math.max(l.pos,z.pos),this.slice,this.structure)}merge(u){if(!(u instanceof Qu)||u.structure||this.structure)return null;if(this.from+this.slice.size==u.from&&!this.slice.openEnd&&!u.slice.openStart){let l=this.slice.size+u.slice.size==0?N.empty:new N(this.slice.content.append(u.slice.content),this.slice.openStart,u.slice.openEnd);return new Qu(this.from,this.to+(u.to-u.from),l,this.structure)}else if(u.to==this.from&&!this.slice.openStart&&!u.slice.openEnd){let l=this.slice.size+u.slice.size==0?N.empty:new N(u.slice.content.append(this.slice.content),u.slice.openStart,this.slice.openEnd);return new Qu(u.from,this.to,l,this.structure)}else return null}toJSON(){let u={stepType:"replace",from:this.from,to:this.to};if(this.slice.size)u.slice=this.slice.toJSON();if(this.structure)u.structure=!0;return u}static fromJSON(u,l){if(typeof l.from!="number"||typeof l.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Qu(l.from,l.to,N.fromJSON(u,l.slice),!!l.structure)}}Gu.jsonID("replace",Qu);class e extends Gu{constructor(u,l,z,Q,U,X,V=!1){super();this.from=u,this.to=l,this.gapFrom=z,this.gapTo=Q,this.slice=U,this.insert=X,this.structure=V}apply(u){if(this.structure&&(Jz(u,this.from,this.gapFrom)||Jz(u,this.gapTo,this.to)))return Vu.fail("Structure gap-replace would overwrite content");let l=u.slice(this.gapFrom,this.gapTo);if(l.openStart||l.openEnd)return Vu.fail("Gap is not a flat range");let z=this.slice.insertAt(this.insert,l.content);if(!z)return Vu.fail("Content does not fit in gap");return Vu.fromReplace(u,this.from,this.to,z)}getMap(){return new du([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(u){let l=this.gapTo-this.gapFrom;return new e(this.from,this.from+this.slice.size+l,this.from+this.insert,this.from+this.insert+l,u.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(u){let l=u.mapResult(this.from,1),z=u.mapResult(this.to,-1),Q=this.from==this.gapFrom?l.pos:u.map(this.gapFrom,-1),U=this.to==this.gapTo?z.pos:u.map(this.gapTo,1);if(l.deletedAcross&&z.deletedAcross||Q<l.pos||U>z.pos)return null;return new e(l.pos,z.pos,Q,U,this.slice,this.insert,this.structure)}toJSON(){let u={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};if(this.slice.size)u.slice=this.slice.toJSON();if(this.structure)u.structure=!0;return u}static fromJSON(u,l){if(typeof l.from!="number"||typeof l.to!="number"||typeof l.gapFrom!="number"||typeof l.gapTo!="number"||typeof l.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new e(l.from,l.to,l.gapFrom,l.gapTo,N.fromJSON(u,l.slice),l.insert,!!l.structure)}}Gu.jsonID("replaceAround",e);function Jz(u,l,z){let Q=u.resolve(l),U=z-l,X=Q.depth;while(U>0&&X>0&&Q.indexAfter(X)==Q.node(X).childCount)X--,U--;if(U>0){let V=Q.node(X).maybeChild(Q.indexAfter(X));while(U>0){if(!V||V.isLeaf)return!0;V=V.firstChild,U--}}return!1}function U_(u,l,z,Q){let U=[],X=[],V,Z;u.doc.nodesBetween(l,z,(Y,W,L)=>{if(!Y.isInline)return;let H=Y.marks;if(!Q.isInSet(H)&&L.type.allowsMarkType(Q.type)){let J=Math.max(W,l),K=Math.min(W+Y.nodeSize,z),_=Q.addToSet(H);for(let q=0;q<H.length;q++)if(!H[q].isInSet(_))if(V&&V.to==J&&V.mark.eq(H[q]))V.to=K;else U.push(V=new A0(J,K,H[q]));if(Z&&Z.to==J)Z.to=K;else X.push(Z=new E1(J,K,Q))}}),U.forEach((Y)=>u.step(Y)),X.forEach((Y)=>u.step(Y))}function X_(u,l,z,Q){let U=[],X=0;u.doc.nodesBetween(l,z,(V,Z)=>{if(!V.isInline)return;X++;let Y=null;if(Q instanceof V3){let W=V.marks,L;while(L=Q.isInSet(W))(Y||(Y=[])).push(L),W=L.removeFromSet(W)}else if(Q){if(Q.isInSet(V.marks))Y=[Q]}else Y=V.marks;if(Y&&Y.length){let W=Math.min(Z+V.nodeSize,z);for(let L=0;L<Y.length;L++){let H=Y[L],J;for(let K=0;K<U.length;K++){let _=U[K];if(_.step==X-1&&H.eq(U[K].style))J=_}if(J)J.to=W,J.step=X;else U.push({style:H,from:Math.max(Z,l),to:W,step:X})}}}),U.forEach((V)=>u.step(new A0(V.from,V.to,V.style)))}function Kz(u,l,z,Q=z.contentMatch,U=!0){let X=u.doc.nodeAt(l),V=[],Z=l+1;for(let Y=0;Y<X.childCount;Y++){let W=X.child(Y),L=Z+W.nodeSize,H=Q.matchType(W.type);if(!H)V.push(new Qu(Z,L,N.empty));else{Q=H;for(let J=0;J<W.marks.length;J++)if(!z.allowsMarkType(W.marks[J].type))u.step(new A0(Z,L,W.marks[J]));if(U&&W.isText&&z.whitespace!="pre"){let J,K=/\r?\n|\r/g,_;while(J=K.exec(W.text)){if(!_)_=new N(I.from(z.schema.text(" ",z.allowedMarks(W.marks))),0,0);V.push(new Qu(Z+J.index,Z+J.index+J[0].length,_))}}}Z=L}if(!Q.validEnd){let Y=Q.fillBefore(I.empty,!0);u.replace(Z,Z,new N(Y,0,0))}for(let Y=V.length-1;Y>=0;Y--)u.step(V[Y])}function V_(u,l,z){return(l==0||u.canReplace(l,u.childCount))&&(z==u.childCount||u.canReplace(0,z))}function m0(u){let z=u.parent.content.cutByIndex(u.startIndex,u.endIndex);for(let Q=u.depth;;--Q){let U=u.$from.node(Q),X=u.$from.index(Q),V=u.$to.indexAfter(Q);if(Q<u.depth&&U.canReplace(X,V,z))return Q;if(Q==0||U.type.spec.isolating||!V_(U,X,V))break}return null}function Z_(u,l,z){let{$from:Q,$to:U,depth:X}=l,V=Q.before(X+1),Z=U.after(X+1),Y=V,W=Z,L=I.empty,H=0;for(let _=X,q=!1;_>z;_--)if(q||Q.index(_)>0)q=!0,L=I.from(Q.node(_).copy(L)),H++;else Y--;let J=I.empty,K=0;for(let _=X,q=!1;_>z;_--)if(q||U.after(_+1)<U.end(_))q=!0,J=I.from(U.node(_).copy(J)),K++;else W++;u.step(new e(Y,W,V,Z,new N(L.append(J),H,K),L.size-H,!0))}function il(u,l,z=null,Q=u){let U=Y_(u,l),X=U&&W_(Q,l);if(!X)return null;return U.map(nX).concat({type:l,attrs:z}).concat(X.map(nX))}function nX(u){return{type:u,attrs:null}}function Y_(u,l){let{parent:z,startIndex:Q,endIndex:U}=u,X=z.contentMatchAt(Q).findWrapping(l);if(!X)return null;let V=X.length?X[0]:l;return z.canReplaceWith(Q,U,V)?X:null}function W_(u,l){let{parent:z,startIndex:Q,endIndex:U}=u,X=z.child(Q),V=l.contentMatch.findWrapping(X.type);if(!V)return null;let Y=(V.length?V[V.length-1]:l).contentMatch;for(let W=Q;Y&&W<U;W++)Y=Y.matchType(z.child(W).type);if(!Y||!Y.validEnd)return null;return V}function L_(u,l,z){let Q=I.empty;for(let V=z.length-1;V>=0;V--){if(Q.size){let Z=z[V].type.contentMatch.matchFragment(Q);if(!Z||!Z.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}Q=I.from(z[V].type.create(z[V].attrs,Q))}let{start:U,end:X}=l;u.step(new e(U,X,U,X,new N(Q,0,0),z.length,!0))}function H_(u,l,z,Q,U){if(!Q.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let X=u.steps.length;u.doc.nodesBetween(l,z,(V,Z)=>{let Y=typeof U=="function"?U(V):U;if(V.isTextblock&&!V.hasMarkup(Q,Y)&&J_(u.doc,u.mapping.slice(X).map(Z),Q)){let W=null;if(Q.schema.linebreakReplacement){let K=Q.whitespace=="pre",_=!!Q.contentMatch.matchType(Q.schema.linebreakReplacement);if(K&&!_)W=!1;else if(!K&&_)W=!0}if(W===!1)oX(u,V,Z,X);Kz(u,u.mapping.slice(X).map(Z,1),Q,void 0,W===null);let L=u.mapping.slice(X),H=L.map(Z,1),J=L.map(Z+V.nodeSize,1);if(u.step(new e(H,J,H+1,J-1,new N(I.from(Q.create(Y,null,V.marks)),0,0),1,!0)),W===!0)sX(u,V,Z,X);return!1}})}function sX(u,l,z,Q){l.forEach((U,X)=>{if(U.isText){let V,Z=/\r?\n|\r/g;while(V=Z.exec(U.text)){let Y=u.mapping.slice(Q).map(z+1+X+V.index);u.replaceWith(Y,Y+1,l.type.schema.linebreakReplacement.create())}}})}function oX(u,l,z,Q){l.forEach((U,X)=>{if(U.type==U.type.schema.linebreakReplacement){let V=u.mapping.slice(Q).map(z+1+X);u.replaceWith(V,V+1,l.type.schema.text(`
`))}})}function J_(u,l,z){let Q=u.resolve(l),U=Q.index();return Q.parent.canReplaceWith(U,U+1,z)}function __(u,l,z,Q,U){let X=u.doc.nodeAt(l);if(!X)throw new RangeError("No node at given position");if(!z)z=X.type;let V=z.create(Q,null,U||X.marks);if(X.isLeaf)return u.replaceWith(l,l+X.nodeSize,V);if(!z.validContent(X.content))throw new RangeError("Invalid content for node type "+z.name);u.step(new e(l,l+X.nodeSize,l+1,l+X.nodeSize-1,new N(I.from(V),0,0),1,!0))}function z0(u,l,z=1,Q){let U=u.resolve(l),X=U.depth-z,V=Q&&Q[Q.length-1]||U.parent;if(X<0||U.parent.type.spec.isolating||!U.parent.canReplace(U.index(),U.parent.childCount)||!V.type.validContent(U.parent.content.cutByIndex(U.index(),U.parent.childCount)))return!1;for(let W=U.depth-1,L=z-2;W>X;W--,L--){let H=U.node(W),J=U.index(W);if(H.type.spec.isolating)return!1;let K=H.content.cutByIndex(J,H.childCount),_=Q&&Q[L+1];if(_)K=K.replaceChild(0,_.type.create(_.attrs));let q=Q&&Q[L]||H;if(!H.canReplace(J+1,H.childCount)||!q.type.validContent(K))return!1}let Z=U.indexAfter(X),Y=Q&&Q[0];return U.node(X).canReplaceWith(Z,Z,Y?Y.type:U.node(X+1).type)}function K_(u,l,z=1,Q){let U=u.doc.resolve(l),X=I.empty,V=I.empty;for(let Z=U.depth,Y=U.depth-z,W=z-1;Z>Y;Z--,W--){X=I.from(U.node(Z).copy(X));let L=Q&&Q[W];V=I.from(L?L.type.create(L.attrs,V):U.node(Z).copy(V))}u.step(new Qu(l,l,new N(X.append(V),z,z),!0))}function P0(u,l){let z=u.resolve(l),Q=z.index();return tX(z.nodeBefore,z.nodeAfter)&&z.parent.canReplace(Q,Q+1)}function G_(u,l){if(!l.content.size)u.type.compatibleContent(l.type);let z=u.contentMatchAt(u.childCount),{linebreakReplacement:Q}=u.type.schema;for(let U=0;U<l.childCount;U++){let X=l.child(U),V=X.type==Q?u.type.schema.nodes.text:X.type;if(z=z.matchType(V),!z)return!1;if(!u.type.allowsMarks(X.marks))return!1}return z.validEnd}function tX(u,l){return!!(u&&l&&!u.isLeaf&&G_(u,l))}function rl(u,l,z=-1){let Q=u.resolve(l);for(let U=Q.depth;;U--){let X,V,Z=Q.index(U);if(U==Q.depth)X=Q.nodeBefore,V=Q.nodeAfter;else if(z>0)X=Q.node(U+1),Z++,V=Q.node(U).maybeChild(Z);else X=Q.node(U).maybeChild(Z-1),V=Q.node(U+1);if(X&&!X.isTextblock&&tX(X,V)&&Q.node(U).canReplace(Z,Z+1))return l;if(U==0)break;l=z<0?Q.before(U):Q.after(U)}}function q_(u,l,z){let Q=null,{linebreakReplacement:U}=u.doc.type.schema,X=u.doc.resolve(l-z),V=X.node().type;if(U&&V.inlineContent){let L=V.whitespace=="pre",H=!!V.contentMatch.matchType(U);if(L&&!H)Q=!1;else if(!L&&H)Q=!0}let Z=u.steps.length;if(Q===!1){let L=u.doc.resolve(l+z);oX(u,L.node(),L.before(),Z)}if(V.inlineContent)Kz(u,l+z-1,V,X.node().contentMatchAt(X.index()),Q==null);let Y=u.mapping.slice(Z),W=Y.map(l-z);if(u.step(new Qu(W,Y.map(l+z,-1),N.empty,!0)),Q===!0){let L=u.doc.resolve(W);sX(u,L.node(),L.before(),u.steps.length)}return u}function P_(u,l,z){let Q=u.resolve(l);if(Q.parent.canReplaceWith(Q.index(),Q.index(),z))return l;if(Q.parentOffset==0)for(let U=Q.depth-1;U>=0;U--){let X=Q.index(U);if(Q.node(U).canReplaceWith(X,X,z))return Q.before(U+1);if(X>0)return null}if(Q.parentOffset==Q.parent.content.size)for(let U=Q.depth-1;U>=0;U--){let X=Q.indexAfter(U);if(Q.node(U).canReplaceWith(X,X,z))return Q.after(U+1);if(X<Q.node(U).childCount)return null}return null}function Q8(u,l,z){let Q=u.resolve(l);if(!z.content.size)return l;let U=z.content;for(let X=0;X<z.openStart;X++)U=U.firstChild.content;for(let X=1;X<=(z.openStart==0&&z.size?2:1);X++)for(let V=Q.depth;V>=0;V--){let Z=V==Q.depth?0:Q.pos<=(Q.start(V+1)+Q.end(V+1))/2?-1:1,Y=Q.index(V)+(Z>0?1:0),W=Q.node(V),L=!1;if(X==1)L=W.canReplace(Y,Y,U);else{let H=W.contentMatchAt(Y).findWrapping(U.firstChild.type);L=H&&W.canReplaceWith(Y,Y,H[0])}if(L)return Z==0?Q.pos:Z<0?Q.before(V+1):Q.after(V+1)}return null}function L3(u,l,z=l,Q=N.empty){if(l==z&&!Q.size)return null;let U=u.resolve(l),X=u.resolve(z);if(eX(U,X,Q))return new Qu(l,z,Q);return new uV(U,X,Q).fit()}function eX(u,l,z){return!z.openStart&&!z.openEnd&&u.start()==l.start()&&u.parent.canReplace(u.index(),l.index(),z.content)}class uV{constructor(u,l,z){this.$from=u,this.$to=l,this.unplaced=z,this.frontier=[],this.placed=I.empty;for(let Q=0;Q<=u.depth;Q++){let U=u.node(Q);this.frontier.push({type:U.type,match:U.contentMatchAt(u.indexAfter(Q))})}for(let Q=u.depth;Q>0;Q--)this.placed=I.from(u.node(Q).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){while(this.unplaced.size){let Y=this.findFittable();if(Y)this.placeNodes(Y);else this.openMore()||this.dropNode()}let u=this.mustMoveInline(),l=this.placed.size-this.depth-this.$from.depth,z=this.$from,Q=this.close(u<0?this.$to:z.doc.resolve(u));if(!Q)return null;let U=this.placed,X=z.depth,V=Q.depth;while(X&&V&&U.childCount==1)U=U.firstChild.content,X--,V--;let Z=new N(U,X,V);if(u>-1)return new e(z.pos,u,this.$to.pos,this.$to.end(),Z,l);if(Z.size||z.pos!=this.$to.pos)return new Qu(z.pos,Q.pos,Z);return null}findFittable(){let u=this.unplaced.openStart;for(let l=this.unplaced.content,z=0,Q=this.unplaced.openEnd;z<u;z++){let U=l.firstChild;if(l.childCount>1)Q=0;if(U.type.spec.isolating&&Q<=z){u=z;break}l=U.content}for(let l=1;l<=2;l++)for(let z=l==1?u:this.unplaced.openStart;z>=0;z--){let Q,U=null;if(z)U=Lz(this.unplaced.content,z-1).firstChild,Q=U.content;else Q=this.unplaced.content;let X=Q.firstChild;for(let V=this.depth;V>=0;V--){let{type:Z,match:Y}=this.frontier[V],W,L=null;if(l==1&&(X?Y.matchType(X.type)||(L=Y.fillBefore(I.from(X),!1)):U&&Z.compatibleContent(U.type)))return{sliceDepth:z,frontierDepth:V,parent:U,inject:L};else if(l==2&&X&&(W=Y.findWrapping(X.type)))return{sliceDepth:z,frontierDepth:V,parent:U,wrap:W};if(U&&Y.matchType(U.type))break}}}openMore(){let{content:u,openStart:l,openEnd:z}=this.unplaced,Q=Lz(u,l);if(!Q.childCount||Q.firstChild.isLeaf)return!1;return this.unplaced=new N(u,l+1,Math.max(z,Q.size+l>=u.size-z?l+1:0)),!0}dropNode(){let{content:u,openStart:l,openEnd:z}=this.unplaced,Q=Lz(u,l);if(Q.childCount<=1&&l>0){let U=u.size-l<=l+Q.size;this.unplaced=new N(Z3(u,l-1,1),l-1,U?l-1:z)}else this.unplaced=new N(Z3(u,l,1),l,z)}placeNodes({sliceDepth:u,frontierDepth:l,parent:z,inject:Q,wrap:U}){while(this.depth>l)this.closeFrontierNode();if(U)for(let _=0;_<U.length;_++)this.openFrontierNode(U[_]);let X=this.unplaced,V=z?z.content:X.content,Z=X.openStart-u,Y=0,W=[],{match:L,type:H}=this.frontier[l];if(Q){for(let _=0;_<Q.childCount;_++)W.push(Q.child(_));L=L.matchFragment(Q)}let J=V.size+u-(X.content.size-X.openEnd);while(Y<V.childCount){let _=V.child(Y),q=L.matchType(_.type);if(!q)break;if(Y++,Y>1||Z==0||_.content.size)L=q,W.push(lV(_.mark(H.allowedMarks(_.marks)),Y==1?Z:0,Y==V.childCount?J:-1))}let K=Y==V.childCount;if(!K)J=-1;if(this.placed=Y3(this.placed,l,I.from(W)),this.frontier[l].match=L,K&&J<0&&z&&z.type==this.frontier[this.depth].type&&this.frontier.length>1)this.closeFrontierNode();for(let _=0,q=V;_<J;_++){let E=q.lastChild;this.frontier.push({type:E.type,match:E.contentMatchAt(E.childCount)}),q=E.content}this.unplaced=!K?new N(Z3(X.content,u,Y),X.openStart,X.openEnd):u==0?N.empty:new N(Z3(X.content,u-1,1),u-1,J<0?X.openEnd:u-1)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let u=this.frontier[this.depth],l;if(!u.type.isTextblock||!Hz(this.$to,this.$to.depth,u.type,u.match,!1)||this.$to.depth==this.depth&&(l=this.findCloseLevel(this.$to))&&l.depth==this.depth)return-1;let{depth:z}=this.$to,Q=this.$to.after(z);while(z>1&&Q==this.$to.end(--z))++Q;return Q}findCloseLevel(u){u:for(let l=Math.min(this.depth,u.depth);l>=0;l--){let{match:z,type:Q}=this.frontier[l],U=l<u.depth&&u.end(l+1)==u.pos+(u.depth-(l+1)),X=Hz(u,l,Q,z,U);if(!X)continue;for(let V=l-1;V>=0;V--){let{match:Z,type:Y}=this.frontier[V],W=Hz(u,V,Y,Z,!0);if(!W||W.childCount)continue u}return{depth:l,fit:X,move:U?u.doc.resolve(u.after(l+1)):u}}}close(u){let l=this.findCloseLevel(u);if(!l)return null;while(this.depth>l.depth)this.closeFrontierNode();if(l.fit.childCount)this.placed=Y3(this.placed,l.depth,l.fit);u=l.move;for(let z=l.depth+1;z<=u.depth;z++){let Q=u.node(z),U=Q.type.contentMatch.fillBefore(Q.content,!0,u.index(z));this.openFrontierNode(Q.type,Q.attrs,U)}return u}openFrontierNode(u,l=null,z){let Q=this.frontier[this.depth];Q.match=Q.match.matchType(u),this.placed=Y3(this.placed,this.depth,I.from(u.create(l,z))),this.frontier.push({type:u,match:u.contentMatch})}closeFrontierNode(){let l=this.frontier.pop().match.fillBefore(I.empty,!0);if(l.childCount)this.placed=Y3(this.placed,this.frontier.length,l)}}function Z3(u,l,z){if(l==0)return u.cutByIndex(z,u.childCount);return u.replaceChild(0,u.firstChild.copy(Z3(u.firstChild.content,l-1,z)))}function Y3(u,l,z){if(l==0)return u.append(z);return u.replaceChild(u.childCount-1,u.lastChild.copy(Y3(u.lastChild.content,l-1,z)))}function Lz(u,l){for(let z=0;z<l;z++)u=u.firstChild.content;return u}function lV(u,l,z){if(l<=0)return u;let Q=u.content;if(l>1)Q=Q.replaceChild(0,lV(Q.firstChild,l-1,Q.childCount==1?z-1:0));if(l>0){if(Q=u.type.contentMatch.fillBefore(Q).append(Q),z<=0)Q=Q.append(u.type.contentMatch.matchFragment(Q).fillBefore(I.empty,!0))}return u.copy(Q)}function Hz(u,l,z,Q,U){let X=u.node(l),V=U?u.indexAfter(l):u.index(l);if(V==X.childCount&&!z.compatibleContent(X.type))return null;let Z=Q.fillBefore(X.content,!0,V);return Z&&!E_(z,X.content,V)?Z:null}function E_(u,l,z){for(let Q=z;Q<l.childCount;Q++)if(!u.allowsMarks(l.child(Q).marks))return!0;return!1}function C_(u){return u.spec.defining||u.spec.definingForContent}function B_(u,l,z,Q){if(!Q.size)return u.deleteRange(l,z);let U=u.doc.resolve(l),X=u.doc.resolve(z);if(eX(U,X,Q))return u.step(new Qu(l,z,Q));let V=QV(U,u.doc.resolve(z));if(V[V.length-1]==0)V.pop();let Z=-(U.depth+1);V.unshift(Z);for(let J=U.depth,K=U.pos-1;J>0;J--,K--){let _=U.node(J).type.spec;if(_.defining||_.definingAsContext||_.isolating)break;if(V.indexOf(J)>-1)Z=J;else if(U.before(J)==K)V.splice(1,0,-J)}let Y=V.indexOf(Z),W=[],L=Q.openStart;for(let J=Q.content,K=0;;K++){let _=J.firstChild;if(W.push(_),K==Q.openStart)break;J=_.content}for(let J=L-1;J>=0;J--){let K=W[J],_=C_(K.type);if(_&&!K.sameMarkup(U.node(Math.abs(Z)-1)))L=J;else if(_||!K.type.isTextblock)break}for(let J=Q.openStart;J>=0;J--){let K=(J+L+1)%(Q.openStart+1),_=W[K];if(!_)continue;for(let q=0;q<V.length;q++){let E=V[(q+Y)%V.length],G=!0;if(E<0)G=!1,E=-E;let P=U.node(E-1),C=U.index(E-1);if(P.canReplaceWith(C,C,_.type,_.marks))return u.replace(U.before(E),G?X.after(E):z,new N(zV(Q.content,0,Q.openStart,K),K,Q.openEnd))}}let H=u.steps.length;for(let J=V.length-1;J>=0;J--){if(u.replace(l,z,Q),u.steps.length>H)break;let K=V[J];if(K<0)continue;l=U.before(K),z=X.after(K)}}function zV(u,l,z,Q,U){if(l<z){let X=u.firstChild;u=u.replaceChild(0,X.copy(zV(X.content,l+1,z,Q,X)))}if(l>Q){let X=U.contentMatchAt(0),V=X.fillBefore(u).append(u);u=V.append(X.matchFragment(V).fillBefore(I.empty,!0))}return u}function I_(u,l,z,Q){if(!Q.isInline&&l==z&&u.doc.resolve(l).parent.content.size){let U=P_(u.doc,l,Q.type);if(U!=null)l=z=U}u.replaceRange(l,z,new N(I.from(Q),0,0))}function F_(u,l,z){let Q=u.doc.resolve(l),U=u.doc.resolve(z),X=QV(Q,U);for(let V=0;V<X.length;V++){let Z=X[V],Y=V==X.length-1;if(Y&&Z==0||Q.node(Z).type.contentMatch.validEnd)return u.delete(Q.start(Z),U.end(Z));if(Z>0&&(Y||Q.node(Z-1).canReplace(Q.index(Z-1),U.indexAfter(Z-1))))return u.delete(Q.before(Z),U.after(Z))}for(let V=1;V<=Q.depth&&V<=U.depth;V++)if(l-Q.start(V)==Q.depth-V&&z>Q.end(V)&&U.end(V)-z!=U.depth-V&&Q.start(V-1)==U.start(V-1)&&Q.node(V-1).canReplace(Q.index(V-1),U.index(V-1)))return u.delete(Q.before(V),z);u.delete(l,z)}function QV(u,l){let z=[],Q=Math.min(u.depth,l.depth);for(let U=Q;U>=0;U--){let X=u.start(U);if(X<u.pos-(u.depth-U)||l.end(U)>l.pos+(l.depth-U)||u.node(U).type.spec.isolating||l.node(U).type.spec.isolating)break;if(X==l.start(U)||U==u.depth&&U==l.depth&&u.parent.inlineContent&&l.parent.inlineContent&&U&&l.start(U-1)==X-1)z.push(U)}return z}class cl extends Gu{constructor(u,l,z){super();this.pos=u,this.attr=l,this.value=z}apply(u){let l=u.nodeAt(this.pos);if(!l)return Vu.fail("No node at attribute step's position");let z=Object.create(null);for(let U in l.attrs)z[U]=l.attrs[U];z[this.attr]=this.value;let Q=l.type.create(z,null,l.marks);return Vu.fromReplace(u,this.pos,this.pos+1,new N(I.from(Q),0,l.isLeaf?0:1))}getMap(){return du.empty}invert(u){return new cl(this.pos,this.attr,u.nodeAt(this.pos).attrs[this.attr])}map(u){let l=u.mapResult(this.pos,1);return l.deletedAfter?null:new cl(l.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(u,l){if(typeof l.pos!="number"||typeof l.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new cl(l.pos,l.attr,l.value)}}Gu.jsonID("attr",cl);class W3 extends Gu{constructor(u,l){super();this.attr=u,this.value=l}apply(u){let l=Object.create(null);for(let Q in u.attrs)l[Q]=u.attrs[Q];l[this.attr]=this.value;let z=u.type.create(l,u.content,u.marks);return Vu.ok(z)}getMap(){return du.empty}invert(u){return new W3(this.attr,u.attrs[this.attr])}map(u){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(u,l){if(typeof l.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new W3(l.attr,l.value)}}Gu.jsonID("docAttr",W3);var nl=class extends Error{};nl=function u(l){let z=Error.call(this,l);return z.__proto__=u.prototype,z};nl.prototype=Object.create(Error.prototype);nl.prototype.constructor=nl;nl.prototype.name="TransformError";class U8{constructor(u){this.doc=u,this.steps=[],this.docs=[],this.mapping=new ml}get before(){return this.docs.length?this.docs[0]:this.doc}step(u){let l=this.maybeStep(u);if(l.failed)throw new nl(l.failed);return this}maybeStep(u){let l=u.apply(this.doc);if(!l.failed)this.addStep(u,l.doc);return l}get docChanged(){return this.steps.length>0}addStep(u,l){this.docs.push(this.doc),this.steps.push(u),this.mapping.appendMap(u.getMap()),this.doc=l}replace(u,l=u,z=N.empty){let Q=L3(this.doc,u,l,z);if(Q)this.step(Q);return this}replaceWith(u,l,z){return this.replace(u,l,new N(I.from(z),0,0))}delete(u,l){return this.replace(u,l,N.empty)}insert(u,l){return this.replaceWith(u,u,l)}replaceRange(u,l,z){return B_(this,u,l,z),this}replaceRangeWith(u,l,z){return I_(this,u,l,z),this}deleteRange(u,l){return F_(this,u,l),this}lift(u,l){return Z_(this,u,l),this}join(u,l=1){return q_(this,u,l),this}wrap(u,l){return L_(this,u,l),this}setBlockType(u,l=u,z,Q=null){return H_(this,u,l,z,Q),this}setNodeMarkup(u,l,z=null,Q){return __(this,u,l,z,Q),this}setNodeAttribute(u,l,z){return this.step(new cl(u,l,z)),this}setDocAttribute(u,l){return this.step(new W3(u,l)),this}addNodeMark(u,l){return this.step(new C1(u,l)),this}removeNodeMark(u,l){let z=this.doc.nodeAt(u);if(!z)throw new RangeError("No node at position "+u);if(l instanceof w){if(l.isInSet(z.marks))this.step(new o1(u,l))}else{let Q=z.marks,U,X=[];while(U=l.isInSet(Q))X.push(new o1(u,U)),Q=U.removeFromSet(Q);for(let V=X.length-1;V>=0;V--)this.step(X[V])}return this}split(u,l=1,z){return K_(this,u,l,z),this}addMark(u,l,z){return U_(this,u,l,z),this}removeMark(u,l,z){return X_(this,u,l,z),this}clearIncompatible(u,l,z){return Kz(this,u,l,z),this}}var Gz=Object.create(null);class k{constructor(u,l,z){this.$anchor=u,this.$head=l,this.ranges=z||[new Pz(u.min(l),u.max(l))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let u=this.ranges;for(let l=0;l<u.length;l++)if(u[l].$from.pos!=u[l].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(u,l=N.empty){let z=l.content.lastChild,Q=null;for(let V=0;V<l.openEnd;V++)Q=z,z=z.lastChild;let U=u.steps.length,X=this.ranges;for(let V=0;V<X.length;V++){let{$from:Z,$to:Y}=X[V],W=u.mapping.slice(U);if(u.replaceRange(W.map(Z.pos),W.map(Y.pos),V?N.empty:l),V==0)VV(u,U,(z?z.isInline:Q&&Q.isTextblock)?-1:1)}}replaceWith(u,l){let z=u.steps.length,Q=this.ranges;for(let U=0;U<Q.length;U++){let{$from:X,$to:V}=Q[U],Z=u.mapping.slice(z),Y=Z.map(X.pos),W=Z.map(V.pos);if(U)u.deleteRange(Y,W);else u.replaceRangeWith(Y,W,l),VV(u,z,l.isInline?-1:1)}}static findFrom(u,l,z=!1){let Q=u.parent.inlineContent?new D(u):pl(u.node(0),u.parent,u.pos,u.index(),l,z);if(Q)return Q;for(let U=u.depth-1;U>=0;U--){let X=l<0?pl(u.node(0),u.node(U),u.before(U+1),u.index(U),l,z):pl(u.node(0),u.node(U),u.after(U+1),u.index(U)+1,l,z);if(X)return X}return null}static near(u,l=1){return this.findFrom(u,l)||this.findFrom(u,-l)||new qu(u.node(0))}static atStart(u){return pl(u,u,0,0,1)||new qu(u)}static atEnd(u){return pl(u,u,u.content.size,u.childCount,-1)||new qu(u)}static fromJSON(u,l){if(!l||!l.type)throw new RangeError("Invalid input for Selection.fromJSON");let z=Gz[l.type];if(!z)throw new RangeError(`No selection type ${l.type} defined`);return z.fromJSON(u,l)}static jsonID(u,l){if(u in Gz)throw new RangeError("Duplicate use of selection JSON ID "+u);return Gz[u]=l,l.prototype.jsonID=u,l}getBookmark(){return D.between(this.$anchor,this.$head).getBookmark()}}k.prototype.visible=!0;class Pz{constructor(u,l){this.$from=u,this.$to=l}}var UV=!1;function XV(u){if(!UV&&!u.parent.inlineContent)UV=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+u.parent.type.name+")")}class D extends k{constructor(u,l=u){XV(u),XV(l);super(u,l)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(u,l){let z=u.resolve(l.map(this.head));if(!z.parent.inlineContent)return k.near(z);let Q=u.resolve(l.map(this.anchor));return new D(Q.parent.inlineContent?Q:z,z)}replace(u,l=N.empty){if(super.replace(u,l),l==N.empty){let z=this.$from.marksAcross(this.$to);if(z)u.ensureMarks(z)}}eq(u){return u instanceof D&&u.anchor==this.anchor&&u.head==this.head}getBookmark(){return new Z8(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(u,l){if(typeof l.anchor!="number"||typeof l.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new D(u.resolve(l.anchor),u.resolve(l.head))}static create(u,l,z=l){let Q=u.resolve(l);return new this(Q,z==l?Q:u.resolve(z))}static between(u,l,z){let Q=u.pos-l.pos;if(!z||Q)z=Q>=0?1:-1;if(!l.parent.inlineContent){let U=k.findFrom(l,z,!0)||k.findFrom(l,-z,!0);if(U)l=U.$head;else return k.near(l,z)}if(!u.parent.inlineContent){if(Q==0)u=l;else if(u=(k.findFrom(u,-z,!0)||k.findFrom(u,z,!0)).$anchor,u.pos<l.pos!=Q<0)u=l}return new D(u,l)}}k.jsonID("text",D);class Z8{constructor(u,l){this.anchor=u,this.head=l}map(u){return new Z8(u.map(this.anchor),u.map(this.head))}resolve(u){return D.between(u.resolve(this.anchor),u.resolve(this.head))}}class T extends k{constructor(u){let l=u.nodeAfter,z=u.node(0).resolve(u.pos+l.nodeSize);super(u,z);this.node=l}map(u,l){let{deleted:z,pos:Q}=l.mapResult(this.anchor),U=u.resolve(Q);if(z)return k.near(U);return new T(U)}content(){return new N(I.from(this.node),0,0)}eq(u){return u instanceof T&&u.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Ez(this.anchor)}static fromJSON(u,l){if(typeof l.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new T(u.resolve(l.anchor))}static create(u,l){return new T(u.resolve(l))}static isSelectable(u){return!u.isText&&u.type.spec.selectable!==!1}}T.prototype.visible=!1;k.jsonID("node",T);class Ez{constructor(u){this.anchor=u}map(u){let{deleted:l,pos:z}=u.mapResult(this.anchor);return l?new Z8(z,z):new Ez(z)}resolve(u){let l=u.resolve(this.anchor),z=l.nodeAfter;if(z&&T.isSelectable(z))return new T(l);return k.near(l)}}class qu extends k{constructor(u){super(u.resolve(0),u.resolve(u.content.size))}replace(u,l=N.empty){if(l==N.empty){u.delete(0,u.doc.content.size);let z=k.atStart(u.doc);if(!z.eq(u.selection))u.setSelection(z)}else super.replace(u,l)}toJSON(){return{type:"all"}}static fromJSON(u){return new qu(u)}map(u){return new qu(u)}eq(u){return u instanceof qu}getBookmark(){return j_}}k.jsonID("all",qu);var j_={map(){return this},resolve(u){return new qu(u)}};function pl(u,l,z,Q,U,X=!1){if(l.inlineContent)return D.create(u,z);for(let V=Q-(U>0?0:1);U>0?V<l.childCount:V>=0;V+=U){let Z=l.child(V);if(!Z.isAtom){let Y=pl(u,Z,z+U,U<0?Z.childCount:0,U,X);if(Y)return Y}else if(!X&&T.isSelectable(Z))return T.create(u,z-(U<0?Z.nodeSize:0));z+=Z.nodeSize*U}return null}function VV(u,l,z){let Q=u.steps.length-1;if(Q<l)return;let U=u.steps[Q];if(!(U instanceof Qu||U instanceof e))return;let X=u.mapping.maps[Q],V;X.forEach((Z,Y,W,L)=>{if(V==null)V=L}),u.setSelection(k.near(u.doc.resolve(V),z))}var ZV=1,X8=2,YV=4;class LV extends U8{constructor(u){super(u.doc);this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=u.selection,this.storedMarks=u.storedMarks}get selection(){if(this.curSelectionFor<this.steps.length)this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length;return this.curSelection}setSelection(u){if(u.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=u,this.curSelectionFor=this.steps.length,this.updated=(this.updated|ZV)&~X8,this.storedMarks=null,this}get selectionSet(){return(this.updated&ZV)>0}setStoredMarks(u){return this.storedMarks=u,this.updated|=X8,this}ensureMarks(u){if(!w.sameSet(this.storedMarks||this.selection.$from.marks(),u))this.setStoredMarks(u);return this}addStoredMark(u){return this.ensureMarks(u.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(u){return this.ensureMarks(u.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&X8)>0}addStep(u,l){super.addStep(u,l),this.updated=this.updated&~X8,this.storedMarks=null}setTime(u){return this.time=u,this}replaceSelection(u){return this.selection.replace(this,u),this}replaceSelectionWith(u,l=!0){let z=this.selection;if(l)u=u.mark(this.storedMarks||(z.empty?z.$from.marks():z.$from.marksAcross(z.$to)||w.none));return z.replaceWith(this,u),this}deleteSelection(){return this.selection.replace(this),this}insertText(u,l,z){let Q=this.doc.type.schema;if(l==null){if(!u)return this.deleteSelection();return this.replaceSelectionWith(Q.text(u),!0)}else{if(z==null)z=l;if(z=z==null?l:z,!u)return this.deleteRange(l,z);let U=this.storedMarks;if(!U){let X=this.doc.resolve(l);U=z==l?X.marks():X.marksAcross(this.doc.resolve(z))}if(this.replaceRangeWith(l,z,Q.text(u,U)),!this.selection.empty)this.setSelection(k.near(this.selection.$to));return this}}setMeta(u,l){return this.meta[typeof u=="string"?u:u.key]=l,this}getMeta(u){return this.meta[typeof u=="string"?u:u.key]}get isGeneric(){for(let u in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=YV,this}get scrolledIntoView(){return(this.updated&YV)>0}}function WV(u,l){return!l||!u?u:u.bind(l)}class dl{constructor(u,l,z){this.name=u,this.init=WV(l.init,z),this.apply=WV(l.apply,z)}}var y_=[new dl("doc",{init(u){return u.doc||u.schema.topNodeType.createAndFill()},apply(u){return u.doc}}),new dl("selection",{init(u,l){return u.selection||k.atStart(l.doc)},apply(u){return u.selection}}),new dl("storedMarks",{init(u){return u.storedMarks||null},apply(u,l,z,Q){return Q.selection.$cursor?u.storedMarks:null}}),new dl("scrollToSelection",{init(){return 0},apply(u,l){return u.scrolledIntoView?l+1:l}})];class V8{constructor(u,l){if(this.schema=u,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=y_.slice(),l)l.forEach((z)=>{if(this.pluginsByKey[z.key])throw new RangeError("Adding different instances of a keyed plugin ("+z.key+")");if(this.plugins.push(z),this.pluginsByKey[z.key]=z,z.spec.state)this.fields.push(new dl(z.key,z.spec.state,z))})}}class t1{constructor(u){this.config=u}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(u){return this.applyTransaction(u).state}filterTransaction(u,l=-1){for(let z=0;z<this.config.plugins.length;z++)if(z!=l){let Q=this.config.plugins[z];if(Q.spec.filterTransaction&&!Q.spec.filterTransaction.call(Q,u,this))return!1}return!0}applyTransaction(u){if(!this.filterTransaction(u))return{state:this,transactions:[]};let l=[u],z=this.applyInner(u),Q=null;for(;;){let U=!1;for(let X=0;X<this.config.plugins.length;X++){let V=this.config.plugins[X];if(V.spec.appendTransaction){let Z=Q?Q[X].n:0,Y=Q?Q[X].state:this,W=Z<l.length&&V.spec.appendTransaction.call(V,Z?l.slice(Z):l,Y,z);if(W&&z.filterTransaction(W,X)){if(W.setMeta("appendedTransaction",u),!Q){Q=[];for(let L=0;L<this.config.plugins.length;L++)Q.push(L<X?{state:z,n:l.length}:{state:this,n:0})}l.push(W),z=z.applyInner(W),U=!0}if(Q)Q[X]={state:z,n:l.length}}}if(!U)return{state:z,transactions:l}}}applyInner(u){if(!u.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let l=new t1(this.config),z=this.config.fields;for(let Q=0;Q<z.length;Q++){let U=z[Q];l[U.name]=U.apply(u,this[U.name],this,l)}return l}get tr(){return new LV(this)}static create(u){let l=new V8(u.doc?u.doc.type.schema:u.schema,u.plugins),z=new t1(l);for(let Q=0;Q<l.fields.length;Q++)z[l.fields[Q].name]=l.fields[Q].init(u,z);return z}reconfigure(u){let l=new V8(this.schema,u.plugins),z=l.fields,Q=new t1(l);for(let U=0;U<z.length;U++){let X=z[U].name;Q[X]=this.hasOwnProperty(X)?this[X]:z[U].init(u,Q)}return Q}toJSON(u){let l={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks)l.storedMarks=this.storedMarks.map((z)=>z.toJSON());if(u&&typeof u=="object")for(let z in u){if(z=="doc"||z=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let Q=u[z],U=Q.spec.state;if(U&&U.toJSON)l[z]=U.toJSON.call(Q,this[Q.key])}return l}static fromJSON(u,l,z){if(!l)throw new RangeError("Invalid input for EditorState.fromJSON");if(!u.schema)throw new RangeError("Required config field 'schema' missing");let Q=new V8(u.schema,u.plugins),U=new t1(Q);return Q.fields.forEach((X)=>{if(X.name=="doc")U.doc=pu.fromJSON(u.schema,l.doc);else if(X.name=="selection")U.selection=k.fromJSON(U.doc,l.selection);else if(X.name=="storedMarks"){if(l.storedMarks)U.storedMarks=l.storedMarks.map(u.schema.markFromJSON)}else{if(z)for(let V in z){let Z=z[V],Y=Z.spec.state;if(Z.key==X.name&&Y&&Y.fromJSON&&Object.prototype.hasOwnProperty.call(l,V)){U[X.name]=Y.fromJSON.call(Z,u,l[V],U);return}}U[X.name]=X.init(u,U)}}),U}}function HV(u,l,z){for(let Q in u){let U=u[Q];if(U instanceof Function)U=U.bind(l);else if(Q=="handleDOMEvents")U=HV(U,l,{});z[Q]=U}return z}class s{constructor(u){if(this.spec=u,this.props={},u.props)HV(u.props,this,this.props);this.key=u.key?u.key.key:JV("plugin")}getState(u){return u[this.key]}}var qz=Object.create(null);function JV(u){if(u in qz)return u+"$"+ ++qz[u];return qz[u]=0,u+"$"}class Nu{constructor(u="key"){this.key=JV(u)}get(u){return u.config.pluginsByKey[this.key]}getState(u){return u[this.key]}}var Pu=function(u){for(var l=0;;l++)if(u=u.previousSibling,!u)return l},el=function(u){let l=u.assignedSlot||u.parentNode;return l&&l.nodeType==11?l.host:l},yz=null,i0=function(u,l,z){let Q=yz||(yz=document.createRange());return Q.setEnd(u,z==null?u.nodeValue.length:z),Q.setStart(u,l||0),Q},R_=function(){yz=null},Ul=function(u,l,z,Q){return z&&(_V(u,l,z,Q,-1)||_V(u,l,z,Q,1))},N_=/^(img|br|input|textarea|hr)$/i;function _V(u,l,z,Q,U){var X;for(;;){if(u==z&&l==Q)return!0;if(l==(U<0?0:U0(u))){let V=u.parentNode;if(!V||V.nodeType!=1||P3(u)||N_.test(u.nodeName)||u.contentEditable=="false")return!1;l=Pu(u)+(U<0?0:1),u=V}else if(u.nodeType==1){let V=u.childNodes[l+(U<0?-1:0)];if(V.nodeType==1&&V.contentEditable=="false")if((X=V.pmViewDesc)===null||X===void 0?void 0:X.ignoreForSelection)l+=U;else return!1;else u=V,l=U<0?U0(u):0}else return!1}}function U0(u){return u.nodeType==3?u.nodeValue.length:u.childNodes.length}function A_(u,l){for(;;){if(u.nodeType==3&&l)return u;if(u.nodeType==1&&l>0){if(u.contentEditable=="false")return null;u=u.childNodes[l-1],l=U0(u)}else if(u.parentNode&&!P3(u))l=Pu(u),u=u.parentNode;else return null}}function O_(u,l){for(;;){if(u.nodeType==3&&l<u.nodeValue.length)return u;if(u.nodeType==1&&l<u.childNodes.length){if(u.contentEditable=="false")return null;u=u.childNodes[l],l=0}else if(u.parentNode&&!P3(u))l=Pu(u)+1,u=u.parentNode;else return null}}function M_(u,l,z){for(let Q=l==0,U=l==U0(u);Q||U;){if(u==z)return!0;let X=Pu(u);if(u=u.parentNode,!u)return!1;Q=Q&&X==0,U=U&&X==U0(u)}}function P3(u){let l;for(let z=u;z;z=z.parentNode)if(l=z.pmViewDesc)break;return l&&l.node&&l.node.isBlock&&(l.dom==u||l.contentDOM==u)}var _8=function(u){return u.focusNode&&Ul(u.focusNode,u.focusOffset,u.anchorNode,u.anchorOffset)};function e1(u,l){let z=document.createEvent("Event");return z.initEvent("keydown",!0,!0),z.keyCode=u,z.key=z.code=l,z}function T_(u){let l=u.activeElement;while(l&&l.shadowRoot)l=l.shadowRoot.activeElement;return l}function D_(u,l,z){if(u.caretPositionFromPoint)try{let Q=u.caretPositionFromPoint(l,z);if(Q)return{node:Q.offsetNode,offset:Math.min(U0(Q.offsetNode),Q.offset)}}catch(Q){}if(u.caretRangeFromPoint){let Q=u.caretRangeFromPoint(l,z);if(Q)return{node:Q.startContainer,offset:Math.min(U0(Q.startContainer),Q.startOffset)}}}var O0=typeof navigator!="undefined"?navigator:null,KV=typeof document!="undefined"?document:null,A1=O0&&O0.userAgent||"",Rz=/Edge\/(\d+)/.exec(A1),rV=/MSIE \d/.exec(A1),Nz=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(A1),cu=!!(rV||Nz||Rz),y1=rV?document.documentMode:Nz?+Nz[1]:Rz?+Rz[1]:0,X0=!cu&&/gecko\/(\d+)/i.test(A1);X0&&+(/Firefox\/(\d+)/.exec(A1)||[0,0])[1];var Az=!cu&&/Chrome\/(\d+)/.exec(A1),Ou=!!Az,pV=Az?+Az[1]:0,fu=!cu&&!!O0&&/Apple Computer/.test(O0.vendor),u2=fu&&(/Mobile\/\w+/.test(A1)||!!O0&&O0.maxTouchPoints>2),Q0=u2||(O0?/Mac/.test(O0.platform):!1),S_=O0?/Win/.test(O0.platform):!1,r0=/Android \d/.test(A1),E3=!!KV&&"webkitFontSmoothing"in KV.documentElement.style,k_=E3?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function f_(u){let l=u.defaultView&&u.defaultView.visualViewport;if(l)return{left:0,right:l.width,top:0,bottom:l.height};return{left:0,right:u.documentElement.clientWidth,top:0,bottom:u.documentElement.clientHeight}}function n0(u,l){return typeof u=="number"?u:u[l]}function $_(u){let l=u.getBoundingClientRect(),z=l.width/u.offsetWidth||1,Q=l.height/u.offsetHeight||1;return{left:l.left,right:l.left+u.clientWidth*z,top:l.top,bottom:l.top+u.clientHeight*Q}}function GV(u,l,z){let Q=u.someProp("scrollThreshold")||0,U=u.someProp("scrollMargin")||5,X=u.dom.ownerDocument;for(let V=z||u.dom;;){if(!V)break;if(V.nodeType!=1){V=el(V);continue}let Z=V,Y=Z==X.body,W=Y?f_(X):$_(Z),L=0,H=0;if(l.top<W.top+n0(Q,"top"))H=-(W.top-l.top+n0(U,"top"));else if(l.bottom>W.bottom-n0(Q,"bottom"))H=l.bottom-l.top>W.bottom-W.top?l.top+n0(U,"top")-W.top:l.bottom-W.bottom+n0(U,"bottom");if(l.left<W.left+n0(Q,"left"))L=-(W.left-l.left+n0(U,"left"));else if(l.right>W.right-n0(Q,"right"))L=l.right-W.right+n0(U,"right");if(L||H)if(Y)X.defaultView.scrollBy(L,H);else{let{scrollLeft:K,scrollTop:_}=Z;if(H)Z.scrollTop+=H;if(L)Z.scrollLeft+=L;let q=Z.scrollLeft-K,E=Z.scrollTop-_;l={left:l.left-q,top:l.top-E,right:l.right-q,bottom:l.bottom-E}}let J=Y?"fixed":getComputedStyle(V).position;if(/^(fixed|sticky)$/.test(J))break;V=J=="absolute"?V.offsetParent:el(V)}}function x_(u){let l=u.dom.getBoundingClientRect(),z=Math.max(0,l.top),Q,U;for(let X=(l.left+l.right)/2,V=z+1;V<Math.min(innerHeight,l.bottom);V+=5){let Z=u.root.elementFromPoint(X,V);if(!Z||Z==u.dom||!u.dom.contains(Z))continue;let Y=Z.getBoundingClientRect();if(Y.top>=z-20){Q=Z,U=Y.top;break}}return{refDOM:Q,refTop:U,stack:dV(u.dom)}}function dV(u){let l=[],z=u.ownerDocument;for(let Q=u;Q;Q=el(Q))if(l.push({dom:Q,top:Q.scrollTop,left:Q.scrollLeft}),u==z)break;return l}function g_({refDOM:u,refTop:l,stack:z}){let Q=u?u.getBoundingClientRect().top:0;aV(z,Q==0?0:Q-l)}function aV(u,l){for(let z=0;z<u.length;z++){let{dom:Q,top:U,left:X}=u[z];if(Q.scrollTop!=U+l)Q.scrollTop=U+l;if(Q.scrollLeft!=X)Q.scrollLeft=X}}var al=null;function w_(u){if(u.setActive)return u.setActive();if(al)return u.focus(al);let l=dV(u);if(u.focus(al==null?{get preventScroll(){return al={preventScroll:!0},!0}}:void 0),!al)al=!1,aV(l,0)}function sV(u,l){let z,Q=200000000,U,X=0,V=l.top,Z=l.top,Y,W;for(let L=u.firstChild,H=0;L;L=L.nextSibling,H++){let J;if(L.nodeType==1)J=L.getClientRects();else if(L.nodeType==3)J=i0(L).getClientRects();else continue;for(let K=0;K<J.length;K++){let _=J[K];if(_.top<=V&&_.bottom>=Z){V=Math.max(_.bottom,V),Z=Math.min(_.top,Z);let q=_.left>l.left?_.left-l.left:_.right<l.left?l.left-_.right:0;if(q<Q){if(z=L,Q=q,U=q&&z.nodeType==3?{left:_.right<l.left?_.right:_.left,top:l.top}:l,L.nodeType==1&&q)X=H+(l.left>=(_.left+_.right)/2?1:0);continue}}else if(_.top>l.top&&!Y&&_.left<=l.left&&_.right>=l.left)Y=L,W={left:Math.max(_.left,Math.min(_.right,l.left)),top:_.top};if(!z&&(l.left>=_.right&&l.top>=_.top||l.left>=_.left&&l.top>=_.bottom))X=H+1}}if(!z&&Y)z=Y,U=W,Q=0;if(z&&z.nodeType==3)return v_(z,U);if(!z||Q&&z.nodeType==1)return{node:u,offset:X};return sV(z,U)}function v_(u,l){let z=u.nodeValue.length,Q=document.createRange();for(let U=0;U<z;U++){Q.setEnd(u,U+1),Q.setStart(u,U);let X=B1(Q,1);if(X.top==X.bottom)continue;if(fz(l,X))return{node:u,offset:U+(l.left>=(X.left+X.right)/2?1:0)}}return{node:u,offset:0}}function fz(u,l){return u.left>=l.left-1&&u.left<=l.right+1&&u.top>=l.top-1&&u.top<=l.bottom+1}function h_(u,l){let z=u.parentNode;if(z&&/^li$/i.test(z.nodeName)&&l.left<u.getBoundingClientRect().left)return z;return u}function b_(u,l,z){let{node:Q,offset:U}=sV(l,z),X=-1;if(Q.nodeType==1&&!Q.firstChild){let V=Q.getBoundingClientRect();X=V.left!=V.right&&z.left>(V.left+V.right)/2?1:-1}return u.docView.posFromDOM(Q,U,X)}function c_(u,l,z,Q){let U=-1;for(let X=l,V=!1;;){if(X==u.dom)break;let Z=u.docView.nearestDesc(X,!0),Y;if(!Z)return null;if(Z.dom.nodeType==1&&(Z.node.isBlock&&Z.parent||!Z.contentDOM)&&((Y=Z.dom.getBoundingClientRect()).width||Y.height)){if(Z.node.isBlock&&Z.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(Z.dom.nodeName)){if(!V&&Y.left>Q.left||Y.top>Q.top)U=Z.posBefore;else if(!V&&Y.right<Q.left||Y.bottom<Q.top)U=Z.posAfter;V=!0}if(!Z.contentDOM&&U<0&&!Z.node.isText)return(Z.node.isBlock?Q.top<(Y.top+Y.bottom)/2:Q.left<(Y.left+Y.right)/2)?Z.posBefore:Z.posAfter}X=Z.dom.parentNode}return U>-1?U:u.docView.posFromDOM(l,z,-1)}function oV(u,l,z){let Q=u.childNodes.length;if(Q&&z.top<z.bottom)for(let U=Math.max(0,Math.min(Q-1,Math.floor(Q*(l.top-z.top)/(z.bottom-z.top))-2)),X=U;;){let V=u.childNodes[X];if(V.nodeType==1){let Z=V.getClientRects();for(let Y=0;Y<Z.length;Y++){let W=Z[Y];if(fz(l,W))return oV(V,l,W)}}if((X=(X+1)%Q)==U)break}return u}function m_(u,l){let z=u.dom.ownerDocument,Q,U=0,X=D_(z,l.left,l.top);if(X)({node:Q,offset:U}=X);let V=(u.root.elementFromPoint?u.root:z).elementFromPoint(l.left,l.top),Z;if(!V||!u.dom.contains(V.nodeType!=1?V.parentNode:V)){let W=u.dom.getBoundingClientRect();if(!fz(l,W))return null;if(V=oV(u.dom,l,W),!V)return null}if(fu){for(let W=V;Q&&W;W=el(W))if(W.draggable)Q=void 0}if(V=h_(V,l),Q){if(X0&&Q.nodeType==1){if(U=Math.min(U,Q.childNodes.length),U<Q.childNodes.length){let L=Q.childNodes[U],H;if(L.nodeName=="IMG"&&(H=L.getBoundingClientRect()).right<=l.left&&H.bottom>l.top)U++}}let W;if(E3&&U&&Q.nodeType==1&&(W=Q.childNodes[U-1]).nodeType==1&&W.contentEditable=="false"&&W.getBoundingClientRect().top>=l.top)U--;if(Q==u.dom&&U==Q.childNodes.length-1&&Q.lastChild.nodeType==1&&l.top>Q.lastChild.getBoundingClientRect().bottom)Z=u.state.doc.content.size;else if(U==0||Q.nodeType!=1||Q.childNodes[U-1].nodeName!="BR")Z=c_(u,Q,U,l)}if(Z==null)Z=b_(u,V,l);let Y=u.docView.nearestDesc(V,!0);return{pos:Z,inside:Y?Y.posAtStart-Y.border:-1}}function qV(u){return u.top<u.bottom||u.left<u.right}function B1(u,l){let z=u.getClientRects();if(z.length){let Q=z[l<0?0:z.length-1];if(qV(Q))return Q}return Array.prototype.find.call(z,qV)||u.getBoundingClientRect()}var n_=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function tV(u,l,z){let{node:Q,offset:U,atom:X}=u.docView.domFromPos(l,z<0?-1:1),V=E3||X0;if(Q.nodeType==3)if(V&&(n_.test(Q.nodeValue)||(z<0?!U:U==Q.nodeValue.length))){let Y=B1(i0(Q,U,U),z);if(X0&&U&&/\s/.test(Q.nodeValue[U-1])&&U<Q.nodeValue.length){let W=B1(i0(Q,U-1,U-1),-1);if(W.top==Y.top){let L=B1(i0(Q,U,U+1),-1);if(L.top!=Y.top)return H3(L,L.left<W.left)}}return Y}else{let Y=U,W=U,L=z<0?1:-1;if(z<0&&!U)W++,L=-1;else if(z>=0&&U==Q.nodeValue.length)Y--,L=1;else if(z<0)Y--;else W++;return H3(B1(i0(Q,Y,W),L),L<0)}if(!u.state.doc.resolve(l-(X||0)).parent.inlineContent){if(X==null&&U&&(z<0||U==U0(Q))){let Y=Q.childNodes[U-1];if(Y.nodeType==1)return Cz(Y.getBoundingClientRect(),!1)}if(X==null&&U<U0(Q)){let Y=Q.childNodes[U];if(Y.nodeType==1)return Cz(Y.getBoundingClientRect(),!0)}return Cz(Q.getBoundingClientRect(),z>=0)}if(X==null&&U&&(z<0||U==U0(Q))){let Y=Q.childNodes[U-1],W=Y.nodeType==3?i0(Y,U0(Y)-(V?0:1)):Y.nodeType==1&&(Y.nodeName!="BR"||!Y.nextSibling)?Y:null;if(W)return H3(B1(W,1),!1)}if(X==null&&U<U0(Q)){let Y=Q.childNodes[U];while(Y.pmViewDesc&&Y.pmViewDesc.ignoreForCoords)Y=Y.nextSibling;let W=!Y?null:Y.nodeType==3?i0(Y,0,V?0:1):Y.nodeType==1?Y:null;if(W)return H3(B1(W,-1),!0)}return H3(B1(Q.nodeType==3?i0(Q):Q,-z),z>=0)}function H3(u,l){if(u.width==0)return u;let z=l?u.left:u.right;return{top:u.top,bottom:u.bottom,left:z,right:z}}function Cz(u,l){if(u.height==0)return u;let z=l?u.top:u.bottom;return{top:z,bottom:z,left:u.left,right:u.right}}function eV(u,l,z){let Q=u.state,U=u.root.activeElement;if(Q!=l)u.updateState(l);if(U!=u.dom)u.focus();try{return z()}finally{if(Q!=l)u.updateState(Q);if(U!=u.dom&&U)U.focus()}}function i_(u,l,z){let Q=l.selection,U=z=="up"?Q.$from:Q.$to;return eV(u,l,()=>{let{node:X}=u.docView.domFromPos(U.pos,z=="up"?-1:1);for(;;){let Z=u.docView.nearestDesc(X,!0);if(!Z)break;if(Z.node.isBlock){X=Z.contentDOM||Z.dom;break}X=Z.dom.parentNode}let V=tV(u,U.pos,1);for(let Z=X.firstChild;Z;Z=Z.nextSibling){let Y;if(Z.nodeType==1)Y=Z.getClientRects();else if(Z.nodeType==3)Y=i0(Z,0,Z.nodeValue.length).getClientRects();else continue;for(let W=0;W<Y.length;W++){let L=Y[W];if(L.bottom>L.top+1&&(z=="up"?V.top-L.top>(L.bottom-V.top)*2:L.bottom-V.bottom>(V.bottom-L.top)*2))return!1}}return!0})}var r_=/[\u0590-\u08ac]/;function p_(u,l,z){let{$head:Q}=l.selection;if(!Q.parent.isTextblock)return!1;let U=Q.parentOffset,X=!U,V=U==Q.parent.content.size,Z=u.domSelection();if(!Z)return Q.pos==Q.start()||Q.pos==Q.end();if(!r_.test(Q.parent.textContent)||!Z.modify)return z=="left"||z=="backward"?X:V;return eV(u,l,()=>{let{focusNode:Y,focusOffset:W,anchorNode:L,anchorOffset:H}=u.domSelectionRange(),J=Z.caretBidiLevel;Z.modify("move",z,"character");let K=Q.depth?u.docView.domAfterPos(Q.before()):u.dom,{focusNode:_,focusOffset:q}=u.domSelectionRange(),E=_&&!K.contains(_.nodeType==1?_:_.parentNode)||Y==_&&W==q;try{if(Z.collapse(L,H),Y&&(Y!=L||W!=H)&&Z.extend)Z.extend(Y,W)}catch(G){}if(J!=null)Z.caretBidiLevel=J;return E})}var PV=null,EV=null,CV=!1;function d_(u,l,z){if(PV==l&&EV==z)return CV;return PV=l,EV=z,CV=z=="up"||z=="down"?i_(u,l,z):p_(u,l,z)}var V0=0,BV=1,ul=2,M0=3;class l2{constructor(u,l,z,Q){this.parent=u,this.children=l,this.dom=z,this.contentDOM=Q,this.dirty=V0,z.pmViewDesc=this}matchesWidget(u){return!1}matchesMark(u){return!1}matchesNode(u,l,z){return!1}matchesHack(u){return!1}parseRule(){return null}stopEvent(u){return!1}get size(){let u=0;for(let l=0;l<this.children.length;l++)u+=this.children[l].size;return u}get border(){return 0}destroy(){if(this.parent=void 0,this.dom.pmViewDesc==this)this.dom.pmViewDesc=void 0;for(let u=0;u<this.children.length;u++)this.children[u].destroy()}posBeforeChild(u){for(let l=0,z=this.posAtStart;;l++){let Q=this.children[l];if(Q==u)return z;z+=Q.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(u,l,z){if(this.contentDOM&&this.contentDOM.contains(u.nodeType==1?u:u.parentNode))if(z<0){let U,X;if(u==this.contentDOM)U=u.childNodes[l-1];else{while(u.parentNode!=this.contentDOM)u=u.parentNode;U=u.previousSibling}while(U&&!((X=U.pmViewDesc)&&X.parent==this))U=U.previousSibling;return U?this.posBeforeChild(X)+X.size:this.posAtStart}else{let U,X;if(u==this.contentDOM)U=u.childNodes[l];else{while(u.parentNode!=this.contentDOM)u=u.parentNode;U=u.nextSibling}while(U&&!((X=U.pmViewDesc)&&X.parent==this))U=U.nextSibling;return U?this.posBeforeChild(X):this.posAtEnd}let Q;if(u==this.dom&&this.contentDOM)Q=l>Pu(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))Q=u.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(l==0)for(let U=u;;U=U.parentNode){if(U==this.dom){Q=!1;break}if(U.previousSibling)break}if(Q==null&&l==u.childNodes.length)for(let U=u;;U=U.parentNode){if(U==this.dom){Q=!0;break}if(U.nextSibling)break}}return(Q==null?z>0:Q)?this.posAtEnd:this.posAtStart}nearestDesc(u,l=!1){for(let z=!0,Q=u;Q;Q=Q.parentNode){let U=this.getDesc(Q),X;if(U&&(!l||U.node))if(z&&(X=U.nodeDOM)&&!(X.nodeType==1?X.contains(u.nodeType==1?u:u.parentNode):X==u))z=!1;else return U}}getDesc(u){let l=u.pmViewDesc;for(let z=l;z;z=z.parent)if(z==this)return l}posFromDOM(u,l,z){for(let Q=u;Q;Q=Q.parentNode){let U=this.getDesc(Q);if(U)return U.localPosFromDOM(u,l,z)}return-1}descAt(u){for(let l=0,z=0;l<this.children.length;l++){let Q=this.children[l],U=z+Q.size;if(z==u&&U!=z){while(!Q.border&&Q.children.length)for(let X=0;X<Q.children.length;X++){let V=Q.children[X];if(V.size){Q=V;break}}return Q}if(u<U)return Q.descAt(u-z-Q.border);z=U}}domFromPos(u,l){if(!this.contentDOM)return{node:this.dom,offset:0,atom:u+1};let z=0,Q=0;for(let U=0;z<this.children.length;z++){let X=this.children[z],V=U+X.size;if(V>u||X instanceof xz){Q=u-U;break}U=V}if(Q)return this.children[z].domFromPos(Q-this.children[z].border,l);for(let U;z&&!(U=this.children[z-1]).size&&U instanceof $z&&U.side>=0;z--);if(l<=0){let U,X=!0;for(;;z--,X=!1)if(U=z?this.children[z-1]:null,!U||U.dom.parentNode==this.contentDOM)break;if(U&&l&&X&&!U.border&&!U.domAtom)return U.domFromPos(U.size,l);return{node:this.contentDOM,offset:U?Pu(U.dom)+1:0}}else{let U,X=!0;for(;;z++,X=!1)if(U=z<this.children.length?this.children[z]:null,!U||U.dom.parentNode==this.contentDOM)break;if(U&&X&&!U.border&&!U.domAtom)return U.domFromPos(0,l);return{node:this.contentDOM,offset:U?Pu(U.dom):this.contentDOM.childNodes.length}}}parseRange(u,l,z=0){if(this.children.length==0)return{node:this.contentDOM,from:u,to:l,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let Q=-1,U=-1;for(let X=z,V=0;;V++){let Z=this.children[V],Y=X+Z.size;if(Q==-1&&u<=Y){let W=X+Z.border;if(u>=W&&l<=Y-Z.border&&Z.node&&Z.contentDOM&&this.contentDOM.contains(Z.contentDOM))return Z.parseRange(u,l,W);u=X;for(let L=V;L>0;L--){let H=this.children[L-1];if(H.size&&H.dom.parentNode==this.contentDOM&&!H.emptyChildAt(1)){Q=Pu(H.dom)+1;break}u-=H.size}if(Q==-1)Q=0}if(Q>-1&&(Y>l||V==this.children.length-1)){l=Y;for(let W=V+1;W<this.children.length;W++){let L=this.children[W];if(L.size&&L.dom.parentNode==this.contentDOM&&!L.emptyChildAt(-1)){U=Pu(L.dom);break}l+=L.size}if(U==-1)U=this.contentDOM.childNodes.length;break}X=Y}return{node:this.contentDOM,from:u,to:l,fromOffset:Q,toOffset:U}}emptyChildAt(u){if(this.border||!this.contentDOM||!this.children.length)return!1;let l=this.children[u<0?0:this.children.length-1];return l.size==0||l.emptyChildAt(u)}domAfterPos(u){let{node:l,offset:z}=this.domFromPos(u,0);if(l.nodeType!=1||z==l.childNodes.length)throw new RangeError("No node after pos "+u);return l.childNodes[z]}setSelection(u,l,z,Q=!1){let U=Math.min(u,l),X=Math.max(u,l);for(let J=0,K=0;J<this.children.length;J++){let _=this.children[J],q=K+_.size;if(U>K&&X<q)return _.setSelection(u-K-_.border,l-K-_.border,z,Q);K=q}let V=this.domFromPos(u,u?-1:1),Z=l==u?V:this.domFromPos(l,l?-1:1),Y=z.root.getSelection(),W=z.domSelectionRange(),L=!1;if((X0||fu)&&u==l){let{node:J,offset:K}=V;if(J.nodeType==3){if(L=!!(K&&J.nodeValue[K-1]==`
`),L&&K==J.nodeValue.length)for(let _=J,q;_;_=_.parentNode){if(q=_.nextSibling){if(q.nodeName=="BR")V=Z={node:q.parentNode,offset:Pu(q)+1};break}let E=_.pmViewDesc;if(E&&E.node&&E.node.isBlock)break}}else{let _=J.childNodes[K-1];L=_&&(_.nodeName=="BR"||_.contentEditable=="false")}}if(X0&&W.focusNode&&W.focusNode!=Z.node&&W.focusNode.nodeType==1){let J=W.focusNode.childNodes[W.focusOffset];if(J&&J.contentEditable=="false")Q=!0}if(!(Q||L&&fu)&&Ul(V.node,V.offset,W.anchorNode,W.anchorOffset)&&Ul(Z.node,Z.offset,W.focusNode,W.focusOffset))return;let H=!1;if((Y.extend||u==l)&&!(L&&X0)){Y.collapse(V.node,V.offset);try{if(u!=l)Y.extend(Z.node,Z.offset);H=!0}catch(J){}}if(!H){if(u>l){let K=V;V=Z,Z=K}let J=document.createRange();J.setEnd(Z.node,Z.offset),J.setStart(V.node,V.offset),Y.removeAllRanges(),Y.addRange(J)}}ignoreMutation(u){return!this.contentDOM&&u.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(u,l){for(let z=0,Q=0;Q<this.children.length;Q++){let U=this.children[Q],X=z+U.size;if(z==X?u<=X&&l>=z:u<X&&l>z){let V=z+U.border,Z=X-U.border;if(u>=V&&l<=Z){if(this.dirty=u==z||l==X?ul:BV,u==V&&l==Z&&(U.contentLost||U.dom.parentNode!=this.contentDOM))U.dirty=M0;else U.markDirty(u-V,l-V);return}else U.dirty=U.dom==U.contentDOM&&U.dom.parentNode==this.contentDOM&&!U.children.length?ul:M0}z=X}this.dirty=ul}markParentsDirty(){let u=1;for(let l=this.parent;l;l=l.parent,u++){let z=u==1?ul:BV;if(l.dirty<z)l.dirty=z}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(u){return!1}}class $z extends l2{constructor(u,l,z,Q){let U,X=l.type.toDOM;if(typeof X=="function")X=X(z,()=>{if(!U)return Q;if(U.parent)return U.parent.posBeforeChild(U)});if(!l.type.spec.raw){if(X.nodeType!=1){let V=document.createElement("span");V.appendChild(X),X=V}X.contentEditable="false",X.classList.add("ProseMirror-widget")}super(u,[],X,null);this.widget=l,this.widget=l,U=this}matchesWidget(u){return this.dirty==V0&&u.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(u){let l=this.widget.spec.stopEvent;return l?l(u):!1}ignoreMutation(u){return u.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class uZ extends l2{constructor(u,l,z,Q){super(u,[],l,null);this.textDOM=z,this.text=Q}get size(){return this.text.length}localPosFromDOM(u,l){if(u!=this.textDOM)return this.posAtStart+(l?this.size:0);return this.posAtStart+l}domFromPos(u){return{node:this.textDOM,offset:u}}ignoreMutation(u){return u.type==="characterData"&&u.target.nodeValue==u.oldValue}}class Xl extends l2{constructor(u,l,z,Q,U){super(u,[],z,Q);this.mark=l,this.spec=U}static create(u,l,z,Q){let U=Q.nodeViews[l.type.name],X=U&&U(l,Q,z);if(!X||!X.dom)X=N0.renderSpec(document,l.type.spec.toDOM(l,z),null,l.attrs);return new Xl(u,l,X.dom,X.contentDOM||X.dom,X)}parseRule(){if(this.dirty&M0||this.mark.type.spec.reparseInView)return null;return{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(u){return this.dirty!=M0&&this.mark.eq(u)}markDirty(u,l){if(super.markDirty(u,l),this.dirty!=V0){let z=this.parent;while(!z.node)z=z.parent;if(z.dirty<this.dirty)z.dirty=this.dirty;this.dirty=V0}}slice(u,l,z){let Q=Xl.create(this.parent,this.mark,!0,z),U=this.children,X=this.size;if(l<X)U=Mz(U,l,X,z);if(u>0)U=Mz(U,0,u,z);for(let V=0;V<U.length;V++)U[V].parent=Q;return Q.children=U,Q}ignoreMutation(u){return this.spec.ignoreMutation?this.spec.ignoreMutation(u):super.ignoreMutation(u)}destroy(){if(this.spec.destroy)this.spec.destroy();super.destroy()}}class R1 extends l2{constructor(u,l,z,Q,U,X,V,Z,Y){super(u,[],U,X);this.node=l,this.outerDeco=z,this.innerDeco=Q,this.nodeDOM=V}static create(u,l,z,Q,U,X){let V=U.nodeViews[l.type.name],Z,Y=V&&V(l,U,()=>{if(!Z)return X;if(Z.parent)return Z.parent.posBeforeChild(Z)},z,Q),W=Y&&Y.dom,L=Y&&Y.contentDOM;if(l.isText){if(!W)W=document.createTextNode(l.text);else if(W.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else if(!W)({dom:W,contentDOM:L}=N0.renderSpec(document,l.type.spec.toDOM(l),null,l.attrs));if(!L&&!l.isText&&W.nodeName!="BR"){if(!W.hasAttribute("contenteditable"))W.contentEditable="false";if(l.type.spec.draggable)W.draggable=!0}let H=W;if(W=UZ(W,z,l),Y)return Z=new lZ(u,l,z,Q,W,L||null,H,Y,U,X+1);else if(l.isText)return new K8(u,l,z,Q,W,H,U);else return new R1(u,l,z,Q,W,L||null,H,U,X+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let u={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre")u.preserveWhitespace="full";if(!this.contentDOM)u.getContent=()=>this.node.content;else if(!this.contentLost)u.contentElement=this.contentDOM;else{for(let l=this.children.length-1;l>=0;l--){let z=this.children[l];if(this.dom.contains(z.dom.parentNode)){u.contentElement=z.dom.parentNode;break}}if(!u.contentElement)u.getContent=()=>I.empty}return u}matchesNode(u,l,z){return this.dirty==V0&&u.eq(this.node)&&Y8(l,this.outerDeco)&&z.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(u,l){let z=this.node.inlineContent,Q=l,U=u.composing?this.localCompositionInfo(u,l):null,X=U&&U.pos>-1?U:null,V=U&&U.pos<0,Z=new XZ(this,X&&X.node,u);if(t_(this.node,this.innerDeco,(Y,W,L)=>{if(Y.spec.marks)Z.syncToMarks(Y.spec.marks,z,u);else if(Y.type.side>=0&&!L)Z.syncToMarks(W==this.node.childCount?w.none:this.node.child(W).marks,z,u);Z.placeWidget(Y,u,Q)},(Y,W,L,H)=>{Z.syncToMarks(Y.marks,z,u);let J;if(Z.findNodeMatch(Y,W,L,H));else if(V&&u.state.selection.from>Q&&u.state.selection.to<Q+Y.nodeSize&&(J=Z.findIndexWithChild(U.node))>-1&&Z.updateNodeAt(Y,W,L,J,u));else if(Z.updateNextNode(Y,W,L,u,H,Q));else Z.addNode(Y,W,L,u,Q);Q+=Y.nodeSize}),Z.syncToMarks([],z,u),this.node.isTextblock)Z.addTextblockHacks();if(Z.destroyRest(),Z.changed||this.dirty==ul){if(X)this.protectLocalComposition(u,X);if(zZ(this.contentDOM,this.children,u),u2)e_(this.dom)}}localCompositionInfo(u,l){let{from:z,to:Q}=u.state.selection;if(!(u.state.selection instanceof D)||z<l||Q>l+this.node.content.size)return null;let U=u.input.compositionNode;if(!U||!this.dom.contains(U.parentNode))return null;if(this.node.inlineContent){let X=U.nodeValue,V=uK(this.node.content,X,z-l,Q-l);return V<0?null:{node:U,pos:V,text:X}}else return{node:U,pos:-1,text:""}}protectLocalComposition(u,{node:l,pos:z,text:Q}){if(this.getDesc(l))return;let U=l;for(;;U=U.parentNode){if(U.parentNode==this.contentDOM)break;while(U.previousSibling)U.parentNode.removeChild(U.previousSibling);while(U.nextSibling)U.parentNode.removeChild(U.nextSibling);if(U.pmViewDesc)U.pmViewDesc=void 0}let X=new uZ(this,U,l,Q);u.input.compositionNodes.push(X),this.children=Mz(this.children,z,z+Q.length,u,X)}update(u,l,z,Q){if(this.dirty==M0||!u.sameMarkup(this.node))return!1;return this.updateInner(u,l,z,Q),!0}updateInner(u,l,z,Q){if(this.updateOuterDeco(l),this.node=u,this.innerDeco=z,this.contentDOM)this.updateChildren(Q,this.posAtStart);this.dirty=V0}updateOuterDeco(u){if(Y8(u,this.outerDeco))return;let l=this.nodeDOM.nodeType!=1,z=this.dom;if(this.dom=QZ(this.dom,this.nodeDOM,Oz(this.outerDeco,this.node,l),Oz(u,this.node,l)),this.dom!=z)z.pmViewDesc=void 0,this.dom.pmViewDesc=this;this.outerDeco=u}selectNode(){if(this.nodeDOM.nodeType==1)this.nodeDOM.classList.add("ProseMirror-selectednode");if(this.contentDOM||!this.node.type.spec.draggable)this.dom.draggable=!0}deselectNode(){if(this.nodeDOM.nodeType==1){if(this.nodeDOM.classList.remove("ProseMirror-selectednode"),this.contentDOM||!this.node.type.spec.draggable)this.dom.removeAttribute("draggable")}}get domAtom(){return this.node.isAtom}}function IV(u,l,z,Q,U){UZ(Q,l,u);let X=new R1(void 0,u,l,z,Q,Q,Q,U,0);if(X.contentDOM)X.updateChildren(U,0);return X}class K8 extends R1{constructor(u,l,z,Q,U,X,V){super(u,l,z,Q,U,null,X,V,0)}parseRule(){let u=this.nodeDOM.parentNode;while(u&&u!=this.dom&&!u.pmIsDeco)u=u.parentNode;return{skip:u||!0}}update(u,l,z,Q){if(this.dirty==M0||this.dirty!=V0&&!this.inParent()||!u.sameMarkup(this.node))return!1;if(this.updateOuterDeco(l),(this.dirty!=V0||u.text!=this.node.text)&&u.text!=this.nodeDOM.nodeValue){if(this.nodeDOM.nodeValue=u.text,Q.trackWrites==this.nodeDOM)Q.trackWrites=null}return this.node=u,this.dirty=V0,!0}inParent(){let u=this.parent.contentDOM;for(let l=this.nodeDOM;l;l=l.parentNode)if(l==u)return!0;return!1}domFromPos(u){return{node:this.nodeDOM,offset:u}}localPosFromDOM(u,l,z){if(u==this.nodeDOM)return this.posAtStart+Math.min(l,this.node.text.length);return super.localPosFromDOM(u,l,z)}ignoreMutation(u){return u.type!="characterData"&&u.type!="selection"}slice(u,l,z){let Q=this.node.cut(u,l),U=document.createTextNode(Q.text);return new K8(this.parent,Q,this.outerDeco,this.innerDeco,U,U,z)}markDirty(u,l){if(super.markDirty(u,l),this.dom!=this.nodeDOM&&(u==0||l==this.nodeDOM.nodeValue.length))this.dirty=M0}get domAtom(){return!1}isText(u){return this.node.text==u}}class xz extends l2{parseRule(){return{ignore:!0}}matchesHack(u){return this.dirty==V0&&this.dom.nodeName==u}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class lZ extends R1{constructor(u,l,z,Q,U,X,V,Z,Y,W){super(u,l,z,Q,U,X,V,Y,W);this.spec=Z}update(u,l,z,Q){if(this.dirty==M0)return!1;if(this.spec.update&&(this.node.type==u.type||this.spec.multiType)){let U=this.spec.update(u,l,z);if(U)this.updateInner(u,l,z,Q);return U}else if(!this.contentDOM&&!u.isLeaf)return!1;else return super.update(u,l,z,Q)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(u,l,z,Q){this.spec.setSelection?this.spec.setSelection(u,l,z.root):super.setSelection(u,l,z,Q)}destroy(){if(this.spec.destroy)this.spec.destroy();super.destroy()}stopEvent(u){return this.spec.stopEvent?this.spec.stopEvent(u):!1}ignoreMutation(u){return this.spec.ignoreMutation?this.spec.ignoreMutation(u):super.ignoreMutation(u)}}function zZ(u,l,z){let Q=u.firstChild,U=!1;for(let X=0;X<l.length;X++){let V=l[X],Z=V.dom;if(Z.parentNode==u){while(Z!=Q)Q=FV(Q),U=!0;Q=Q.nextSibling}else U=!0,u.insertBefore(Z,Q);if(V instanceof Xl){let Y=Q?Q.previousSibling:u.lastChild;zZ(V.contentDOM,V.children,z),Q=Y?Y.nextSibling:u.firstChild}}while(Q)Q=FV(Q),U=!0;if(U&&z.trackWrites==u)z.trackWrites=null}var J3=function(u){if(u)this.nodeName=u};J3.prototype=Object.create(null);var ll=[new J3];function Oz(u,l,z){if(u.length==0)return ll;let Q=z?ll[0]:new J3,U=[Q];for(let X=0;X<u.length;X++){let V=u[X].type.attrs;if(!V)continue;if(V.nodeName)U.push(Q=new J3(V.nodeName));for(let Z in V){let Y=V[Z];if(Y==null)continue;if(z&&U.length==1)U.push(Q=new J3(l.isInline?"span":"div"));if(Z=="class")Q.class=(Q.class?Q.class+" ":"")+Y;else if(Z=="style")Q.style=(Q.style?Q.style+";":"")+Y;else if(Z!="nodeName")Q[Z]=Y}}return U}function QZ(u,l,z,Q){if(z==ll&&Q==ll)return l;let U=l;for(let X=0;X<Q.length;X++){let V=Q[X],Z=z[X];if(X){let Y;if(Z&&Z.nodeName==V.nodeName&&U!=u&&(Y=U.parentNode)&&Y.nodeName.toLowerCase()==V.nodeName)U=Y;else Y=document.createElement(V.nodeName),Y.pmIsDeco=!0,Y.appendChild(U),Z=ll[0],U=Y}a_(U,Z||ll[0],V)}return U}function a_(u,l,z){for(let Q in l)if(Q!="class"&&Q!="style"&&Q!="nodeName"&&!(Q in z))u.removeAttribute(Q);for(let Q in z)if(Q!="class"&&Q!="style"&&Q!="nodeName"&&z[Q]!=l[Q])u.setAttribute(Q,z[Q]);if(l.class!=z.class){let Q=l.class?l.class.split(" ").filter(Boolean):[],U=z.class?z.class.split(" ").filter(Boolean):[];for(let X=0;X<Q.length;X++)if(U.indexOf(Q[X])==-1)u.classList.remove(Q[X]);for(let X=0;X<U.length;X++)if(Q.indexOf(U[X])==-1)u.classList.add(U[X]);if(u.classList.length==0)u.removeAttribute("class")}if(l.style!=z.style){if(l.style){let Q=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,U;while(U=Q.exec(l.style))u.style.removeProperty(U[1])}if(z.style)u.style.cssText+=z.style}}function UZ(u,l,z){return QZ(u,u,ll,Oz(l,z,u.nodeType!=1))}function Y8(u,l){if(u.length!=l.length)return!1;for(let z=0;z<u.length;z++)if(!u[z].type.eq(l[z].type))return!1;return!0}function FV(u){let l=u.nextSibling;return u.parentNode.removeChild(u),l}class XZ{constructor(u,l,z){this.lock=l,this.view=z,this.index=0,this.stack=[],this.changed=!1,this.top=u,this.preMatch=s_(u.node.content,u)}destroyBetween(u,l){if(u==l)return;for(let z=u;z<l;z++)this.top.children[z].destroy();this.top.children.splice(u,l-u),this.changed=!0}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(u,l,z){let Q=0,U=this.stack.length>>1,X=Math.min(U,u.length);while(Q<X&&(Q==U-1?this.top:this.stack[Q+1<<1]).matchesMark(u[Q])&&u[Q].type.spec.spanning!==!1)Q++;while(Q<U)this.destroyRest(),this.top.dirty=V0,this.index=this.stack.pop(),this.top=this.stack.pop(),U--;while(U<u.length){this.stack.push(this.top,this.index+1);let V=-1;for(let Z=this.index;Z<Math.min(this.index+3,this.top.children.length);Z++){let Y=this.top.children[Z];if(Y.matchesMark(u[U])&&!this.isLocked(Y.dom)){V=Z;break}}if(V>-1){if(V>this.index)this.changed=!0,this.destroyBetween(this.index,V);this.top=this.top.children[this.index]}else{let Z=Xl.create(this.top,u[U],l,z);this.top.children.splice(this.index,0,Z),this.top=Z,this.changed=!0}this.index=0,U++}}findNodeMatch(u,l,z,Q){let U=-1,X;if(Q>=this.preMatch.index&&(X=this.preMatch.matches[Q-this.preMatch.index]).parent==this.top&&X.matchesNode(u,l,z))U=this.top.children.indexOf(X,this.index);else for(let V=this.index,Z=Math.min(this.top.children.length,V+5);V<Z;V++){let Y=this.top.children[V];if(Y.matchesNode(u,l,z)&&!this.preMatch.matched.has(Y)){U=V;break}}if(U<0)return!1;return this.destroyBetween(this.index,U),this.index++,!0}updateNodeAt(u,l,z,Q,U){let X=this.top.children[Q];if(X.dirty==M0&&X.dom==X.contentDOM)X.dirty=ul;if(!X.update(u,l,z,U))return!1;return this.destroyBetween(this.index,Q),this.index++,!0}findIndexWithChild(u){for(;;){let l=u.parentNode;if(!l)return-1;if(l==this.top.contentDOM){let z=u.pmViewDesc;if(z){for(let Q=this.index;Q<this.top.children.length;Q++)if(this.top.children[Q]==z)return Q}return-1}u=l}}updateNextNode(u,l,z,Q,U,X){for(let V=this.index;V<this.top.children.length;V++){let Z=this.top.children[V];if(Z instanceof R1){let Y=this.preMatch.matched.get(Z);if(Y!=null&&Y!=U)return!1;let W=Z.dom,L,H=this.isLocked(W)&&!(u.isText&&Z.node&&Z.node.isText&&Z.nodeDOM.nodeValue==u.text&&Z.dirty!=M0&&Y8(l,Z.outerDeco));if(!H&&Z.update(u,l,z,Q)){if(this.destroyBetween(this.index,V),Z.dom!=W)this.changed=!0;return this.index++,!0}else if(!H&&(L=this.recreateWrapper(Z,u,l,z,Q,X))){if(this.destroyBetween(this.index,V),this.top.children[this.index]=L,L.contentDOM)L.dirty=ul,L.updateChildren(Q,X+1),L.dirty=V0;return this.changed=!0,this.index++,!0}break}}return!1}recreateWrapper(u,l,z,Q,U,X){if(u.dirty||l.isAtom||!u.children.length||!u.node.content.eq(l.content)||!Y8(z,u.outerDeco)||!Q.eq(u.innerDeco))return null;let V=R1.create(this.top,l,z,Q,U,X);if(V.contentDOM){V.children=u.children,u.children=[];for(let Z of V.children)Z.parent=V}return u.destroy(),V}addNode(u,l,z,Q,U){let X=R1.create(this.top,u,l,z,Q,U);if(X.contentDOM)X.updateChildren(Q,U+1);this.top.children.splice(this.index++,0,X),this.changed=!0}placeWidget(u,l,z){let Q=this.index<this.top.children.length?this.top.children[this.index]:null;if(Q&&Q.matchesWidget(u)&&(u==Q.widget||!Q.widget.type.toDOM.parentNode))this.index++;else{let U=new $z(this.top,u,l,z);this.top.children.splice(this.index++,0,U),this.changed=!0}}addTextblockHacks(){let u=this.top.children[this.index-1],l=this.top;while(u instanceof Xl)l=u,u=l.children[l.children.length-1];if(!u||!(u instanceof K8)||/\n$/.test(u.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(u.node.text)){if((fu||Ou)&&u&&u.dom.contentEditable=="false")this.addHackNode("IMG",l);this.addHackNode("BR",this.top)}}addHackNode(u,l){if(l==this.top&&this.index<l.children.length&&l.children[this.index].matchesHack(u))this.index++;else{let z=document.createElement(u);if(u=="IMG")z.className="ProseMirror-separator",z.alt="";if(u=="BR")z.className="ProseMirror-trailingBreak";let Q=new xz(this.top,[],z,null);if(l!=this.top)l.children.push(Q);else l.children.splice(this.index++,0,Q);this.changed=!0}}isLocked(u){return this.lock&&(u==this.lock||u.nodeType==1&&u.contains(this.lock.parentNode))}}function s_(u,l){let z=l,Q=z.children.length,U=u.childCount,X=new Map,V=[];u:while(U>0){let Z;for(;;)if(Q){let W=z.children[Q-1];if(W instanceof Xl)z=W,Q=W.children.length;else{Z=W,Q--;break}}else if(z==l)break u;else Q=z.parent.children.indexOf(z),z=z.parent;let Y=Z.node;if(!Y)continue;if(Y!=u.child(U-1))break;--U,X.set(Z,U),V.push(Z)}return{index:U,matched:X,matches:V.reverse()}}function o_(u,l){return u.type.side-l.type.side}function t_(u,l,z,Q){let U=l.locals(u),X=0;if(U.length==0){for(let W=0;W<u.childCount;W++){let L=u.child(W);Q(L,U,l.forChild(X,L),W),X+=L.nodeSize}return}let V=0,Z=[],Y=null;for(let W=0;;){let L,H;while(V<U.length&&U[V].to==X){let E=U[V++];if(E.widget)if(!L)L=E;else(H||(H=[L])).push(E)}if(L)if(H){H.sort(o_);for(let E=0;E<H.length;E++)z(H[E],W,!!Y)}else z(L,W,!!Y);let J,K;if(Y)K=-1,J=Y,Y=null;else if(W<u.childCount)K=W,J=u.child(W++);else break;for(let E=0;E<Z.length;E++)if(Z[E].to<=X)Z.splice(E--,1);while(V<U.length&&U[V].from<=X&&U[V].to>X)Z.push(U[V++]);let _=X+J.nodeSize;if(J.isText){let E=_;if(V<U.length&&U[V].from<E)E=U[V].from;for(let G=0;G<Z.length;G++)if(Z[G].to<E)E=Z[G].to;if(E<_)Y=J.cut(E-X),J=J.cut(0,E-X),_=E,K=-1}else while(V<U.length&&U[V].to<_)V++;let q=J.isInline&&!J.isLeaf?Z.filter((E)=>!E.inline):Z.slice();Q(J,q,l.forChild(X,J),K),X=_}}function e_(u){if(u.nodeName=="UL"||u.nodeName=="OL"){let l=u.style.cssText;u.style.cssText=l+"; list-style: square !important",window.getComputedStyle(u).listStyle,u.style.cssText=l}}function uK(u,l,z,Q){for(let U=0,X=0;U<u.childCount&&X<=Q;){let V=u.child(U++),Z=X;if(X+=V.nodeSize,!V.isText)continue;let Y=V.text;while(U<u.childCount){let W=u.child(U++);if(X+=W.nodeSize,!W.isText)break;Y+=W.text}if(X>=z){if(X>=Q&&Y.slice(Q-l.length-Z,Q-Z)==l)return Q-l.length;let W=Z<Q?Y.lastIndexOf(l,Q-Z-1):-1;if(W>=0&&W+l.length+Z>=z)return Z+W;if(z==Q&&Y.length>=Q+l.length-Z&&Y.slice(Q-Z,Q-Z+l.length)==l)return Q}}return-1}function Mz(u,l,z,Q,U){let X=[];for(let V=0,Z=0;V<u.length;V++){let Y=u[V],W=Z,L=Z+=Y.size;if(W>=z||L<=l)X.push(Y);else{if(W<l)X.push(Y.slice(0,l-W,Q));if(U)X.push(U),U=void 0;if(L>z)X.push(Y.slice(z-W,Y.size,Q))}}return X}function gz(u,l=null){let z=u.domSelectionRange(),Q=u.state.doc;if(!z.focusNode)return null;let U=u.docView.nearestDesc(z.focusNode),X=U&&U.size==0,V=u.docView.posFromDOM(z.focusNode,z.focusOffset,1);if(V<0)return null;let Z=Q.resolve(V),Y,W;if(_8(z)){Y=V;while(U&&!U.node)U=U.parent;let H=U.node;if(U&&H.isAtom&&T.isSelectable(H)&&U.parent&&!(H.isInline&&M_(z.focusNode,z.focusOffset,U.dom))){let J=U.posBefore;W=new T(V==J?Z:Q.resolve(J))}}else{if(z instanceof u.dom.ownerDocument.defaultView.Selection&&z.rangeCount>1){let H=V,J=V;for(let K=0;K<z.rangeCount;K++){let _=z.getRangeAt(K);H=Math.min(H,u.docView.posFromDOM(_.startContainer,_.startOffset,1)),J=Math.max(J,u.docView.posFromDOM(_.endContainer,_.endOffset,-1))}if(H<0)return null;[Y,V]=J==u.state.selection.anchor?[J,H]:[H,J],Z=Q.resolve(V)}else Y=u.docView.posFromDOM(z.anchorNode,z.anchorOffset,1);if(Y<0)return null}let L=Q.resolve(Y);if(!W){let H=l=="pointer"||u.state.selection.head<Z.pos&&!X?1:-1;W=wz(u,L,Z,H)}return W}function VZ(u){return u.editable?u.hasFocus():YZ(u)&&document.activeElement&&document.activeElement.contains(u.dom)}function p0(u,l=!1){let z=u.state.selection;if(ZZ(u,z),!VZ(u))return;if(!l&&u.input.mouseDown&&u.input.mouseDown.allowDefault&&Ou){let Q=u.domSelectionRange(),U=u.domObserver.currentSelection;if(Q.anchorNode&&U.anchorNode&&Ul(Q.anchorNode,Q.anchorOffset,U.anchorNode,U.anchorOffset)){u.input.mouseDown.delayedSelectionSync=!0,u.domObserver.setCurSelection();return}}if(u.domObserver.disconnectSelection(),u.cursorWrapper)zK(u);else{let{anchor:Q,head:U}=z,X,V;if(jV&&!(z instanceof D)){if(!z.$from.parent.inlineContent)X=yV(u,z.from);if(!z.empty&&!z.$from.parent.inlineContent)V=yV(u,z.to)}if(u.docView.setSelection(Q,U,u,l),jV){if(X)RV(X);if(V)RV(V)}if(z.visible)u.dom.classList.remove("ProseMirror-hideselection");else if(u.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document)lK(u)}u.domObserver.setCurSelection(),u.domObserver.connectSelection()}var jV=fu||Ou&&pV<63;function yV(u,l){let{node:z,offset:Q}=u.docView.domFromPos(l,0),U=Q<z.childNodes.length?z.childNodes[Q]:null,X=Q?z.childNodes[Q-1]:null;if(fu&&U&&U.contentEditable=="false")return Bz(U);if((!U||U.contentEditable=="false")&&(!X||X.contentEditable=="false")){if(U)return Bz(U);else if(X)return Bz(X)}}function Bz(u){if(u.contentEditable="true",fu&&u.draggable)u.draggable=!1,u.wasDraggable=!0;return u}function RV(u){if(u.contentEditable="false",u.wasDraggable)u.draggable=!0,u.wasDraggable=null}function lK(u){let l=u.dom.ownerDocument;l.removeEventListener("selectionchange",u.input.hideSelectionGuard);let z=u.domSelectionRange(),Q=z.anchorNode,U=z.anchorOffset;l.addEventListener("selectionchange",u.input.hideSelectionGuard=()=>{if(z.anchorNode!=Q||z.anchorOffset!=U)l.removeEventListener("selectionchange",u.input.hideSelectionGuard),setTimeout(()=>{if(!VZ(u)||u.state.selection.visible)u.dom.classList.remove("ProseMirror-hideselection")},20)})}function zK(u){let l=u.domSelection();if(!l)return;let z=u.cursorWrapper.dom,Q=z.nodeName=="IMG";if(Q)l.collapse(z.parentNode,Pu(z)+1);else l.collapse(z,0);if(!Q&&!u.state.selection.visible&&cu&&y1<=11)z.disabled=!0,z.disabled=!1}function ZZ(u,l){if(l instanceof T){let z=u.docView.descAt(l.from);if(z!=u.lastSelectedViewDesc){if(NV(u),z)z.selectNode();u.lastSelectedViewDesc=z}}else NV(u)}function NV(u){if(u.lastSelectedViewDesc){if(u.lastSelectedViewDesc.parent)u.lastSelectedViewDesc.deselectNode();u.lastSelectedViewDesc=void 0}}function wz(u,l,z,Q){return u.someProp("createSelectionBetween",(U)=>U(u,l,z))||D.between(l,z,Q)}function AV(u){if(u.editable&&!u.hasFocus())return!1;return YZ(u)}function YZ(u){let l=u.domSelectionRange();if(!l.anchorNode)return!1;try{return u.dom.contains(l.anchorNode.nodeType==3?l.anchorNode.parentNode:l.anchorNode)&&(u.editable||u.dom.contains(l.focusNode.nodeType==3?l.focusNode.parentNode:l.focusNode))}catch(z){return!1}}function QK(u){let l=u.docView.domFromPos(u.state.selection.anchor,0),z=u.domSelectionRange();return Ul(l.node,l.offset,z.anchorNode,z.anchorOffset)}function Tz(u,l){let{$anchor:z,$head:Q}=u.selection,U=l>0?z.max(Q):z.min(Q),X=!U.parent.inlineContent?U:U.depth?u.doc.resolve(l>0?U.after():U.before()):null;return X&&k.findFrom(X,l)}function I1(u,l){return u.dispatch(u.state.tr.setSelection(l).scrollIntoView()),!0}function OV(u,l,z){let Q=u.state.selection;if(Q instanceof D){if(z.indexOf("s")>-1){let{$head:U}=Q,X=U.textOffset?null:l<0?U.nodeBefore:U.nodeAfter;if(!X||X.isText||!X.isLeaf)return!1;let V=u.state.doc.resolve(U.pos+X.nodeSize*(l<0?-1:1));return I1(u,new D(Q.$anchor,V))}else if(!Q.empty)return!1;else if(u.endOfTextblock(l>0?"forward":"backward")){let U=Tz(u.state,l);if(U&&U instanceof T)return I1(u,U);return!1}else if(!(Q0&&z.indexOf("m")>-1)){let U=Q.$head,X=U.textOffset?null:l<0?U.nodeBefore:U.nodeAfter,V;if(!X||X.isText)return!1;let Z=l<0?U.pos-X.nodeSize:U.pos;if(!(X.isAtom||(V=u.docView.descAt(Z))&&!V.contentDOM))return!1;if(T.isSelectable(X))return I1(u,new T(l<0?u.state.doc.resolve(U.pos-X.nodeSize):U));else if(E3)return I1(u,new D(u.state.doc.resolve(l<0?Z:Z+X.nodeSize)));else return!1}}else if(Q instanceof T&&Q.node.isInline)return I1(u,new D(l>0?Q.$to:Q.$from));else{let U=Tz(u.state,l);if(U)return I1(u,U);return!1}}function W8(u){return u.nodeType==3?u.nodeValue.length:u.childNodes.length}function _3(u,l){let z=u.pmViewDesc;return z&&z.size==0&&(l<0||u.nextSibling||u.nodeName!="BR")}function sl(u,l){return l<0?UK(u):XK(u)}function UK(u){let l=u.domSelectionRange(),z=l.focusNode,Q=l.focusOffset;if(!z)return;let U,X,V=!1;if(X0&&z.nodeType==1&&Q<W8(z)&&_3(z.childNodes[Q],-1))V=!0;for(;;)if(Q>0)if(z.nodeType!=1)break;else{let Z=z.childNodes[Q-1];if(_3(Z,-1))U=z,X=--Q;else if(Z.nodeType==3)z=Z,Q=z.nodeValue.length;else break}else if(WZ(z))break;else{let Z=z.previousSibling;while(Z&&_3(Z,-1))U=z.parentNode,X=Pu(Z),Z=Z.previousSibling;if(!Z){if(z=z.parentNode,z==u.dom)break;Q=0}else z=Z,Q=W8(z)}if(V)Dz(u,z,Q);else if(U)Dz(u,U,X)}function XK(u){let l=u.domSelectionRange(),z=l.focusNode,Q=l.focusOffset;if(!z)return;let U=W8(z),X,V;for(;;)if(Q<U){if(z.nodeType!=1)break;let Z=z.childNodes[Q];if(_3(Z,1))X=z,V=++Q;else break}else if(WZ(z))break;else{let Z=z.nextSibling;while(Z&&_3(Z,1))X=Z.parentNode,V=Pu(Z)+1,Z=Z.nextSibling;if(!Z){if(z=z.parentNode,z==u.dom)break;Q=U=0}else z=Z,Q=0,U=W8(z)}if(X)Dz(u,X,V)}function WZ(u){let l=u.pmViewDesc;return l&&l.node&&l.node.isBlock}function VK(u,l){while(u&&l==u.childNodes.length&&!P3(u))l=Pu(u)+1,u=u.parentNode;while(u&&l<u.childNodes.length){let z=u.childNodes[l];if(z.nodeType==3)return z;if(z.nodeType==1&&z.contentEditable=="false")break;u=z,l=0}}function ZK(u,l){while(u&&!l&&!P3(u))l=Pu(u),u=u.parentNode;while(u&&l){let z=u.childNodes[l-1];if(z.nodeType==3)return z;if(z.nodeType==1&&z.contentEditable=="false")break;u=z,l=u.childNodes.length}}function Dz(u,l,z){if(l.nodeType!=3){let X,V;if(V=VK(l,z))l=V,z=0;else if(X=ZK(l,z))l=X,z=X.nodeValue.length}let Q=u.domSelection();if(!Q)return;if(_8(Q)){let X=document.createRange();X.setEnd(l,z),X.setStart(l,z),Q.removeAllRanges(),Q.addRange(X)}else if(Q.extend)Q.extend(l,z);u.domObserver.setCurSelection();let{state:U}=u;setTimeout(()=>{if(u.state==U)p0(u)},50)}function MV(u,l){let z=u.state.doc.resolve(l);if(!(Ou||S_)&&z.parent.inlineContent){let U=u.coordsAtPos(l);if(l>z.start()){let X=u.coordsAtPos(l-1),V=(X.top+X.bottom)/2;if(V>U.top&&V<U.bottom&&Math.abs(X.left-U.left)>1)return X.left<U.left?"ltr":"rtl"}if(l<z.end()){let X=u.coordsAtPos(l+1),V=(X.top+X.bottom)/2;if(V>U.top&&V<U.bottom&&Math.abs(X.left-U.left)>1)return X.left>U.left?"ltr":"rtl"}}return getComputedStyle(u.dom).direction=="rtl"?"rtl":"ltr"}function TV(u,l,z){let Q=u.state.selection;if(Q instanceof D&&!Q.empty||z.indexOf("s")>-1)return!1;if(Q0&&z.indexOf("m")>-1)return!1;let{$from:U,$to:X}=Q;if(!U.parent.inlineContent||u.endOfTextblock(l<0?"up":"down")){let V=Tz(u.state,l);if(V&&V instanceof T)return I1(u,V)}if(!U.parent.inlineContent){let V=l<0?U:X,Z=Q instanceof qu?k.near(V,l):k.findFrom(V,l);return Z?I1(u,Z):!1}return!1}function DV(u,l){if(!(u.state.selection instanceof D))return!0;let{$head:z,$anchor:Q,empty:U}=u.state.selection;if(!z.sameParent(Q))return!0;if(!U)return!1;if(u.endOfTextblock(l>0?"forward":"backward"))return!0;let X=!z.textOffset&&(l<0?z.nodeBefore:z.nodeAfter);if(X&&!X.isText){let V=u.state.tr;if(l<0)V.delete(z.pos-X.nodeSize,z.pos);else V.delete(z.pos,z.pos+X.nodeSize);return u.dispatch(V),!0}return!1}function SV(u,l,z){u.domObserver.stop(),l.contentEditable=z,u.domObserver.start()}function YK(u){if(!fu||u.state.selection.$head.parentOffset>0)return!1;let{focusNode:l,focusOffset:z}=u.domSelectionRange();if(l&&l.nodeType==1&&z==0&&l.firstChild&&l.firstChild.contentEditable=="false"){let Q=l.firstChild;SV(u,Q,"true"),setTimeout(()=>SV(u,Q,"false"),20)}return!1}function WK(u){let l="";if(u.ctrlKey)l+="c";if(u.metaKey)l+="m";if(u.altKey)l+="a";if(u.shiftKey)l+="s";return l}function LK(u,l){let z=l.keyCode,Q=WK(l);if(z==8||Q0&&z==72&&Q=="c")return DV(u,-1)||sl(u,-1);else if(z==46&&!l.shiftKey||Q0&&z==68&&Q=="c")return DV(u,1)||sl(u,1);else if(z==13||z==27)return!0;else if(z==37||Q0&&z==66&&Q=="c"){let U=z==37?MV(u,u.state.selection.from)=="ltr"?-1:1:-1;return OV(u,U,Q)||sl(u,U)}else if(z==39||Q0&&z==70&&Q=="c"){let U=z==39?MV(u,u.state.selection.from)=="ltr"?1:-1:1;return OV(u,U,Q)||sl(u,U)}else if(z==38||Q0&&z==80&&Q=="c")return TV(u,-1,Q)||sl(u,-1);else if(z==40||Q0&&z==78&&Q=="c")return YK(u)||TV(u,1,Q)||sl(u,1);else if(Q==(Q0?"m":"c")&&(z==66||z==73||z==89||z==90))return!0;return!1}function vz(u,l){u.someProp("transformCopied",(K)=>{l=K(l,u)});let z=[],{content:Q,openStart:U,openEnd:X}=l;while(U>1&&X>1&&Q.childCount==1&&Q.firstChild.childCount==1){U--,X--;let K=Q.firstChild;z.push(K.type.name,K.attrs!=K.type.defaultAttrs?K.attrs:null),Q=K.content}let V=u.someProp("clipboardSerializer")||N0.fromSchema(u.state.schema),Z=GZ(),Y=Z.createElement("div");Y.appendChild(V.serializeFragment(Q,{document:Z}));let W=Y.firstChild,L,H=0;while(W&&W.nodeType==1&&(L=KZ[W.nodeName.toLowerCase()])){for(let K=L.length-1;K>=0;K--){let _=Z.createElement(L[K]);while(Y.firstChild)_.appendChild(Y.firstChild);Y.appendChild(_),H++}W=Y.firstChild}if(W&&W.nodeType==1)W.setAttribute("data-pm-slice",`${U} ${X}${H?` -${H}`:""} ${JSON.stringify(z)}`);let J=u.someProp("clipboardTextSerializer",(K)=>K(l,u))||l.content.textBetween(0,l.content.size,`

`);return{dom:Y,text:J,slice:l}}function LZ(u,l,z,Q,U){let X=U.parent.type.spec.code,V,Z;if(!z&&!l)return null;let Y=!!l&&(Q||X||!z);if(Y){if(u.someProp("transformPastedText",(J)=>{l=J(l,X||Q,u)}),X)return Z=new N(I.from(u.state.schema.text(l.replace(/\r\n?/g,`
`))),0,0),u.someProp("transformPasted",(J)=>{Z=J(Z,u,!0)}),Z;let H=u.someProp("clipboardTextParser",(J)=>J(l,U,Q,u));if(H)Z=H;else{let J=U.marks(),{schema:K}=u.state,_=N0.fromSchema(K);V=document.createElement("div"),l.split(/(?:\r\n?|\n)+/).forEach((q)=>{let E=V.appendChild(document.createElement("p"));if(q)E.appendChild(_.serializeNode(K.text(q,J)))})}}else if(u.someProp("transformPastedHTML",(H)=>{z=H(z,u)}),V=KK(z),E3)GK(V);let W=V&&V.querySelector("[data-pm-slice]"),L=W&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(W.getAttribute("data-pm-slice")||"");if(L&&L[3])for(let H=+L[3];H>0;H--){let J=V.firstChild;while(J&&J.nodeType!=1)J=J.nextSibling;if(!J)break;V=J}if(!Z)Z=(u.someProp("clipboardParser")||u.someProp("domParser")||q0.fromSchema(u.state.schema)).parseSlice(V,{preserveWhitespace:!!(Y||L),context:U,ruleFromNode(J){if(J.nodeName=="BR"&&!J.nextSibling&&J.parentNode&&!HK.test(J.parentNode.nodeName))return{ignore:!0};return null}});if(L)Z=qK(kV(Z,+L[1],+L[2]),L[4]);else if(Z=N.maxOpen(JK(Z.content,U),!0),Z.openStart||Z.openEnd){let H=0,J=0;for(let K=Z.content.firstChild;H<Z.openStart&&!K.type.spec.isolating;H++,K=K.firstChild);for(let K=Z.content.lastChild;J<Z.openEnd&&!K.type.spec.isolating;J++,K=K.lastChild);Z=kV(Z,H,J)}return u.someProp("transformPasted",(H)=>{Z=H(Z,u,Y)}),Z}var HK=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function JK(u,l){if(u.childCount<2)return u;for(let z=l.depth;z>=0;z--){let U=l.node(z).contentMatchAt(l.index(z)),X,V=[];if(u.forEach((Z)=>{if(!V)return;let Y=U.findWrapping(Z.type),W;if(!Y)return V=null;if(W=V.length&&X.length&&JZ(Y,X,Z,V[V.length-1],0))V[V.length-1]=W;else{if(V.length)V[V.length-1]=_Z(V[V.length-1],X.length);let L=HZ(Z,Y);V.push(L),U=U.matchType(L.type),X=Y}}),V)return I.from(V)}return u}function HZ(u,l,z=0){for(let Q=l.length-1;Q>=z;Q--)u=l[Q].create(null,I.from(u));return u}function JZ(u,l,z,Q,U){if(U<u.length&&U<l.length&&u[U]==l[U]){let X=JZ(u,l,z,Q.lastChild,U+1);if(X)return Q.copy(Q.content.replaceChild(Q.childCount-1,X));if(Q.contentMatchAt(Q.childCount).matchType(U==u.length-1?z.type:u[U+1]))return Q.copy(Q.content.append(I.from(HZ(z,u,U+1))))}}function _Z(u,l){if(l==0)return u;let z=u.content.replaceChild(u.childCount-1,_Z(u.lastChild,l-1)),Q=u.contentMatchAt(u.childCount).fillBefore(I.empty,!0);return u.copy(z.append(Q))}function Sz(u,l,z,Q,U,X){let V=l<0?u.firstChild:u.lastChild,Z=V.content;if(u.childCount>1)X=0;if(U<Q-1)Z=Sz(Z,l,z,Q,U+1,X);if(U>=z)Z=l<0?V.contentMatchAt(0).fillBefore(Z,X<=U).append(Z):Z.append(V.contentMatchAt(V.childCount).fillBefore(I.empty,!0));return u.replaceChild(l<0?0:u.childCount-1,V.copy(Z))}function kV(u,l,z){if(l<u.openStart)u=new N(Sz(u.content,-1,l,u.openStart,0,u.openEnd),l,u.openEnd);if(z<u.openEnd)u=new N(Sz(u.content,1,z,u.openEnd,0,0),u.openStart,z);return u}var KZ={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},fV=null;function GZ(){return fV||(fV=document.implementation.createHTMLDocument("title"))}var Iz=null;function _K(u){let l=window.trustedTypes;if(!l)return u;if(!Iz)Iz=l.defaultPolicy||l.createPolicy("ProseMirrorClipboard",{createHTML:(z)=>z});return Iz.createHTML(u)}function KK(u){let l=/^(\s*<meta [^>]*>)*/.exec(u);if(l)u=u.slice(l[0].length);let z=GZ().createElement("div"),Q=/<([a-z][^>\s]+)/i.exec(u),U;if(U=Q&&KZ[Q[1].toLowerCase()])u=U.map((X)=>"<"+X+">").join("")+u+U.map((X)=>"</"+X+">").reverse().join("");if(z.innerHTML=_K(u),U)for(let X=0;X<U.length;X++)z=z.querySelector(U[X])||z;return z}function GK(u){let l=u.querySelectorAll(Ou?"span:not([class]):not([style])":"span.Apple-converted-space");for(let z=0;z<l.length;z++){let Q=l[z];if(Q.childNodes.length==1&&Q.textContent==""&&Q.parentNode)Q.parentNode.replaceChild(u.ownerDocument.createTextNode(" "),Q)}}function qK(u,l){if(!u.size)return u;let z=u.content.firstChild.type.schema,Q;try{Q=JSON.parse(l)}catch(Z){return u}let{content:U,openStart:X,openEnd:V}=u;for(let Z=Q.length-2;Z>=0;Z-=2){let Y=z.nodes[Q[Z]];if(!Y||Y.hasRequiredAttrs())break;U=I.from(Y.create(Q[Z+1],U)),X++,V++}return new N(U,X,V)}var $u={},xu={},PK={touchstart:!0,touchmove:!0};class qZ{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-200000000,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function EK(u){for(let l in $u){let z=$u[l];u.dom.addEventListener(l,u.input.eventHandlers[l]=(Q)=>{if(BK(u,Q)&&!hz(u,Q)&&(u.editable||!(Q.type in xu)))z(u,Q)},PK[l]?{passive:!0}:void 0)}if(fu)u.dom.addEventListener("input",()=>null);kz(u)}function j1(u,l){u.input.lastSelectionOrigin=l,u.input.lastSelectionTime=Date.now()}function CK(u){u.domObserver.stop();for(let l in u.input.eventHandlers)u.dom.removeEventListener(l,u.input.eventHandlers[l]);clearTimeout(u.input.composingTimeout),clearTimeout(u.input.lastIOSEnterFallbackTimeout)}function kz(u){u.someProp("handleDOMEvents",(l)=>{for(let z in l)if(!u.input.eventHandlers[z])u.dom.addEventListener(z,u.input.eventHandlers[z]=(Q)=>hz(u,Q))})}function hz(u,l){return u.someProp("handleDOMEvents",(z)=>{let Q=z[l.type];return Q?Q(u,l)||l.defaultPrevented:!1})}function BK(u,l){if(!l.bubbles)return!0;if(l.defaultPrevented)return!1;for(let z=l.target;z!=u.dom;z=z.parentNode)if(!z||z.nodeType==11||z.pmViewDesc&&z.pmViewDesc.stopEvent(l))return!1;return!0}function IK(u,l){if(!hz(u,l)&&$u[l.type]&&(u.editable||!(l.type in xu)))$u[l.type](u,l)}xu.keydown=(u,l)=>{let z=l;if(u.input.shiftKey=z.keyCode==16||z.shiftKey,CZ(u,z))return;if(u.input.lastKeyCode=z.keyCode,u.input.lastKeyCodeTime=Date.now(),r0&&Ou&&z.keyCode==13)return;if(z.keyCode!=229)u.domObserver.forceFlush();if(u2&&z.keyCode==13&&!z.ctrlKey&&!z.altKey&&!z.metaKey){let Q=Date.now();u.input.lastIOSEnter=Q,u.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{if(u.input.lastIOSEnter==Q)u.someProp("handleKeyDown",(U)=>U(u,e1(13,"Enter"))),u.input.lastIOSEnter=0},200)}else if(u.someProp("handleKeyDown",(Q)=>Q(u,z))||LK(u,z))z.preventDefault();else j1(u,"key")};xu.keyup=(u,l)=>{if(l.keyCode==16)u.input.shiftKey=!1};xu.keypress=(u,l)=>{let z=l;if(CZ(u,z)||!z.charCode||z.ctrlKey&&!z.altKey||Q0&&z.metaKey)return;if(u.someProp("handleKeyPress",(U)=>U(u,z))){z.preventDefault();return}let Q=u.state.selection;if(!(Q instanceof D)||!Q.$from.sameParent(Q.$to)){let U=String.fromCharCode(z.charCode),X=()=>u.state.tr.insertText(U).scrollIntoView();if(!/[\r\n]/.test(U)&&!u.someProp("handleTextInput",(V)=>V(u,Q.$from.pos,Q.$to.pos,U,X)))u.dispatch(X());z.preventDefault()}};function G8(u){return{left:u.clientX,top:u.clientY}}function FK(u,l){let z=l.x-u.clientX,Q=l.y-u.clientY;return z*z+Q*Q<100}function bz(u,l,z,Q,U){if(Q==-1)return!1;let X=u.state.doc.resolve(Q);for(let V=X.depth+1;V>0;V--)if(u.someProp(l,(Z)=>V>X.depth?Z(u,z,X.nodeAfter,X.before(V),U,!0):Z(u,z,X.node(V),X.before(V),U,!1)))return!0;return!1}function tl(u,l,z){if(!u.focused)u.focus();if(u.state.selection.eq(l))return;let Q=u.state.tr.setSelection(l);if(z=="pointer")Q.setMeta("pointer",!0);u.dispatch(Q)}function jK(u,l){if(l==-1)return!1;let z=u.state.doc.resolve(l),Q=z.nodeAfter;if(Q&&Q.isAtom&&T.isSelectable(Q))return tl(u,new T(z),"pointer"),!0;return!1}function yK(u,l){if(l==-1)return!1;let z=u.state.selection,Q,U;if(z instanceof T)Q=z.node;let X=u.state.doc.resolve(l);for(let V=X.depth+1;V>0;V--){let Z=V>X.depth?X.nodeAfter:X.node(V);if(T.isSelectable(Z)){if(Q&&z.$from.depth>0&&V>=z.$from.depth&&X.before(z.$from.depth+1)==z.$from.pos)U=X.before(z.$from.depth);else U=X.before(V);break}}if(U!=null)return tl(u,T.create(u.state.doc,U),"pointer"),!0;else return!1}function RK(u,l,z,Q,U){return bz(u,"handleClickOn",l,z,Q)||u.someProp("handleClick",(X)=>X(u,l,Q))||(U?yK(u,z):jK(u,z))}function NK(u,l,z,Q){return bz(u,"handleDoubleClickOn",l,z,Q)||u.someProp("handleDoubleClick",(U)=>U(u,l,Q))}function AK(u,l,z,Q){return bz(u,"handleTripleClickOn",l,z,Q)||u.someProp("handleTripleClick",(U)=>U(u,l,Q))||OK(u,z,Q)}function OK(u,l,z){if(z.button!=0)return!1;let Q=u.state.doc;if(l==-1){if(Q.inlineContent)return tl(u,D.create(Q,0,Q.content.size),"pointer"),!0;return!1}let U=Q.resolve(l);for(let X=U.depth+1;X>0;X--){let V=X>U.depth?U.nodeAfter:U.node(X),Z=U.before(X);if(V.inlineContent)tl(u,D.create(Q,Z+1,Z+1+V.content.size),"pointer");else if(T.isSelectable(V))tl(u,T.create(Q,Z),"pointer");else continue;return!0}}function cz(u){return L8(u)}var PZ=Q0?"metaKey":"ctrlKey";$u.mousedown=(u,l)=>{let z=l;u.input.shiftKey=z.shiftKey;let Q=cz(u),U=Date.now(),X="singleClick";if(U-u.input.lastClick.time<500&&FK(z,u.input.lastClick)&&!z[PZ]&&u.input.lastClick.button==z.button){if(u.input.lastClick.type=="singleClick")X="doubleClick";else if(u.input.lastClick.type=="doubleClick")X="tripleClick"}u.input.lastClick={time:U,x:z.clientX,y:z.clientY,type:X,button:z.button};let V=u.posAtCoords(G8(z));if(!V)return;if(X=="singleClick"){if(u.input.mouseDown)u.input.mouseDown.done();u.input.mouseDown=new EZ(u,V,z,!!Q)}else if((X=="doubleClick"?NK:AK)(u,V.pos,V.inside,z))z.preventDefault();else j1(u,"pointer")};class EZ{constructor(u,l,z,Q){this.view=u,this.pos=l,this.event=z,this.flushed=Q,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=u.state.doc,this.selectNode=!!z[PZ],this.allowDefault=z.shiftKey;let U,X;if(l.inside>-1)U=u.state.doc.nodeAt(l.inside),X=l.inside;else{let W=u.state.doc.resolve(l.pos);U=W.parent,X=W.depth?W.before():0}let V=Q?null:z.target,Z=V?u.docView.nearestDesc(V,!0):null;this.target=Z&&Z.dom.nodeType==1?Z.dom:null;let{selection:Y}=u.state;if(z.button==0&&U.type.spec.draggable&&U.type.spec.selectable!==!1||Y instanceof T&&Y.from<=X&&Y.to>X)this.mightDrag={node:U,pos:X,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&X0&&!this.target.hasAttribute("contentEditable"))};if(this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)){if(this.view.domObserver.stop(),this.mightDrag.addAttr)this.target.draggable=!0;if(this.mightDrag.setUneditable)setTimeout(()=>{if(this.view.input.mouseDown==this)this.target.setAttribute("contentEditable","false")},20);this.view.domObserver.start()}u.root.addEventListener("mouseup",this.up=this.up.bind(this)),u.root.addEventListener("mousemove",this.move=this.move.bind(this)),j1(u,"pointer")}done(){if(this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target){if(this.view.domObserver.stop(),this.mightDrag.addAttr)this.target.removeAttribute("draggable");if(this.mightDrag.setUneditable)this.target.removeAttribute("contentEditable");this.view.domObserver.start()}if(this.delayedSelectionSync)setTimeout(()=>p0(this.view));this.view.input.mouseDown=null}up(u){if(this.done(),!this.view.dom.contains(u.target))return;let l=this.pos;if(this.view.state.doc!=this.startDoc)l=this.view.posAtCoords(G8(u));if(this.updateAllowDefault(u),this.allowDefault||!l)j1(this.view,"pointer");else if(RK(this.view,l.pos,l.inside,u,this.selectNode))u.preventDefault();else if(u.button==0&&(this.flushed||fu&&this.mightDrag&&!this.mightDrag.node.isAtom||Ou&&!this.view.state.selection.visible&&Math.min(Math.abs(l.pos-this.view.state.selection.from),Math.abs(l.pos-this.view.state.selection.to))<=2))tl(this.view,k.near(this.view.state.doc.resolve(l.pos)),"pointer"),u.preventDefault();else j1(this.view,"pointer")}move(u){if(this.updateAllowDefault(u),j1(this.view,"pointer"),u.buttons==0)this.done()}updateAllowDefault(u){if(!this.allowDefault&&(Math.abs(this.event.x-u.clientX)>4||Math.abs(this.event.y-u.clientY)>4))this.allowDefault=!0}}$u.touchstart=(u)=>{u.input.lastTouch=Date.now(),cz(u),j1(u,"pointer")};$u.touchmove=(u)=>{u.input.lastTouch=Date.now(),j1(u,"pointer")};$u.contextmenu=(u)=>cz(u);function CZ(u,l){if(u.composing)return!0;if(fu&&Math.abs(l.timeStamp-u.input.compositionEndedAt)<500)return u.input.compositionEndedAt=-200000000,!0;return!1}var MK=r0?5000:-1;xu.compositionstart=xu.compositionupdate=(u)=>{if(!u.composing){u.domObserver.flush();let{state:l}=u,z=l.selection.$to;if(l.selection instanceof D&&(l.storedMarks||!z.textOffset&&z.parentOffset&&z.nodeBefore.marks.some((Q)=>Q.type.spec.inclusive===!1)))u.markCursor=u.state.storedMarks||z.marks(),L8(u,!0),u.markCursor=null;else if(L8(u,!l.selection.empty),X0&&l.selection.empty&&z.parentOffset&&!z.textOffset&&z.nodeBefore.marks.length){let Q=u.domSelectionRange();for(let{focusNode:U,focusOffset:X}=Q;U&&U.nodeType==1&&X!=0;){let V=X<0?U.lastChild:U.childNodes[X-1];if(!V)break;if(V.nodeType==3){let Z=u.domSelection();if(Z)Z.collapse(V,V.nodeValue.length);break}else U=V,X=-1}}u.input.composing=!0}BZ(u,MK)};xu.compositionend=(u,l)=>{if(u.composing){if(u.input.composing=!1,u.input.compositionEndedAt=l.timeStamp,u.input.compositionPendingChanges=u.domObserver.pendingRecords().length?u.input.compositionID:0,u.input.compositionNode=null,u.input.compositionPendingChanges)Promise.resolve().then(()=>u.domObserver.flush());u.input.compositionID++,BZ(u,20)}};function BZ(u,l){if(clearTimeout(u.input.composingTimeout),l>-1)u.input.composingTimeout=setTimeout(()=>L8(u),l)}function IZ(u){if(u.composing)u.input.composing=!1,u.input.compositionEndedAt=DK();while(u.input.compositionNodes.length>0)u.input.compositionNodes.pop().markParentsDirty()}function TK(u){let l=u.domSelectionRange();if(!l.focusNode)return null;let z=A_(l.focusNode,l.focusOffset),Q=O_(l.focusNode,l.focusOffset);if(z&&Q&&z!=Q){let U=Q.pmViewDesc,X=u.domObserver.lastChangedTextNode;if(z==X||Q==X)return X;if(!U||!U.isText(Q.nodeValue))return Q;else if(u.input.compositionNode==Q){let V=z.pmViewDesc;if(!(!V||!V.isText(z.nodeValue)))return Q}}return z||Q}function DK(){let u=document.createEvent("Event");return u.initEvent("event",!0,!0),u.timeStamp}function L8(u,l=!1){if(r0&&u.domObserver.flushingSoon>=0)return;if(u.domObserver.forceFlush(),IZ(u),l||u.docView&&u.docView.dirty){let z=gz(u),Q=u.state.selection;if(z&&!z.eq(Q))u.dispatch(u.state.tr.setSelection(z));else if((u.markCursor||l)&&!Q.$from.node(Q.$from.sharedDepth(Q.to)).inlineContent)u.dispatch(u.state.tr.deleteSelection());else u.updateState(u.state);return!0}return!1}function SK(u,l){if(!u.dom.parentNode)return;let z=u.dom.parentNode.appendChild(document.createElement("div"));z.appendChild(l),z.style.cssText="position: fixed; left: -10000px; top: 10px";let Q=getSelection(),U=document.createRange();U.selectNodeContents(l),u.dom.blur(),Q.removeAllRanges(),Q.addRange(U),setTimeout(()=>{if(z.parentNode)z.parentNode.removeChild(z);u.focus()},50)}var K3=cu&&y1<15||u2&&k_<604;$u.copy=xu.cut=(u,l)=>{let z=l,Q=u.state.selection,U=z.type=="cut";if(Q.empty)return;let X=K3?null:z.clipboardData,V=Q.content(),{dom:Z,text:Y}=vz(u,V);if(X)z.preventDefault(),X.clearData(),X.setData("text/html",Z.innerHTML),X.setData("text/plain",Y);else SK(u,Z);if(U)u.dispatch(u.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function kK(u){return u.openStart==0&&u.openEnd==0&&u.content.childCount==1?u.content.firstChild:null}function fK(u,l){if(!u.dom.parentNode)return;let z=u.input.shiftKey||u.state.selection.$from.parent.type.spec.code,Q=u.dom.parentNode.appendChild(document.createElement(z?"textarea":"div"));if(!z)Q.contentEditable="true";Q.style.cssText="position: fixed; left: -10000px; top: 10px",Q.focus();let U=u.input.shiftKey&&u.input.lastKeyCode!=45;setTimeout(()=>{if(u.focus(),Q.parentNode)Q.parentNode.removeChild(Q);if(z)G3(u,Q.value,null,U,l);else G3(u,Q.textContent,Q.innerHTML,U,l)},50)}function G3(u,l,z,Q,U){let X=LZ(u,l,z,Q,u.state.selection.$from);if(u.someProp("handlePaste",(Y)=>Y(u,U,X||N.empty)))return!0;if(!X)return!1;let V=kK(X),Z=V?u.state.tr.replaceSelectionWith(V,Q):u.state.tr.replaceSelection(X);return u.dispatch(Z.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function FZ(u){let l=u.getData("text/plain")||u.getData("Text");if(l)return l;let z=u.getData("text/uri-list");return z?z.replace(/\r?\n/g," "):""}xu.paste=(u,l)=>{let z=l;if(u.composing&&!r0)return;let Q=K3?null:z.clipboardData,U=u.input.shiftKey&&u.input.lastKeyCode!=45;if(Q&&G3(u,FZ(Q),Q.getData("text/html"),U,z))z.preventDefault();else fK(u,z)};class mz{constructor(u,l,z){this.slice=u,this.move=l,this.node=z}}var $K=Q0?"altKey":"ctrlKey";function jZ(u,l){let z=u.someProp("dragCopies",(Q)=>!Q(l));return z!=null?z:!l[$K]}$u.dragstart=(u,l)=>{let z=l,Q=u.input.mouseDown;if(Q)Q.done();if(!z.dataTransfer)return;let U=u.state.selection,X=U.empty?null:u.posAtCoords(G8(z)),V;if(X&&X.pos>=U.from&&X.pos<=(U instanceof T?U.to-1:U.to));else if(Q&&Q.mightDrag)V=T.create(u.state.doc,Q.mightDrag.pos);else if(z.target&&z.target.nodeType==1){let H=u.docView.nearestDesc(z.target,!0);if(H&&H.node.type.spec.draggable&&H!=u.docView)V=T.create(u.state.doc,H.posBefore)}let Z=(V||u.state.selection).content(),{dom:Y,text:W,slice:L}=vz(u,Z);if(!z.dataTransfer.files.length||!Ou||pV>120)z.dataTransfer.clearData();if(z.dataTransfer.setData(K3?"Text":"text/html",Y.innerHTML),z.dataTransfer.effectAllowed="copyMove",!K3)z.dataTransfer.setData("text/plain",W);u.dragging=new mz(L,jZ(u,z),V)};$u.dragend=(u)=>{let l=u.dragging;window.setTimeout(()=>{if(u.dragging==l)u.dragging=null},50)};xu.dragover=xu.dragenter=(u,l)=>l.preventDefault();xu.drop=(u,l)=>{let z=l,Q=u.dragging;if(u.dragging=null,!z.dataTransfer)return;let U=u.posAtCoords(G8(z));if(!U)return;let X=u.state.doc.resolve(U.pos),V=Q&&Q.slice;if(V)u.someProp("transformPasted",(_)=>{V=_(V,u,!1)});else V=LZ(u,FZ(z.dataTransfer),K3?null:z.dataTransfer.getData("text/html"),!1,X);let Z=!!(Q&&jZ(u,z));if(u.someProp("handleDrop",(_)=>_(u,z,V||N.empty,Z))){z.preventDefault();return}if(!V)return;z.preventDefault();let Y=V?Q8(u.state.doc,X.pos,V):X.pos;if(Y==null)Y=X.pos;let W=u.state.tr;if(Z){let{node:_}=Q;if(_)_.replace(W);else W.deleteSelection()}let L=W.mapping.map(Y),H=V.openStart==0&&V.openEnd==0&&V.content.childCount==1,J=W.doc;if(H)W.replaceRangeWith(L,L,V.content.firstChild);else W.replaceRange(L,L,V);if(W.doc.eq(J))return;let K=W.doc.resolve(L);if(H&&T.isSelectable(V.content.firstChild)&&K.nodeAfter&&K.nodeAfter.sameMarkup(V.content.firstChild))W.setSelection(new T(K));else{let _=W.mapping.map(Y);W.mapping.maps[W.mapping.maps.length-1].forEach((q,E,G,P)=>_=P),W.setSelection(wz(u,K,W.doc.resolve(_)))}u.focus(),u.dispatch(W.setMeta("uiEvent","drop"))};$u.focus=(u)=>{if(u.input.lastFocus=Date.now(),!u.focused)u.domObserver.stop(),u.dom.classList.add("ProseMirror-focused"),u.domObserver.start(),u.focused=!0,setTimeout(()=>{if(u.docView&&u.hasFocus()&&!u.domObserver.currentSelection.eq(u.domSelectionRange()))p0(u)},20)};$u.blur=(u,l)=>{let z=l;if(u.focused){if(u.domObserver.stop(),u.dom.classList.remove("ProseMirror-focused"),u.domObserver.start(),z.relatedTarget&&u.dom.contains(z.relatedTarget))u.domObserver.currentSelection.clear();u.focused=!1}};$u.beforeinput=(u,l)=>{if(Ou&&r0&&l.inputType=="deleteContentBackward"){u.domObserver.flushSoon();let{domChangeCount:Q}=u.input;setTimeout(()=>{if(u.input.domChangeCount!=Q)return;if(u.dom.blur(),u.focus(),u.someProp("handleKeyDown",(X)=>X(u,e1(8,"Backspace"))))return;let{$cursor:U}=u.state.selection;if(U&&U.pos>0)u.dispatch(u.state.tr.delete(U.pos-1,U.pos).scrollIntoView())},50)}};for(let u in xu)$u[u]=xu[u];function q3(u,l){if(u==l)return!0;for(let z in u)if(u[z]!==l[z])return!1;for(let z in l)if(!(z in u))return!1;return!0}class H8{constructor(u,l){this.toDOM=u,this.spec=l||zl,this.side=this.spec.side||0}map(u,l,z,Q){let{pos:U,deleted:X}=u.mapResult(l.from+Q,this.side<0?-1:1);return X?null:new ku(U-z,U-z,this)}valid(){return!0}eq(u){return this==u||u instanceof H8&&(this.spec.key&&this.spec.key==u.spec.key||this.toDOM==u.toDOM&&q3(this.spec,u.spec))}destroy(u){if(this.spec.destroy)this.spec.destroy(u)}}class N1{constructor(u,l){this.attrs=u,this.spec=l||zl}map(u,l,z,Q){let U=u.map(l.from+Q,this.spec.inclusiveStart?-1:1)-z,X=u.map(l.to+Q,this.spec.inclusiveEnd?1:-1)-z;return U>=X?null:new ku(U,X,this)}valid(u,l){return l.from<l.to}eq(u){return this==u||u instanceof N1&&q3(this.attrs,u.attrs)&&q3(this.spec,u.spec)}static is(u){return u.type instanceof N1}destroy(){}}class nz{constructor(u,l){this.attrs=u,this.spec=l||zl}map(u,l,z,Q){let U=u.mapResult(l.from+Q,1);if(U.deleted)return null;let X=u.mapResult(l.to+Q,-1);if(X.deleted||X.pos<=U.pos)return null;return new ku(U.pos-z,X.pos-z,this)}valid(u,l){let{index:z,offset:Q}=u.content.findIndex(l.from),U;return Q==l.from&&!(U=u.child(z)).isText&&Q+U.nodeSize==l.to}eq(u){return this==u||u instanceof nz&&q3(this.attrs,u.attrs)&&q3(this.spec,u.spec)}destroy(){}}class ku{constructor(u,l,z){this.from=u,this.to=l,this.type=z}copy(u,l){return new ku(u,l,this.type)}eq(u,l=0){return this.type.eq(u.type)&&this.from+l==u.from&&this.to+l==u.to}map(u,l,z){return this.type.map(u,this,l,z)}static widget(u,l,z){return new ku(u,u,new H8(l,z))}static inline(u,l,z,Q){return new ku(u,l,new N1(z,Q))}static node(u,l,z,Q){return new ku(u,l,new nz(z,Q))}get spec(){return this.type.spec}get inline(){return this.type instanceof N1}get widget(){return this.type instanceof H8}}var ol=[],zl={};class uu{constructor(u,l){this.local=u.length?u:ol,this.children=l.length?l:ol}static create(u,l){return l.length?J8(l,u,0,zl):Au}find(u,l,z){let Q=[];return this.findInner(u==null?0:u,l==null?1e9:l,Q,0,z),Q}findInner(u,l,z,Q,U){for(let X=0;X<this.local.length;X++){let V=this.local[X];if(V.from<=l&&V.to>=u&&(!U||U(V.spec)))z.push(V.copy(V.from+Q,V.to+Q))}for(let X=0;X<this.children.length;X+=3)if(this.children[X]<l&&this.children[X+1]>u){let V=this.children[X]+1;this.children[X+2].findInner(u-V,l-V,z,Q+V,U)}}map(u,l,z){if(this==Au||u.maps.length==0)return this;return this.mapInner(u,l,0,0,z||zl)}mapInner(u,l,z,Q,U){let X;for(let V=0;V<this.local.length;V++){let Z=this.local[V].map(u,z,Q);if(Z&&Z.type.valid(l,Z))(X||(X=[])).push(Z);else if(U.onRemove)U.onRemove(this.local[V].spec)}if(this.children.length)return xK(this.children,X||[],u,l,z,Q,U);else return X?new uu(X.sort(Ql),ol):Au}add(u,l){if(!l.length)return this;if(this==Au)return uu.create(u,l);return this.addInner(u,l,0)}addInner(u,l,z){let Q,U=0;u.forEach((V,Z)=>{let Y=Z+z,W;if(!(W=RZ(l,V,Y)))return;if(!Q)Q=this.children.slice();while(U<Q.length&&Q[U]<Z)U+=3;if(Q[U]==Z)Q[U+2]=Q[U+2].addInner(V,W,Y+1);else Q.splice(U,0,Z,Z+V.nodeSize,J8(W,V,Y+1,zl));U+=3});let X=yZ(U?NZ(l):l,-z);for(let V=0;V<X.length;V++)if(!X[V].type.valid(u,X[V]))X.splice(V--,1);return new uu(X.length?this.local.concat(X).sort(Ql):this.local,Q||this.children)}remove(u){if(u.length==0||this==Au)return this;return this.removeInner(u,0)}removeInner(u,l){let z=this.children,Q=this.local;for(let U=0;U<z.length;U+=3){let X,V=z[U]+l,Z=z[U+1]+l;for(let W=0,L;W<u.length;W++)if(L=u[W]){if(L.from>V&&L.to<Z)u[W]=null,(X||(X=[])).push(L)}if(!X)continue;if(z==this.children)z=this.children.slice();let Y=z[U+2].removeInner(X,V+1);if(Y!=Au)z[U+2]=Y;else z.splice(U,3),U-=3}if(Q.length){for(let U=0,X;U<u.length;U++)if(X=u[U]){for(let V=0;V<Q.length;V++)if(Q[V].eq(X,l)){if(Q==this.local)Q=this.local.slice();Q.splice(V--,1)}}}if(z==this.children&&Q==this.local)return this;return Q.length||z.length?new uu(Q,z):Au}forChild(u,l){if(this==Au)return this;if(l.isLeaf)return uu.empty;let z,Q;for(let V=0;V<this.children.length;V+=3)if(this.children[V]>=u){if(this.children[V]==u)z=this.children[V+2];break}let U=u+1,X=U+l.content.size;for(let V=0;V<this.local.length;V++){let Z=this.local[V];if(Z.from<X&&Z.to>U&&Z.type instanceof N1){let Y=Math.max(U,Z.from)-U,W=Math.min(X,Z.to)-U;if(Y<W)(Q||(Q=[])).push(Z.copy(Y,W))}}if(Q){let V=new uu(Q.sort(Ql),ol);return z?new F1([V,z]):V}return z||Au}eq(u){if(this==u)return!0;if(!(u instanceof uu)||this.local.length!=u.local.length||this.children.length!=u.children.length)return!1;for(let l=0;l<this.local.length;l++)if(!this.local[l].eq(u.local[l]))return!1;for(let l=0;l<this.children.length;l+=3)if(this.children[l]!=u.children[l]||this.children[l+1]!=u.children[l+1]||!this.children[l+2].eq(u.children[l+2]))return!1;return!0}locals(u){return iz(this.localsInner(u))}localsInner(u){if(this==Au)return ol;if(u.inlineContent||!this.local.some(N1.is))return this.local;let l=[];for(let z=0;z<this.local.length;z++)if(!(this.local[z].type instanceof N1))l.push(this.local[z]);return l}forEachSet(u){u(this)}}uu.empty=new uu([],[]);uu.removeOverlap=iz;var Au=uu.empty;class F1{constructor(u){this.members=u}map(u,l){let z=this.members.map((Q)=>Q.map(u,l,zl));return F1.from(z)}forChild(u,l){if(l.isLeaf)return uu.empty;let z=[];for(let Q=0;Q<this.members.length;Q++){let U=this.members[Q].forChild(u,l);if(U==Au)continue;if(U instanceof F1)z=z.concat(U.members);else z.push(U)}return F1.from(z)}eq(u){if(!(u instanceof F1)||u.members.length!=this.members.length)return!1;for(let l=0;l<this.members.length;l++)if(!this.members[l].eq(u.members[l]))return!1;return!0}locals(u){let l,z=!0;for(let Q=0;Q<this.members.length;Q++){let U=this.members[Q].localsInner(u);if(!U.length)continue;if(!l)l=U;else{if(z)l=l.slice(),z=!1;for(let X=0;X<U.length;X++)l.push(U[X])}}return l?iz(z?l:l.sort(Ql)):ol}static from(u){switch(u.length){case 0:return Au;case 1:return u[0];default:return new F1(u.every((l)=>l instanceof uu)?u:u.reduce((l,z)=>l.concat(z instanceof uu?z:z.members),[]))}}forEachSet(u){for(let l=0;l<this.members.length;l++)this.members[l].forEachSet(u)}}function xK(u,l,z,Q,U,X,V){let Z=u.slice();for(let W=0,L=X;W<z.maps.length;W++){let H=0;z.maps[W].forEach((J,K,_,q)=>{let E=q-_-(K-J);for(let G=0;G<Z.length;G+=3){let P=Z[G+1];if(P<0||J>P+L-H)continue;let C=Z[G]+L-H;if(K>=C)Z[G+1]=J<=C?-2:-1;else if(J>=L&&E)Z[G]+=E,Z[G+1]+=E}H+=E}),L=z.maps[W].map(L,-1)}let Y=!1;for(let W=0;W<Z.length;W+=3)if(Z[W+1]<0){if(Z[W+1]==-2){Y=!0,Z[W+1]=-1;continue}let L=z.map(u[W]+X),H=L-U;if(H<0||H>=Q.content.size){Y=!0;continue}let J=z.map(u[W+1]+X,-1),K=J-U,{index:_,offset:q}=Q.content.findIndex(H),E=Q.maybeChild(_);if(E&&q==H&&q+E.nodeSize==K){let G=Z[W+2].mapInner(z,E,L+1,u[W]+X+1,V);if(G!=Au)Z[W]=H,Z[W+1]=K,Z[W+2]=G;else Z[W+1]=-2,Y=!0}else Y=!0}if(Y){let W=gK(Z,u,l,z,U,X,V),L=J8(W,Q,0,V);l=L.local;for(let H=0;H<Z.length;H+=3)if(Z[H+1]<0)Z.splice(H,3),H-=3;for(let H=0,J=0;H<L.children.length;H+=3){let K=L.children[H];while(J<Z.length&&Z[J]<K)J+=3;Z.splice(J,0,L.children[H],L.children[H+1],L.children[H+2])}}return new uu(l.sort(Ql),Z)}function yZ(u,l){if(!l||!u.length)return u;let z=[];for(let Q=0;Q<u.length;Q++){let U=u[Q];z.push(new ku(U.from+l,U.to+l,U.type))}return z}function gK(u,l,z,Q,U,X,V){function Z(Y,W){for(let L=0;L<Y.local.length;L++){let H=Y.local[L].map(Q,U,W);if(H)z.push(H);else if(V.onRemove)V.onRemove(Y.local[L].spec)}for(let L=0;L<Y.children.length;L+=3)Z(Y.children[L+2],Y.children[L]+W+1)}for(let Y=0;Y<u.length;Y+=3)if(u[Y+1]==-1)Z(u[Y+2],l[Y]+X+1);return z}function RZ(u,l,z){if(l.isLeaf)return null;let Q=z+l.nodeSize,U=null;for(let X=0,V;X<u.length;X++)if((V=u[X])&&V.from>z&&V.to<Q)(U||(U=[])).push(V),u[X]=null;return U}function NZ(u){let l=[];for(let z=0;z<u.length;z++)if(u[z]!=null)l.push(u[z]);return l}function J8(u,l,z,Q){let U=[],X=!1;l.forEach((Z,Y)=>{let W=RZ(u,Z,Y+z);if(W){X=!0;let L=J8(W,Z,z+Y+1,Q);if(L!=Au)U.push(Y,Y+Z.nodeSize,L)}});let V=yZ(X?NZ(u):u,-z).sort(Ql);for(let Z=0;Z<V.length;Z++)if(!V[Z].type.valid(l,V[Z])){if(Q.onRemove)Q.onRemove(V[Z].spec);V.splice(Z--,1)}return V.length||U.length?new uu(V,U):Au}function Ql(u,l){return u.from-l.from||u.to-l.to}function iz(u){let l=u;for(let z=0;z<l.length-1;z++){let Q=l[z];if(Q.from!=Q.to)for(let U=z+1;U<l.length;U++){let X=l[U];if(X.from==Q.from){if(X.to!=Q.to){if(l==u)l=u.slice();l[U]=X.copy(X.from,Q.to),$V(l,U+1,X.copy(Q.to,X.to))}continue}else{if(X.from<Q.to){if(l==u)l=u.slice();l[z]=Q.copy(Q.from,X.from),$V(l,U,Q.copy(X.from,Q.to))}break}}}return l}function $V(u,l,z){while(l<u.length&&Ql(z,u[l])>0)l++;u.splice(l,0,z)}function Fz(u){let l=[];if(u.someProp("decorations",(z)=>{let Q=z(u.state);if(Q&&Q!=Au)l.push(Q)}),u.cursorWrapper)l.push(uu.create(u.state.doc,[u.cursorWrapper.deco]));return F1.from(l)}var wK={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},vK=cu&&y1<=11;class AZ{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(u){this.anchorNode=u.anchorNode,this.anchorOffset=u.anchorOffset,this.focusNode=u.focusNode,this.focusOffset=u.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(u){return u.anchorNode==this.anchorNode&&u.anchorOffset==this.anchorOffset&&u.focusNode==this.focusNode&&u.focusOffset==this.focusOffset}}class OZ{constructor(u,l){if(this.view=u,this.handleDOMChange=l,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new AZ,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver((z)=>{for(let Q=0;Q<z.length;Q++)this.queue.push(z[Q]);if(cu&&y1<=11&&z.some((Q)=>Q.type=="childList"&&Q.removedNodes.length||Q.type=="characterData"&&Q.oldValue.length>Q.target.nodeValue.length))this.flushSoon();else this.flush()}),vK)this.onCharData=(z)=>{this.queue.push({target:z.target,type:"characterData",oldValue:z.prevValue}),this.flushSoon()};this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){if(this.flushingSoon<0)this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20)}forceFlush(){if(this.flushingSoon>-1)window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush()}start(){if(this.observer)this.observer.takeRecords(),this.observer.observe(this.view.dom,wK);if(this.onCharData)this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData);this.connectSelection()}stop(){if(this.observer){let u=this.observer.takeRecords();if(u.length){for(let l=0;l<u.length;l++)this.queue.push(u[l]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}if(this.onCharData)this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData);this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(!AV(this.view))return;if(this.suppressingSelectionUpdates)return p0(this.view);if(cu&&y1<=11&&!this.view.state.selection.empty){let u=this.view.domSelectionRange();if(u.focusNode&&Ul(u.focusNode,u.focusOffset,u.anchorNode,u.anchorOffset))return this.flushSoon()}this.flush()}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(u){if(!u.focusNode)return!0;let l=new Set,z;for(let U=u.focusNode;U;U=el(U))l.add(U);for(let U=u.anchorNode;U;U=el(U))if(l.has(U)){z=U;break}let Q=z&&this.view.docView.nearestDesc(z);if(Q&&Q.ignoreMutation({type:"selection",target:z.nodeType==3?z.parentNode:z}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let u of this.observer.takeRecords())this.queue.push(u);return this.queue}flush(){let{view:u}=this;if(!u.docView||this.flushingSoon>-1)return;let l=this.pendingRecords();if(l.length)this.queue=[];let z=u.domSelectionRange(),Q=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(z)&&AV(u)&&!this.ignoreSelectionChange(z),U=-1,X=-1,V=!1,Z=[];if(u.editable)for(let W=0;W<l.length;W++){let L=this.registerMutation(l[W],Z);if(L){if(U=U<0?L.from:Math.min(L.from,U),X=X<0?L.to:Math.max(L.to,X),L.typeOver)V=!0}}if(X0&&Z.length){let W=Z.filter((L)=>L.nodeName=="BR");if(W.length==2){let[L,H]=W;if(L.parentNode&&L.parentNode.parentNode==H.parentNode)H.remove();else L.remove()}else{let{focusNode:L}=this.currentSelection;for(let H of W){let J=H.parentNode;if(J&&J.nodeName=="LI"&&(!L||cK(u,L)!=J))H.remove()}}}let Y=null;if(U<0&&Q&&u.input.lastFocus>Date.now()-200&&Math.max(u.input.lastTouch,u.input.lastClick.time)<Date.now()-300&&_8(z)&&(Y=gz(u))&&Y.eq(k.near(u.state.doc.resolve(0),1)))u.input.lastFocus=0,p0(u),this.currentSelection.set(z),u.scrollToSelection();else if(U>-1||Q){if(U>-1)u.docView.markDirty(U,X),hK(u);if(this.handleDOMChange(U,X,V,Z),u.docView&&u.docView.dirty)u.updateState(u.state);else if(!this.currentSelection.eq(z))p0(u);this.currentSelection.set(z)}}registerMutation(u,l){if(l.indexOf(u.target)>-1)return null;let z=this.view.docView.nearestDesc(u.target);if(u.type=="attributes"&&(z==this.view.docView||u.attributeName=="contenteditable"||u.attributeName=="style"&&!u.oldValue&&!u.target.getAttribute("style")))return null;if(!z||z.ignoreMutation(u))return null;if(u.type=="childList"){for(let W=0;W<u.addedNodes.length;W++){let L=u.addedNodes[W];if(l.push(L),L.nodeType==3)this.lastChangedTextNode=L}if(z.contentDOM&&z.contentDOM!=z.dom&&!z.contentDOM.contains(u.target))return{from:z.posBefore,to:z.posAfter};let{previousSibling:Q,nextSibling:U}=u;if(cu&&y1<=11&&u.addedNodes.length)for(let W=0;W<u.addedNodes.length;W++){let{previousSibling:L,nextSibling:H}=u.addedNodes[W];if(!L||Array.prototype.indexOf.call(u.addedNodes,L)<0)Q=L;if(!H||Array.prototype.indexOf.call(u.addedNodes,H)<0)U=H}let X=Q&&Q.parentNode==u.target?Pu(Q)+1:0,V=z.localPosFromDOM(u.target,X,-1),Z=U&&U.parentNode==u.target?Pu(U):u.target.childNodes.length,Y=z.localPosFromDOM(u.target,Z,1);return{from:V,to:Y}}else if(u.type=="attributes")return{from:z.posAtStart-z.border,to:z.posAtEnd+z.border};else return this.lastChangedTextNode=u.target,{from:z.posAtStart,to:z.posAtEnd,typeOver:u.target.nodeValue==u.oldValue}}}var xV=new WeakMap,gV=!1;function hK(u){if(xV.has(u))return;if(xV.set(u,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(u.dom).whiteSpace)!==-1){if(u.requiresGeckoHackNode=X0,gV)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),gV=!0}}function wV(u,l){let{startContainer:z,startOffset:Q,endContainer:U,endOffset:X}=l,V=u.domAtPos(u.state.selection.anchor);if(Ul(V.node,V.offset,U,X))[z,Q,U,X]=[U,X,z,Q];return{anchorNode:z,anchorOffset:Q,focusNode:U,focusOffset:X}}function bK(u,l){if(l.getComposedRanges){let U=l.getComposedRanges(u.root)[0];if(U)return wV(u,U)}let z;function Q(U){U.preventDefault(),U.stopImmediatePropagation(),z=U.getTargetRanges()[0]}return u.dom.addEventListener("beforeinput",Q,!0),document.execCommand("indent"),u.dom.removeEventListener("beforeinput",Q,!0),z?wV(u,z):null}function cK(u,l){for(let z=l.parentNode;z&&z!=u.dom;z=z.parentNode){let Q=u.docView.nearestDesc(z,!0);if(Q&&Q.node.isBlock)return z}return null}function mK(u,l,z){let{node:Q,fromOffset:U,toOffset:X,from:V,to:Z}=u.docView.parseRange(l,z),Y=u.domSelectionRange(),W,L=Y.anchorNode;if(L&&u.dom.contains(L.nodeType==1?L:L.parentNode)){if(W=[{node:L,offset:Y.anchorOffset}],!_8(Y))W.push({node:Y.focusNode,offset:Y.focusOffset})}if(Ou&&u.input.lastKeyCode===8)for(let E=X;E>U;E--){let G=Q.childNodes[E-1],P=G.pmViewDesc;if(G.nodeName=="BR"&&!P){X=E;break}if(!P||P.size)break}let H=u.state.doc,J=u.someProp("domParser")||q0.fromSchema(u.state.schema),K=H.resolve(V),_=null,q=J.parse(Q,{topNode:K.parent,topMatch:K.parent.contentMatchAt(K.index()),topOpen:!0,from:U,to:X,preserveWhitespace:K.parent.type.whitespace=="pre"?"full":!0,findPositions:W,ruleFromNode:nK,context:K});if(W&&W[0].pos!=null){let E=W[0].pos,G=W[1]&&W[1].pos;if(G==null)G=E;_={anchor:E+V,head:G+V}}return{doc:q,sel:_,from:V,to:Z}}function nK(u){let l=u.pmViewDesc;if(l)return l.parseRule();else if(u.nodeName=="BR"&&u.parentNode){if(fu&&/^(ul|ol)$/i.test(u.parentNode.nodeName)){let z=document.createElement("div");return z.appendChild(document.createElement("li")),{skip:z}}else if(u.parentNode.lastChild==u||fu&&/^(tr|table)$/i.test(u.parentNode.nodeName))return{ignore:!0}}else if(u.nodeName=="IMG"&&u.getAttribute("mark-placeholder"))return{ignore:!0};return null}var iK=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function rK(u,l,z,Q,U){let X=u.input.compositionPendingChanges||(u.composing?u.input.compositionID:0);if(u.input.compositionPendingChanges=0,l<0){let F=u.input.lastSelectionTime>Date.now()-50?u.input.lastSelectionOrigin:null,x=gz(u,F);if(x&&!u.state.selection.eq(x)){if(Ou&&r0&&u.input.lastKeyCode===13&&Date.now()-100<u.input.lastKeyCodeTime&&u.someProp("handleKeyDown",(C0)=>C0(u,e1(13,"Enter"))))return;let S=u.state.tr.setSelection(x);if(F=="pointer")S.setMeta("pointer",!0);else if(F=="key")S.scrollIntoView();if(X)S.setMeta("composition",X);u.dispatch(S)}return}let V=u.state.doc.resolve(l),Z=V.sharedDepth(z);l=V.before(Z+1),z=u.state.doc.resolve(z).after(Z+1);let Y=u.state.selection,W=mK(u,l,z),L=u.state.doc,H=L.slice(W.from,W.to),J,K;if(u.input.lastKeyCode===8&&Date.now()-100<u.input.lastKeyCodeTime)J=u.state.selection.to,K="end";else J=u.state.selection.from,K="start";u.input.lastKeyCode=null;let _=aK(H.content,W.doc.content,W.from,J,K);if(_)u.input.domChangeCount++;if((u2&&u.input.lastIOSEnter>Date.now()-225||r0)&&U.some((F)=>F.nodeType==1&&!iK.test(F.nodeName))&&(!_||_.endA>=_.endB)&&u.someProp("handleKeyDown",(F)=>F(u,e1(13,"Enter")))){u.input.lastIOSEnter=0;return}if(!_)if(Q&&Y instanceof D&&!Y.empty&&Y.$head.sameParent(Y.$anchor)&&!u.composing&&!(W.sel&&W.sel.anchor!=W.sel.head))_={start:Y.from,endA:Y.to,endB:Y.to};else{if(W.sel){let F=vV(u,u.state.doc,W.sel);if(F&&!F.eq(u.state.selection)){let x=u.state.tr.setSelection(F);if(X)x.setMeta("composition",X);u.dispatch(x)}}return}if(u.state.selection.from<u.state.selection.to&&_.start==_.endB&&u.state.selection instanceof D){if(_.start>u.state.selection.from&&_.start<=u.state.selection.from+2&&u.state.selection.from>=W.from)_.start=u.state.selection.from;else if(_.endA<u.state.selection.to&&_.endA>=u.state.selection.to-2&&u.state.selection.to<=W.to)_.endB+=u.state.selection.to-_.endA,_.endA=u.state.selection.to}if(cu&&y1<=11&&_.endB==_.start+1&&_.endA==_.start&&_.start>W.from&&W.doc.textBetween(_.start-W.from-1,_.start-W.from+1)==" ")_.start--,_.endA--,_.endB--;let q=W.doc.resolveNoCache(_.start-W.from),E=W.doc.resolveNoCache(_.endB-W.from),G=L.resolve(_.start),P=q.sameParent(E)&&q.parent.inlineContent&&G.end()>=_.endA,C;if((u2&&u.input.lastIOSEnter>Date.now()-225&&(!P||U.some((F)=>F.nodeName=="DIV"||F.nodeName=="P"))||!P&&q.pos<W.doc.content.size&&(!q.sameParent(E)||!q.parent.inlineContent)&&!/\S/.test(W.doc.textBetween(q.pos,E.pos,"",""))&&(C=k.findFrom(W.doc.resolve(q.pos+1),1,!0))&&C.head>q.pos)&&u.someProp("handleKeyDown",(F)=>F(u,e1(13,"Enter")))){u.input.lastIOSEnter=0;return}if(u.state.selection.anchor>_.start&&dK(L,_.start,_.endA,q,E)&&u.someProp("handleKeyDown",(F)=>F(u,e1(8,"Backspace")))){if(r0&&Ou)u.domObserver.suppressSelectionUpdates();return}if(Ou&&_.endB==_.start)u.input.lastChromeDelete=Date.now();if(r0&&!P&&q.start()!=E.start()&&E.parentOffset==0&&q.depth==E.depth&&W.sel&&W.sel.anchor==W.sel.head&&W.sel.head==_.endA)_.endB-=2,E=W.doc.resolveNoCache(_.endB-W.from),setTimeout(()=>{u.someProp("handleKeyDown",function(F){return F(u,e1(13,"Enter"))})},20);let{start:B,endA:y}=_,R=(F)=>{let x=F||u.state.tr.replace(B,y,W.doc.slice(_.start-W.from,_.endB-W.from));if(W.sel){let S=vV(u,x.doc,W.sel);if(S&&!(Ou&&u.composing&&S.empty&&(_.start!=_.endB||u.input.lastChromeDelete<Date.now()-100)&&(S.head==B||S.head==x.mapping.map(y)-1)||cu&&S.empty&&S.head==B))x.setSelection(S)}if(X)x.setMeta("composition",X);return x.scrollIntoView()},A;if(P){if(q.pos==E.pos){if(cu&&y1<=11&&q.parentOffset==0)u.domObserver.suppressSelectionUpdates(),setTimeout(()=>p0(u),20);let F=R(u.state.tr.delete(B,y)),x=L.resolve(_.start).marksAcross(L.resolve(_.endA));if(x)F.ensureMarks(x);u.dispatch(F)}else if(_.endA==_.endB&&(A=pK(q.parent.content.cut(q.parentOffset,E.parentOffset),G.parent.content.cut(G.parentOffset,_.endA-G.start())))){let F=R(u.state.tr);if(A.type=="add")F.addMark(B,y,A.mark);else F.removeMark(B,y,A.mark);u.dispatch(F)}else if(q.parent.child(q.index()).isText&&q.index()==E.index()-(E.textOffset?0:1)){let F=q.parent.textBetween(q.parentOffset,E.parentOffset),x=()=>R(u.state.tr.insertText(F,B,y));if(!u.someProp("handleTextInput",(S)=>S(u,B,y,F,x)))u.dispatch(x())}}else u.dispatch(R())}function vV(u,l,z){if(Math.max(z.anchor,z.head)>l.content.size)return null;return wz(u,l.resolve(z.anchor),l.resolve(z.head))}function pK(u,l){let z=u.firstChild.marks,Q=l.firstChild.marks,U=z,X=Q,V,Z,Y;for(let L=0;L<Q.length;L++)U=Q[L].removeFromSet(U);for(let L=0;L<z.length;L++)X=z[L].removeFromSet(X);if(U.length==1&&X.length==0)Z=U[0],V="add",Y=(L)=>L.mark(Z.addToSet(L.marks));else if(U.length==0&&X.length==1)Z=X[0],V="remove",Y=(L)=>L.mark(Z.removeFromSet(L.marks));else return null;let W=[];for(let L=0;L<l.childCount;L++)W.push(Y(l.child(L)));if(I.from(W).eq(u))return{mark:Z,type:V}}function dK(u,l,z,Q,U){if(z-l<=U.pos-Q.pos||jz(Q,!0,!1)<U.pos)return!1;let X=u.resolve(l);if(!Q.parent.isTextblock){let Z=X.nodeAfter;return Z!=null&&z==l+Z.nodeSize}if(X.parentOffset<X.parent.content.size||!X.parent.isTextblock)return!1;let V=u.resolve(jz(X,!0,!0));if(!V.parent.isTextblock||V.pos>z||jz(V,!0,!1)<z)return!1;return Q.parent.content.cut(Q.parentOffset).eq(V.parent.content)}function jz(u,l,z){let Q=u.depth,U=l?u.end():u.pos;while(Q>0&&(l||u.indexAfter(Q)==u.node(Q).childCount))Q--,U++,l=!1;if(z){let X=u.node(Q).maybeChild(u.indexAfter(Q));while(X&&!X.isLeaf)X=X.firstChild,U++}return U}function aK(u,l,z,Q,U){let X=u.findDiffStart(l,z);if(X==null)return null;let{a:V,b:Z}=u.findDiffEnd(l,z+u.size,z+l.size);if(U=="end"){let Y=Math.max(0,X-Math.min(V,Z));Q-=V+Y-X}if(V<X&&u.size<l.size){let Y=Q<=X&&Q>=V?X-Q:0;if(X-=Y,X&&X<l.size&&hV(l.textBetween(X-1,X+1)))X+=Y?1:-1;Z=X+(Z-V),V=X}else if(Z<X){let Y=Q<=X&&Q>=Z?X-Q:0;if(X-=Y,X&&X<u.size&&hV(u.textBetween(X-1,X+1)))X+=Y?1:-1;V=X+(V-Z),Z=X}return{start:X,endA:V,endB:Z}}function hV(u){if(u.length!=2)return!1;let l=u.charCodeAt(0),z=u.charCodeAt(1);return l>=56320&&l<=57343&&z>=55296&&z<=56319}class q8{constructor(u,l){if(this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new qZ,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=l,this.state=l.state,this.directPlugins=l.plugins||[],this.directPlugins.forEach(iV),this.dispatch=this.dispatch.bind(this),this.dom=u&&u.mount||document.createElement("div"),u){if(u.appendChild)u.appendChild(this.dom);else if(typeof u=="function")u(this.dom);else if(u.mount)this.mounted=!0}this.editable=mV(this),cV(this),this.nodeViews=nV(this),this.docView=IV(this.state.doc,bV(this),Fz(this),this.dom,this),this.domObserver=new OZ(this,(z,Q,U,X)=>rK(this,z,Q,U,X)),this.domObserver.start(),EK(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let u=this._props;this._props={};for(let l in u)this._props[l]=u[l];this._props.state=this.state}return this._props}update(u){if(u.handleDOMEvents!=this._props.handleDOMEvents)kz(this);let l=this._props;if(this._props=u,u.plugins)u.plugins.forEach(iV),this.directPlugins=u.plugins;this.updateStateInner(u.state,l)}setProps(u){let l={};for(let z in this._props)l[z]=this._props[z];l.state=this.state;for(let z in u)l[z]=u[z];this.update(l)}updateState(u){this.updateStateInner(u,this._props)}updateStateInner(u,l){var z;let Q=this.state,U=!1,X=!1;if(u.storedMarks&&this.composing)IZ(this),X=!0;this.state=u;let V=Q.plugins!=u.plugins||this._props.plugins!=l.plugins;if(V||this._props.plugins!=l.plugins||this._props.nodeViews!=l.nodeViews){let J=nV(this);if(oK(J,this.nodeViews))this.nodeViews=J,U=!0}if(V||l.handleDOMEvents!=this._props.handleDOMEvents)kz(this);this.editable=mV(this),cV(this);let Z=Fz(this),Y=bV(this),W=Q.plugins!=u.plugins&&!Q.doc.eq(u.doc)?"reset":u.scrollToSelection>Q.scrollToSelection?"to selection":"preserve",L=U||!this.docView.matchesNode(u.doc,Y,Z);if(L||!u.selection.eq(Q.selection))X=!0;let H=W=="preserve"&&X&&this.dom.style.overflowAnchor==null&&x_(this);if(X){this.domObserver.stop();let J=L&&(cu||Ou)&&!this.composing&&!Q.selection.empty&&!u.selection.empty&&sK(Q.selection,u.selection);if(L){let K=Ou?this.trackWrites=this.domSelectionRange().focusNode:null;if(this.composing)this.input.compositionNode=TK(this);if(U||!this.docView.update(u.doc,Y,Z,this))this.docView.updateOuterDeco(Y),this.docView.destroy(),this.docView=IV(u.doc,Y,Z,this.dom,this);if(K&&!this.trackWrites)J=!0}if(J||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&QK(this)))p0(this,J);else ZZ(this,u.selection),this.domObserver.setCurSelection();this.domObserver.start()}if(this.updatePluginViews(Q),((z=this.dragging)===null||z===void 0?void 0:z.node)&&!Q.doc.eq(u.doc))this.updateDraggedNode(this.dragging,Q);if(W=="reset")this.dom.scrollTop=0;else if(W=="to selection")this.scrollToSelection();else if(H)g_(H)}scrollToSelection(){let u=this.domSelectionRange().focusNode;if(!u||!this.dom.contains(u.nodeType==1?u:u.parentNode));else if(this.someProp("handleScrollToSelection",(l)=>l(this)));else if(this.state.selection instanceof T){let l=this.docView.domAfterPos(this.state.selection.from);if(l.nodeType==1)GV(this,l.getBoundingClientRect(),u)}else GV(this,this.coordsAtPos(this.state.selection.head,1),u)}destroyPluginViews(){let u;while(u=this.pluginViews.pop())if(u.destroy)u.destroy()}updatePluginViews(u){if(!u||u.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let l=0;l<this.directPlugins.length;l++){let z=this.directPlugins[l];if(z.spec.view)this.pluginViews.push(z.spec.view(this))}for(let l=0;l<this.state.plugins.length;l++){let z=this.state.plugins[l];if(z.spec.view)this.pluginViews.push(z.spec.view(this))}}else for(let l=0;l<this.pluginViews.length;l++){let z=this.pluginViews[l];if(z.update)z.update(this,u)}}updateDraggedNode(u,l){let z=u.node,Q=-1;if(this.state.doc.nodeAt(z.from)==z.node)Q=z.from;else{let U=z.from+(this.state.doc.content.size-l.doc.content.size);if((U>0&&this.state.doc.nodeAt(U))==z.node)Q=U}this.dragging=new mz(u.slice,u.move,Q<0?void 0:T.create(this.state.doc,Q))}someProp(u,l){let z=this._props&&this._props[u],Q;if(z!=null&&(Q=l?l(z):z))return Q;for(let X=0;X<this.directPlugins.length;X++){let V=this.directPlugins[X].props[u];if(V!=null&&(Q=l?l(V):V))return Q}let U=this.state.plugins;if(U)for(let X=0;X<U.length;X++){let V=U[X].props[u];if(V!=null&&(Q=l?l(V):V))return Q}}hasFocus(){if(cu){let u=this.root.activeElement;if(u==this.dom)return!0;if(!u||!this.dom.contains(u))return!1;while(u&&this.dom!=u&&this.dom.contains(u)){if(u.contentEditable=="false")return!1;u=u.parentElement}return!0}return this.root.activeElement==this.dom}focus(){if(this.domObserver.stop(),this.editable)w_(this.dom);p0(this),this.domObserver.start()}get root(){let u=this._root;if(u==null){for(let l=this.dom.parentNode;l;l=l.parentNode)if(l.nodeType==9||l.nodeType==11&&l.host){if(!l.getSelection)Object.getPrototypeOf(l).getSelection=()=>l.ownerDocument.getSelection();return this._root=l}}return u||document}updateRoot(){this._root=null}posAtCoords(u){return m_(this,u)}coordsAtPos(u,l=1){return tV(this,u,l)}domAtPos(u,l=0){return this.docView.domFromPos(u,l)}nodeDOM(u){let l=this.docView.descAt(u);return l?l.nodeDOM:null}posAtDOM(u,l,z=-1){let Q=this.docView.posFromDOM(u,l,z);if(Q==null)throw new RangeError("DOM position not inside the editor");return Q}endOfTextblock(u,l){return d_(this,l||this.state,u)}pasteHTML(u,l){return G3(this,"",u,!1,l||new ClipboardEvent("paste"))}pasteText(u,l){return G3(this,u,null,!0,l||new ClipboardEvent("paste"))}serializeForClipboard(u){return vz(this,u)}destroy(){if(!this.docView)return;if(CK(this),this.destroyPluginViews(),this.mounted)this.docView.update(this.state.doc,[],Fz(this),this),this.dom.textContent="";else if(this.dom.parentNode)this.dom.parentNode.removeChild(this.dom);this.docView.destroy(),this.docView=null,R_()}get isDestroyed(){return this.docView==null}dispatchEvent(u){return IK(this,u)}domSelectionRange(){let u=this.domSelection();if(!u)return{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0};return fu&&this.root.nodeType===11&&T_(this.dom.ownerDocument)==this.dom&&bK(this,u)||u}domSelection(){return this.root.getSelection()}}q8.prototype.dispatch=function(u){let l=this._props.dispatchTransaction;if(l)l.call(this,u);else this.updateState(this.state.apply(u))};function bV(u){let l=Object.create(null);if(l.class="ProseMirror",l.contenteditable=String(u.editable),u.someProp("attributes",(z)=>{if(typeof z=="function")z=z(u.state);if(z){for(let Q in z)if(Q=="class")l.class+=" "+z[Q];else if(Q=="style")l.style=(l.style?l.style+";":"")+z[Q];else if(!l[Q]&&Q!="contenteditable"&&Q!="nodeName")l[Q]=String(z[Q])}}),!l.translate)l.translate="no";return[ku.node(0,u.state.doc.content.size,l)]}function cV(u){if(u.markCursor){let l=document.createElement("img");l.className="ProseMirror-separator",l.setAttribute("mark-placeholder","true"),l.setAttribute("alt",""),u.cursorWrapper={dom:l,deco:ku.widget(u.state.selection.from,l,{raw:!0,marks:u.markCursor})}}else u.cursorWrapper=null}function mV(u){return!u.someProp("editable",(l)=>l(u.state)===!1)}function sK(u,l){let z=Math.min(u.$anchor.sharedDepth(u.head),l.$anchor.sharedDepth(l.head));return u.$anchor.start(z)!=l.$anchor.start(z)}function nV(u){let l=Object.create(null);function z(Q){for(let U in Q)if(!Object.prototype.hasOwnProperty.call(l,U))l[U]=Q[U]}return u.someProp("nodeViews",z),u.someProp("markViews",z),l}function oK(u,l){let z=0,Q=0;for(let U in u){if(u[U]!=l[U])return!0;z++}for(let U in l)Q++;return z!=Q}function iV(u){if(u.spec.state||u.spec.filterTransaction||u.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var d0={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},P8={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},tK=typeof navigator!="undefined"&&/Mac/.test(navigator.platform),eK=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(o=0;o<10;o++)d0[48+o]=d0[96+o]=String(o);var o;for(o=1;o<=24;o++)d0[o+111]="F"+o;var o;for(o=65;o<=90;o++)d0[o]=String.fromCharCode(o+32),P8[o]=String.fromCharCode(o);var o;for(C3 in d0)if(!P8.hasOwnProperty(C3))P8[C3]=d0[C3];var C3;function MZ(u){var l=tK&&u.metaKey&&u.shiftKey&&!u.ctrlKey&&!u.altKey||eK&&u.shiftKey&&u.key&&u.key.length==1||u.key=="Unidentified",z=!l&&u.key||(u.shiftKey?P8:d0)[u.keyCode]||u.key||"Unidentified";if(z=="Esc")z="Escape";if(z=="Del")z="Delete";if(z=="Left")z="ArrowLeft";if(z=="Up")z="ArrowUp";if(z=="Right")z="ArrowRight";if(z=="Down")z="ArrowDown";return z}var uG=typeof navigator!="undefined"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),lG=typeof navigator!="undefined"&&/Win/.test(navigator.platform);function zG(u){let l=u.split(/-(?!$)/),z=l[l.length-1];if(z=="Space")z=" ";let Q,U,X,V;for(let Z=0;Z<l.length-1;Z++){let Y=l[Z];if(/^(cmd|meta|m)$/i.test(Y))V=!0;else if(/^a(lt)?$/i.test(Y))Q=!0;else if(/^(c|ctrl|control)$/i.test(Y))U=!0;else if(/^s(hift)?$/i.test(Y))X=!0;else if(/^mod$/i.test(Y))if(uG)V=!0;else U=!0;else throw new Error("Unrecognized modifier name: "+Y)}if(Q)z="Alt-"+z;if(U)z="Ctrl-"+z;if(V)z="Meta-"+z;if(X)z="Shift-"+z;return z}function QG(u){let l=Object.create(null);for(let z in u)l[zG(z)]=u[z];return l}function rz(u,l,z=!0){if(l.altKey)u="Alt-"+u;if(l.ctrlKey)u="Ctrl-"+u;if(l.metaKey)u="Meta-"+u;if(z&&l.shiftKey)u="Shift-"+u;return u}function TZ(u){return new s({props:{handleKeyDown:pz(u)}})}function pz(u){let l=QG(u);return function(z,Q){let U=MZ(Q),X,V=l[rz(U,Q)];if(V&&V(z.state,z.dispatch,z))return!0;if(U.length==1&&U!=" "){if(Q.shiftKey){let Z=l[rz(U,Q,!1)];if(Z&&Z(z.state,z.dispatch,z))return!0}if((Q.altKey||Q.metaKey||Q.ctrlKey)&&!(lG&&Q.ctrlKey&&Q.altKey)&&(X=d0[Q.keyCode])&&X!=U){let Z=l[rz(X,Q)];if(Z&&Z(z.state,z.dispatch,z))return!0}}return!1}}var E8=(u,l)=>{if(u.selection.empty)return!1;if(l)l(u.tr.deleteSelection().scrollIntoView());return!0};function SZ(u,l){let{$cursor:z}=u.selection;if(!z||(l?!l.endOfTextblock("backward",u):z.parentOffset>0))return null;return z}var az=(u,l,z)=>{let Q=SZ(u,z);if(!Q)return!1;let U=oz(Q);if(!U){let V=Q.blockRange(),Z=V&&m0(V);if(Z==null)return!1;if(l)l(u.tr.lift(V,Z).scrollIntoView());return!0}let X=U.nodeBefore;if(bZ(u,U,l,-1))return!0;if(Q.parent.content.size==0&&(z2(X,"end")||T.isSelectable(X)))for(let V=Q.depth;;V--){let Z=L3(u.doc,Q.before(V),Q.after(V),N.empty);if(Z&&Z.slice.size<Z.to-Z.from){if(l){let Y=u.tr.step(Z);Y.setSelection(z2(X,"end")?k.findFrom(Y.doc.resolve(Y.mapping.map(U.pos,-1)),-1):T.create(Y.doc,U.pos-X.nodeSize)),l(Y.scrollIntoView())}return!0}if(V==1||Q.node(V-1).childCount>1)break}if(X.isAtom&&U.depth==Q.depth-1){if(l)l(u.tr.delete(U.pos-X.nodeSize,U.pos).scrollIntoView());return!0}return!1},kZ=(u,l,z)=>{let Q=SZ(u,z);if(!Q)return!1;let U=oz(Q);return U?$Z(u,U,l):!1},fZ=(u,l,z)=>{let Q=xZ(u,z);if(!Q)return!1;let U=u9(Q);return U?$Z(u,U,l):!1};function $Z(u,l,z){let Q=l.nodeBefore,U=Q,X=l.pos-1;for(;!U.isTextblock;X--){if(U.type.spec.isolating)return!1;let L=U.lastChild;if(!L)return!1;U=L}let V=l.nodeAfter,Z=V,Y=l.pos+1;for(;!Z.isTextblock;Y++){if(Z.type.spec.isolating)return!1;let L=Z.firstChild;if(!L)return!1;Z=L}let W=L3(u.doc,X,Y,N.empty);if(!W||W.from!=X||W instanceof Qu&&W.slice.size>=Y-X)return!1;if(z){let L=u.tr.step(W);L.setSelection(D.create(L.doc,X)),z(L.scrollIntoView())}return!0}function z2(u,l,z=!1){for(let Q=u;Q;Q=l=="start"?Q.firstChild:Q.lastChild){if(Q.isTextblock)return!0;if(z&&Q.childCount!=1)return!1}return!1}var sz=(u,l,z)=>{let{$head:Q,empty:U}=u.selection,X=Q;if(!U)return!1;if(Q.parent.isTextblock){if(z?!z.endOfTextblock("backward",u):Q.parentOffset>0)return!1;X=oz(Q)}let V=X&&X.nodeBefore;if(!V||!T.isSelectable(V))return!1;if(l)l(u.tr.setSelection(T.create(u.doc,X.pos-V.nodeSize)).scrollIntoView());return!0};function oz(u){if(!u.parent.type.spec.isolating)for(let l=u.depth-1;l>=0;l--){if(u.index(l)>0)return u.doc.resolve(u.before(l+1));if(u.node(l).type.spec.isolating)break}return null}function xZ(u,l){let{$cursor:z}=u.selection;if(!z||(l?!l.endOfTextblock("forward",u):z.parentOffset<z.parent.content.size))return null;return z}var tz=(u,l,z)=>{let Q=xZ(u,z);if(!Q)return!1;let U=u9(Q);if(!U)return!1;let X=U.nodeAfter;if(bZ(u,U,l,1))return!0;if(Q.parent.content.size==0&&(z2(X,"start")||T.isSelectable(X))){let V=L3(u.doc,Q.before(),Q.after(),N.empty);if(V&&V.slice.size<V.to-V.from){if(l){let Z=u.tr.step(V);Z.setSelection(z2(X,"start")?k.findFrom(Z.doc.resolve(Z.mapping.map(U.pos)),1):T.create(Z.doc,Z.mapping.map(U.pos))),l(Z.scrollIntoView())}return!0}}if(X.isAtom&&U.depth==Q.depth-1){if(l)l(u.tr.delete(U.pos,U.pos+X.nodeSize).scrollIntoView());return!0}return!1},ez=(u,l,z)=>{let{$head:Q,empty:U}=u.selection,X=Q;if(!U)return!1;if(Q.parent.isTextblock){if(z?!z.endOfTextblock("forward",u):Q.parentOffset<Q.parent.content.size)return!1;X=u9(Q)}let V=X&&X.nodeAfter;if(!V||!T.isSelectable(V))return!1;if(l)l(u.tr.setSelection(T.create(u.doc,X.pos)).scrollIntoView());return!0};function u9(u){if(!u.parent.type.spec.isolating)for(let l=u.depth-1;l>=0;l--){let z=u.node(l);if(u.index(l)+1<z.childCount)return u.doc.resolve(u.after(l+1));if(z.type.spec.isolating)break}return null}var gZ=(u,l)=>{let z=u.selection,Q=z instanceof T,U;if(Q){if(z.node.isTextblock||!P0(u.doc,z.from))return!1;U=z.from}else if(U=rl(u.doc,z.from,-1),U==null)return!1;if(l){let X=u.tr.join(U);if(Q)X.setSelection(T.create(X.doc,U-u.doc.resolve(U).nodeBefore.nodeSize));l(X.scrollIntoView())}return!0},wZ=(u,l)=>{let z=u.selection,Q;if(z instanceof T){if(z.node.isTextblock||!P0(u.doc,z.to))return!1;Q=z.to}else if(Q=rl(u.doc,z.to,1),Q==null)return!1;if(l)l(u.tr.join(Q).scrollIntoView());return!0},vZ=(u,l)=>{let{$from:z,$to:Q}=u.selection,U=z.blockRange(Q),X=U&&m0(U);if(X==null)return!1;if(l)l(u.tr.lift(U,X).scrollIntoView());return!0},l9=(u,l)=>{let{$head:z,$anchor:Q}=u.selection;if(!z.parent.type.spec.code||!z.sameParent(Q))return!1;if(l)l(u.tr.insertText(`
`).scrollIntoView());return!0};function z9(u){for(let l=0;l<u.edgeCount;l++){let{type:z}=u.edge(l);if(z.isTextblock&&!z.hasRequiredAttrs())return z}return null}var Q9=(u,l)=>{let{$head:z,$anchor:Q}=u.selection;if(!z.parent.type.spec.code||!z.sameParent(Q))return!1;let U=z.node(-1),X=z.indexAfter(-1),V=z9(U.contentMatchAt(X));if(!V||!U.canReplaceWith(X,X,V))return!1;if(l){let Z=z.after(),Y=u.tr.replaceWith(Z,Z,V.createAndFill());Y.setSelection(k.near(Y.doc.resolve(Z),1)),l(Y.scrollIntoView())}return!0},U9=(u,l)=>{let z=u.selection,{$from:Q,$to:U}=z;if(z instanceof qu||Q.parent.inlineContent||U.parent.inlineContent)return!1;let X=z9(U.parent.contentMatchAt(U.indexAfter()));if(!X||!X.isTextblock)return!1;if(l){let V=(!Q.parentOffset&&U.index()<U.parent.childCount?Q:U).pos,Z=u.tr.insert(V,X.createAndFill());Z.setSelection(D.create(Z.doc,V+1)),l(Z.scrollIntoView())}return!0},X9=(u,l)=>{let{$cursor:z}=u.selection;if(!z||z.parent.content.size)return!1;if(z.depth>1&&z.after()!=z.end(-1)){let X=z.before();if(z0(u.doc,X)){if(l)l(u.tr.split(X).scrollIntoView());return!0}}let Q=z.blockRange(),U=Q&&m0(Q);if(U==null)return!1;if(l)l(u.tr.lift(Q,U).scrollIntoView());return!0};function UG(u){return(l,z)=>{let{$from:Q,$to:U}=l.selection;if(l.selection instanceof T&&l.selection.node.isBlock){if(!Q.parentOffset||!z0(l.doc,Q.pos))return!1;if(z)z(l.tr.split(Q.pos).scrollIntoView());return!0}if(!Q.depth)return!1;let X=[],V,Z,Y=!1,W=!1;for(let K=Q.depth;;K--)if(Q.node(K).isBlock){Y=Q.end(K)==Q.pos+(Q.depth-K),W=Q.start(K)==Q.pos-(Q.depth-K),Z=z9(Q.node(K-1).contentMatchAt(Q.indexAfter(K-1)));let q=u&&u(U.parent,Y,Q);X.unshift(q||(Y&&Z?{type:Z}:null)),V=K;break}else{if(K==1)return!1;X.unshift(null)}let L=l.tr;if(l.selection instanceof D||l.selection instanceof qu)L.deleteSelection();let H=L.mapping.map(Q.pos),J=z0(L.doc,H,X.length,X);if(!J)X[0]=Z?{type:Z}:null,J=z0(L.doc,H,X.length,X);if(!J)return!1;if(L.split(H,X.length,X),!Y&&W&&Q.node(V).type!=Z){let K=L.mapping.map(Q.before(V)),_=L.doc.resolve(K);if(Z&&Q.node(V-1).canReplaceWith(_.index(),_.index()+1,Z))L.setNodeMarkup(L.mapping.map(Q.before(V)),Z)}if(z)z(L.scrollIntoView());return!0}}var XG=UG();var hZ=(u,l)=>{let{$from:z,to:Q}=u.selection,U,X=z.sharedDepth(Q);if(X==0)return!1;if(U=z.before(X),l)l(u.tr.setSelection(T.create(u.doc,U)));return!0},VG=(u,l)=>{if(l)l(u.tr.setSelection(new qu(u.doc)));return!0};function ZG(u,l,z){let{nodeBefore:Q,nodeAfter:U}=l,X=l.index();if(!Q||!U||!Q.type.compatibleContent(U.type))return!1;if(!Q.content.size&&l.parent.canReplace(X-1,X)){if(z)z(u.tr.delete(l.pos-Q.nodeSize,l.pos).scrollIntoView());return!0}if(!l.parent.canReplace(X,X+1)||!(U.isTextblock||P0(u.doc,l.pos)))return!1;if(z)z(u.tr.join(l.pos).scrollIntoView());return!0}function bZ(u,l,z,Q){let{nodeBefore:U,nodeAfter:X}=l,V,Z,Y=U.type.spec.isolating||X.type.spec.isolating;if(!Y&&ZG(u,l,z))return!0;let W=!Y&&l.parent.canReplace(l.index(),l.index()+1);if(W&&(V=(Z=U.contentMatchAt(U.childCount)).findWrapping(X.type))&&Z.matchType(V[0]||X.type).validEnd){if(z){let K=l.pos+X.nodeSize,_=I.empty;for(let G=V.length-1;G>=0;G--)_=I.from(V[G].create(null,_));_=I.from(U.copy(_));let q=u.tr.step(new e(l.pos-1,K,l.pos,K,new N(_,1,0),V.length,!0)),E=q.doc.resolve(K+2*V.length);if(E.nodeAfter&&E.nodeAfter.type==U.type&&P0(q.doc,E.pos))q.join(E.pos);z(q.scrollIntoView())}return!0}let L=X.type.spec.isolating||Q>0&&Y?null:k.findFrom(l,1),H=L&&L.$from.blockRange(L.$to),J=H&&m0(H);if(J!=null&&J>=l.depth){if(z)z(u.tr.lift(H,J).scrollIntoView());return!0}if(W&&z2(X,"start",!0)&&z2(U,"end")){let K=U,_=[];for(;;){if(_.push(K),K.isTextblock)break;K=K.lastChild}let q=X,E=1;for(;!q.isTextblock;q=q.firstChild)E++;if(K.canReplace(K.childCount,K.childCount,q.content)){if(z){let G=I.empty;for(let C=_.length-1;C>=0;C--)G=I.from(_[C].copy(G));let P=u.tr.step(new e(l.pos-_.length,l.pos+X.nodeSize,l.pos+E,l.pos+X.nodeSize-E,new N(G,_.length,0),0,!0));z(P.scrollIntoView())}return!0}}return!1}function cZ(u){return function(l,z){let Q=l.selection,U=u<0?Q.$from:Q.$to,X=U.depth;while(U.node(X).isInline){if(!X)return!1;X--}if(!U.node(X).isTextblock)return!1;if(z)z(l.tr.setSelection(D.create(l.doc,u<0?U.start(X):U.end(X))));return!0}}var V9=cZ(-1),Z9=cZ(1);function mZ(u,l=null){return function(z,Q){let{$from:U,$to:X}=z.selection,V=U.blockRange(X),Z=V&&il(V,u,l);if(!Z)return!1;if(Q)Q(z.tr.wrap(V,Z).scrollIntoView());return!0}}function Y9(u,l=null){return function(z,Q){let U=!1;for(let X=0;X<z.selection.ranges.length&&!U;X++){let{$from:{pos:V},$to:{pos:Z}}=z.selection.ranges[X];z.doc.nodesBetween(V,Z,(Y,W)=>{if(U)return!1;if(!Y.isTextblock||Y.hasMarkup(u,l))return;if(Y.type==u)U=!0;else{let L=z.doc.resolve(W),H=L.index();U=L.parent.canReplaceWith(H,H+1,u)}})}if(!U)return!1;if(Q){let X=z.tr;for(let V=0;V<z.selection.ranges.length;V++){let{$from:{pos:Z},$to:{pos:Y}}=z.selection.ranges[V];X.setBlockType(Z,Y,u,l)}Q(X.scrollIntoView())}return!0}}function W9(...u){return function(l,z,Q){for(let U=0;U<u.length;U++)if(u[U](l,z,Q))return!0;return!1}}var dz=W9(E8,az,sz),DZ=W9(E8,tz,ez),O1={Enter:W9(l9,U9,X9,XG),"Mod-Enter":Q9,Backspace:dz,"Mod-Backspace":dz,"Shift-Backspace":dz,Delete:DZ,"Mod-Delete":DZ,"Mod-a":VG},YG={"Ctrl-h":O1.Backspace,"Alt-Backspace":O1["Mod-Backspace"],"Ctrl-d":O1.Delete,"Ctrl-Alt-Backspace":O1["Mod-Delete"],"Alt-Delete":O1["Mod-Delete"],"Alt-d":O1["Mod-Delete"],"Ctrl-a":V9,"Ctrl-e":Z9};for(let u in O1)YG[u]=O1[u];var xE=typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os!="undefined"&&os.platform?os.platform()=="darwin":!1;function nZ(u,l=null){return function(z,Q){let{$from:U,$to:X}=z.selection,V=U.blockRange(X);if(!V)return!1;let Z=Q?z.tr:null;if(!WG(Z,V,u,l))return!1;if(Q)Q(Z.scrollIntoView());return!0}}function WG(u,l,z,Q=null){let U=!1,X=l,V=l.$from.doc;if(l.depth>=2&&l.$from.node(l.depth-1).type.compatibleContent(z)&&l.startIndex==0){if(l.$from.index(l.depth-1)==0)return!1;let Y=V.resolve(l.start-2);if(X=new bl(Y,Y,l.depth),l.endIndex<l.parent.childCount)l=new bl(l.$from,V.resolve(l.$to.end(l.depth)),l.depth);U=!0}let Z=il(X,z,Q,l);if(!Z)return!1;if(u)LG(u,l,Z,U,z);return!0}function LG(u,l,z,Q,U){let X=I.empty;for(let L=z.length-1;L>=0;L--)X=I.from(z[L].type.create(z[L].attrs,X));u.step(new e(l.start-(Q?2:0),l.end,l.start,l.end,new N(X,0,0),z.length,!0));let V=0;for(let L=0;L<z.length;L++)if(z[L].type==U)V=L+1;let Z=z.length-V,Y=l.start+z.length-(Q?2:0),W=l.parent;for(let{startIndex:L,endIndex:H}=l,J=!0;L<H;L++,J=!1){if(!J&&z0(u.doc,Y,Z))u.split(Y,Z),Y+=2*Z;Y+=W.child(L).nodeSize}return u}function iZ(u){return function(l,z){let{$from:Q,$to:U}=l.selection,X=Q.blockRange(U,(V)=>V.childCount>0&&V.firstChild.type==u);if(!X)return!1;if(!z)return!0;if(Q.node(X.depth-1).type==u)return HG(l,z,u,X);else return JG(l,z,X)}}function HG(u,l,z,Q){let U=u.tr,X=Q.end,V=Q.$to.end(Q.depth);if(X<V)U.step(new e(X-1,V,X,V,new N(I.from(z.create(null,Q.parent.copy())),1,0),1,!0)),Q=new bl(U.doc.resolve(Q.$from.pos),U.doc.resolve(V),Q.depth);let Z=m0(Q);if(Z==null)return!1;U.lift(Q,Z);let Y=U.doc.resolve(U.mapping.map(X,-1)-1);if(P0(U.doc,Y.pos)&&Y.nodeBefore.type==Y.nodeAfter.type)U.join(Y.pos);return l(U.scrollIntoView()),!0}function JG(u,l,z){let Q=u.tr,U=z.parent;for(let K=z.end,_=z.endIndex-1,q=z.startIndex;_>q;_--)K-=U.child(_).nodeSize,Q.delete(K-1,K+1);let X=Q.doc.resolve(z.start),V=X.nodeAfter;if(Q.mapping.map(z.end)!=z.start+X.nodeAfter.nodeSize)return!1;let Z=z.startIndex==0,Y=z.endIndex==U.childCount,W=X.node(-1),L=X.index(-1);if(!W.canReplace(L+(Z?0:1),L+1,V.content.append(Y?I.empty:I.from(U))))return!1;let H=X.pos,J=H+V.nodeSize;return Q.step(new e(H-(Z?1:0),J+(Y?1:0),H+1,J-1,new N((Z?I.empty:I.from(U.copy(I.empty))).append(Y?I.empty:I.from(U.copy(I.empty))),Z?0:1,Y?0:1),Z?0:1)),l(Q.scrollIntoView()),!0}function rZ(u){return function(l,z){let{$from:Q,$to:U}=l.selection,X=Q.blockRange(U,(W)=>W.childCount>0&&W.firstChild.type==u);if(!X)return!1;let V=X.startIndex;if(V==0)return!1;let Z=X.parent,Y=Z.child(V-1);if(Y.type!=u)return!1;if(z){let W=Y.lastChild&&Y.lastChild.type==Z.type,L=I.from(W?u.create():null),H=new N(I.from(u.create(null,I.from(Z.type.create(null,L)))),W?3:1,0),J=X.start,K=X.end;z(l.tr.step(new e(J-(W?3:1),K,J,K,H,1,!0)).scrollIntoView())}return!0}}function N8(u){let{state:l,transaction:z}=u,{selection:Q}=z,{doc:U}=z,{storedMarks:X}=z;return{...l,apply:l.apply.bind(l),applyTransaction:l.applyTransaction.bind(l),plugins:l.plugins,schema:l.schema,reconfigure:l.reconfigure.bind(l),toJSON:l.toJSON.bind(l),get storedMarks(){return X},get selection(){return Q},get doc(){return U},get tr(){return Q=z.selection,U=z.doc,X=z.storedMarks,z}}}class F3{constructor(u){this.editor=u.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=u.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){let{rawCommands:u,editor:l,state:z}=this,{view:Q}=l,{tr:U}=z,X=this.buildProps(U);return Object.fromEntries(Object.entries(u).map(([V,Z])=>{return[V,(...W)=>{let L=Z(...W)(X);if(!U.getMeta("preventDispatch")&&!this.hasCustomState)Q.dispatch(U);return L}]}))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(u,l=!0){let{rawCommands:z,editor:Q,state:U}=this,{view:X}=Q,V=[],Z=!!u,Y=u||U.tr,W=()=>{if(!Z&&l&&!Y.getMeta("preventDispatch")&&!this.hasCustomState)X.dispatch(Y);return V.every((H)=>H===!0)},L={...Object.fromEntries(Object.entries(z).map(([H,J])=>{return[H,(..._)=>{let q=this.buildProps(Y,l),E=J(..._)(q);return V.push(E),L}]})),run:W};return L}createCan(u){let{rawCommands:l,state:z}=this,Q=!1,U=u||z.tr,X=this.buildProps(U,!1);return{...Object.fromEntries(Object.entries(l).map(([Z,Y])=>{return[Z,(...W)=>Y(...W)({...X,dispatch:void 0})]})),chain:()=>this.createChain(U,!1)}}buildProps(u,l=!0){let{rawCommands:z,editor:Q,state:U}=this,{view:X}=Q,V={tr:u,editor:Q,view:X,state:N8({state:U,transaction:u}),dispatch:l?()=>{return}:void 0,chain:()=>this.createChain(u,l),can:()=>this.createCan(u),get commands(){return Object.fromEntries(Object.entries(z).map(([Z,Y])=>{return[Z,(...W)=>Y(...W)(V)]}))}};return V}}class uY{constructor(){this.callbacks={}}on(u,l){if(!this.callbacks[u])this.callbacks[u]=[];return this.callbacks[u].push(l),this}emit(u,...l){let z=this.callbacks[u];if(z)z.forEach((Q)=>Q.apply(this,l));return this}off(u,l){let z=this.callbacks[u];if(z)if(l)this.callbacks[u]=z.filter((Q)=>Q!==l);else delete this.callbacks[u];return this}once(u,l){let z=(...Q)=>{this.off(u,z),l.apply(this,Q)};return this.on(u,z)}removeAllListeners(){this.callbacks={}}}function M(u,l,z){if(u.config[l]===void 0&&u.parent)return M(u.parent,l,z);if(typeof u.config[l]==="function")return u.config[l].bind({...z,parent:u.parent?M(u.parent,l,z):null});return u.config[l]}function A8(u){let l=u.filter((U)=>U.type==="extension"),z=u.filter((U)=>U.type==="node"),Q=u.filter((U)=>U.type==="mark");return{baseExtensions:l,nodeExtensions:z,markExtensions:Q}}function lY(u){let l=[],{nodeExtensions:z,markExtensions:Q}=A8(u),U=[...z,...Q],X={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return u.forEach((V)=>{let Z={name:V.name,options:V.options,storage:V.storage,extensions:U},Y=M(V,"addGlobalAttributes",Z);if(!Y)return;Y().forEach((L)=>{L.types.forEach((H)=>{Object.entries(L.attributes).forEach(([J,K])=>{l.push({type:H,name:J,attribute:{...X,...K}})})})})}),U.forEach((V)=>{let Z={name:V.name,options:V.options,storage:V.storage},Y=M(V,"addAttributes",Z);if(!Y)return;let W=Y();Object.entries(W).forEach(([L,H])=>{let J={...X,...H};if(typeof(J===null||J===void 0?void 0:J.default)==="function")J.default=J.default();if((J===null||J===void 0?void 0:J.isRequired)&&(J===null||J===void 0?void 0:J.default)===void 0)delete J.default;l.push({type:V.name,name:L,attribute:J})})}),l}function Hu(u,l){if(typeof u==="string"){if(!l.nodes[u])throw Error(`There is no node type named '${u}'. Maybe you forgot to add the extension?`);return l.nodes[u]}return u}function h(...u){return u.filter((l)=>!!l).reduce((l,z)=>{let Q={...l};return Object.entries(z).forEach(([U,X])=>{if(!Q[U]){Q[U]=X;return}if(U==="class"){let Z=X?String(X).split(" "):[],Y=Q[U]?Q[U].split(" "):[],W=Z.filter((L)=>!Y.includes(L));Q[U]=[...Y,...W].join(" ")}else if(U==="style"){let Z=X?X.split(";").map((L)=>L.trim()).filter(Boolean):[],Y=Q[U]?Q[U].split(";").map((L)=>L.trim()).filter(Boolean):[],W=new Map;Y.forEach((L)=>{let[H,J]=L.split(":").map((K)=>K.trim());W.set(H,J)}),Z.forEach((L)=>{let[H,J]=L.split(":").map((K)=>K.trim());W.set(H,J)}),Q[U]=Array.from(W.entries()).map(([L,H])=>`${L}: ${H}`).join("; ")}else Q[U]=X}),Q},{})}function y8(u,l){return l.filter((z)=>z.type===u.type.name).filter((z)=>z.attribute.rendered).map((z)=>{if(!z.attribute.renderHTML)return{[z.name]:u.attrs[z.name]};return z.attribute.renderHTML(u.attrs)||{}}).reduce((z,Q)=>h(z,Q),{})}function zY(u){return typeof u==="function"}function f(u,l=void 0,...z){if(zY(u)){if(l)return u.bind(l)(...z);return u(...z)}return u}function _G(u={}){return Object.keys(u).length===0&&u.constructor===Object}function KG(u){if(typeof u!=="string")return u;if(u.match(/^[+-]?(?:\d*\.)?\d+$/))return Number(u);if(u==="true")return!0;if(u==="false")return!1;return u}function pZ(u,l){if("style"in u)return u;return{...u,getAttrs:(z)=>{let Q=u.getAttrs?u.getAttrs(z):u.attrs;if(Q===!1)return!1;let U=l.reduce((X,V)=>{let Z=V.attribute.parseHTML?V.attribute.parseHTML(z):KG(z.getAttribute(V.name));if(Z===null||Z===void 0)return X;return{...X,[V.name]:Z}},{});return{...Q,...U}}}}function dZ(u){return Object.fromEntries(Object.entries(u).filter(([l,z])=>{if(l==="attrs"&&_G(z))return!1;return z!==null&&z!==void 0}))}function GG(u,l){var z;let Q=lY(u),{nodeExtensions:U,markExtensions:X}=A8(u),V=(z=U.find((W)=>M(W,"topNode")))===null||z===void 0?void 0:z.name,Z=Object.fromEntries(U.map((W)=>{let L=Q.filter((G)=>G.type===W.name),H={name:W.name,options:W.options,storage:W.storage,editor:l},J=u.reduce((G,P)=>{let C=M(P,"extendNodeSchema",H);return{...G,...C?C(W):{}}},{}),K=dZ({...J,content:f(M(W,"content",H)),marks:f(M(W,"marks",H)),group:f(M(W,"group",H)),inline:f(M(W,"inline",H)),atom:f(M(W,"atom",H)),selectable:f(M(W,"selectable",H)),draggable:f(M(W,"draggable",H)),code:f(M(W,"code",H)),whitespace:f(M(W,"whitespace",H)),linebreakReplacement:f(M(W,"linebreakReplacement",H)),defining:f(M(W,"defining",H)),isolating:f(M(W,"isolating",H)),attrs:Object.fromEntries(L.map((G)=>{var P;return[G.name,{default:(P=G===null||G===void 0?void 0:G.attribute)===null||P===void 0?void 0:P.default}]}))}),_=f(M(W,"parseHTML",H));if(_)K.parseDOM=_.map((G)=>pZ(G,L));let q=M(W,"renderHTML",H);if(q)K.toDOM=(G)=>q({node:G,HTMLAttributes:y8(G,L)});let E=M(W,"renderText",H);if(E)K.toText=E;return[W.name,K]})),Y=Object.fromEntries(X.map((W)=>{let L=Q.filter((E)=>E.type===W.name),H={name:W.name,options:W.options,storage:W.storage,editor:l},J=u.reduce((E,G)=>{let P=M(G,"extendMarkSchema",H);return{...E,...P?P(W):{}}},{}),K=dZ({...J,inclusive:f(M(W,"inclusive",H)),excludes:f(M(W,"excludes",H)),group:f(M(W,"group",H)),spanning:f(M(W,"spanning",H)),code:f(M(W,"code",H)),attrs:Object.fromEntries(L.map((E)=>{var G;return[E.name,{default:(G=E===null||E===void 0?void 0:E.attribute)===null||G===void 0?void 0:G.default}]}))}),_=f(M(W,"parseHTML",H));if(_)K.parseDOM=_.map((E)=>pZ(E,L));let q=M(W,"renderHTML",H);if(q)K.toDOM=(E)=>q({mark:E,HTMLAttributes:y8(E,L)});return[W.name,K]}));return new u8({topNode:V,nodes:Z,marks:Y})}function L9(u,l){return l.nodes[u]||l.marks[u]||null}function aZ(u,l){if(Array.isArray(l))return l.some((z)=>{return(typeof z==="string"?z:z.name)===u.name});return l}function G9(u,l){let z=N0.fromSchema(l).serializeFragment(u),U=document.implementation.createHTMLDocument().createElement("div");return U.appendChild(z),U.innerHTML}var qG=(u,l=500)=>{let z="",Q=u.parentOffset;return u.parent.nodesBetween(Math.max(0,Q-l),Q,(U,X,V,Z)=>{var Y,W;let L=((W=(Y=U.type.spec).toText)===null||W===void 0?void 0:W.call(Y,{node:U,pos:X,parent:V,index:Z}))||U.textContent||"%leaf%";z+=U.isAtom&&!U.isText?L:L.slice(0,Math.max(0,Q-X))}),z};function q9(u){return Object.prototype.toString.call(u)==="[object RegExp]"}class j3{constructor(u){this.find=u.find,this.handler=u.handler}}var PG=(u,l)=>{if(q9(l))return l.exec(u);let z=l(u);if(!z)return null;let Q=[z.text];if(Q.index=z.index,Q.input=u,Q.data=z.data,z.replaceWith){if(!z.text.includes(z.replaceWith))console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".');Q.push(z.replaceWith)}return Q};function C8(u){var l;let{editor:z,from:Q,to:U,text:X,rules:V,plugin:Z}=u,{view:Y}=z;if(Y.composing)return!1;let W=Y.state.doc.resolve(Q);if(W.parent.type.spec.code||!!((l=W.nodeBefore||W.nodeAfter)===null||l===void 0?void 0:l.marks.find((J)=>J.type.spec.code)))return!1;let L=!1,H=qG(W)+X;return V.forEach((J)=>{if(L)return;let K=PG(H,J.find);if(!K)return;let _=Y.state.tr,q=N8({state:Y.state,transaction:_}),E={from:Q-(K[0].length-X.length),to:U},{commands:G,chain:P,can:C}=new F3({editor:z,state:q});if(J.handler({state:q,range:E,match:K,commands:G,chain:P,can:C})===null||!_.steps.length)return;_.setMeta(Z,{transform:_,from:Q,to:U,text:X}),Y.dispatch(_),L=!0}),L}function EG(u){let{editor:l,rules:z}=u,Q=new s({state:{init(){return null},apply(U,X,V){let Z=U.getMeta(Q);if(Z)return Z;let Y=U.getMeta("applyInputRules");if(!!Y)setTimeout(()=>{let{text:L}=Y;if(typeof L==="string")L=L;else L=G9(I.from(L),V.schema);let{from:H}=Y,J=H+L.length;C8({editor:l,from:H,to:J,text:L,rules:z,plugin:Q})});return U.selectionSet||U.docChanged?null:X}},props:{handleTextInput(U,X,V,Z){return C8({editor:l,from:X,to:V,text:Z,rules:z,plugin:Q})},handleDOMEvents:{compositionend:(U)=>{return setTimeout(()=>{let{$cursor:X}=U.state.selection;if(X)C8({editor:l,from:X.pos,to:X.pos,text:"",rules:z,plugin:Q})}),!1}},handleKeyDown(U,X){if(X.key!=="Enter")return!1;let{$cursor:V}=U.state.selection;if(V)return C8({editor:l,from:V.pos,to:V.pos,text:`
`,rules:z,plugin:Q});return!1}},isInputRules:!0});return Q}function CG(u){return Object.prototype.toString.call(u).slice(8,-1)}function B8(u){if(CG(u)!=="Object")return!1;return u.constructor===Object&&Object.getPrototypeOf(u)===Object.prototype}function O8(u,l){let z={...u};if(B8(u)&&B8(l))Object.keys(l).forEach((Q)=>{if(B8(l[Q])&&B8(u[Q]))z[Q]=O8(u[Q],l[Q]);else z[Q]=l[Q]});return z}class Z0{constructor(u={}){if(this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...u},this.name=this.config.name,u.defaultOptions&&Object.keys(u.defaultOptions).length>0)console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`);if(this.options=this.config.defaultOptions,this.config.addOptions)this.options=f(M(this,"addOptions",{name:this.name}));this.storage=f(M(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(u={}){return new Z0(u)}configure(u={}){let l=this.extend({...this.config,addOptions:()=>{return O8(this.options,u)}});return l.name=this.name,l.parent=this.parent,l}extend(u={}){let l=new Z0(u);if(l.parent=this,this.child=l,l.name=u.name?u.name:l.parent.name,u.defaultOptions&&Object.keys(u.defaultOptions).length>0)console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${l.name}".`);return l.options=f(M(l,"addOptions",{name:l.name})),l.storage=f(M(l,"addStorage",{name:l.name,options:l.options})),l}static handleExit({editor:u,mark:l}){let{tr:z}=u.state,Q=u.state.selection.$from;if(Q.pos===Q.end()){let X=Q.marks();if(!X.find((Y)=>(Y===null||Y===void 0?void 0:Y.type.name)===l.name))return!1;let Z=X.find((Y)=>(Y===null||Y===void 0?void 0:Y.type.name)===l.name);if(Z)z.removeStoredMark(Z);return z.insertText(" ",Q.pos),u.view.dispatch(z),!0}return!1}}function BG(u){return typeof u==="number"}class QY{constructor(u){this.find=u.find,this.handler=u.handler}}var IG=(u,l,z)=>{if(q9(l))return[...u.matchAll(l)];let Q=l(u,z);if(!Q)return[];return Q.map((U)=>{let X=[U.text];if(X.index=U.index,X.input=u,X.data=U.data,U.replaceWith){if(!U.text.includes(U.replaceWith))console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".');X.push(U.replaceWith)}return X})};function FG(u){let{editor:l,state:z,from:Q,to:U,rule:X,pasteEvent:V,dropEvent:Z}=u,{commands:Y,chain:W,can:L}=new F3({editor:l,state:z}),H=[];return z.doc.nodesBetween(Q,U,(K,_)=>{if(!K.isTextblock||K.type.spec.code)return;let q=Math.max(Q,_),E=Math.min(U,_+K.content.size),G=K.textBetween(q-_,E-_,void 0,"");IG(G,X.find,V).forEach((C)=>{if(C.index===void 0)return;let B=q+C.index+1,y=B+C[0].length,R={from:z.tr.mapping.map(B),to:z.tr.mapping.map(y)},A=X.handler({state:z,range:R,match:C,commands:Y,chain:W,can:L,pasteEvent:V,dropEvent:Z});H.push(A)})}),H.every((K)=>K!==null)}var I8=null,jG=(u)=>{var l;let z=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(l=z.clipboardData)===null||l===void 0||l.setData("text/html",u),z};function yG(u){let{editor:l,rules:z}=u,Q=null,U=!1,X=!1,V=typeof ClipboardEvent!=="undefined"?new ClipboardEvent("paste"):null,Z;try{Z=typeof DragEvent!=="undefined"?new DragEvent("drop"):null}catch{Z=null}let Y=({state:L,from:H,to:J,rule:K,pasteEvt:_})=>{let q=L.tr,E=N8({state:L,transaction:q});if(!FG({editor:l,state:E,from:Math.max(H-1,0),to:J.b-1,rule:K,pasteEvent:_,dropEvent:Z})||!q.steps.length)return;try{Z=typeof DragEvent!=="undefined"?new DragEvent("drop"):null}catch{Z=null}return V=typeof ClipboardEvent!=="undefined"?new ClipboardEvent("paste"):null,q};return z.map((L)=>{return new s({view(H){let J=(_)=>{var q;if(Q=((q=H.dom.parentElement)===null||q===void 0?void 0:q.contains(_.target))?H.dom.parentElement:null,Q)I8=l},K=()=>{if(I8)I8=null};return window.addEventListener("dragstart",J),window.addEventListener("dragend",K),{destroy(){window.removeEventListener("dragstart",J),window.removeEventListener("dragend",K)}}},props:{handleDOMEvents:{drop:(H,J)=>{if(X=Q===H.dom.parentElement,Z=J,!X){let K=I8;if(K===null||K===void 0?void 0:K.isEditable)setTimeout(()=>{let _=K.state.selection;if(_)K.commands.deleteRange({from:_.from,to:_.to})},10)}return!1},paste:(H,J)=>{var K;let _=(K=J.clipboardData)===null||K===void 0?void 0:K.getData("text/html");return V=J,U=!!(_===null||_===void 0?void 0:_.includes("data-pm-slice")),!1}}},appendTransaction:(H,J,K)=>{let _=H[0],q=_.getMeta("uiEvent")==="paste"&&!U,E=_.getMeta("uiEvent")==="drop"&&!X,G=_.getMeta("applyPasteRules"),P=!!G;if(!q&&!E&&!P)return;if(P){let{text:y}=G;if(typeof y==="string")y=y;else y=G9(I.from(y),K.schema);let{from:R}=G,A=R+y.length,F=jG(y);return Y({rule:L,state:K,from:R,to:{b:A},pasteEvt:F})}let C=J.doc.content.findDiffStart(K.doc.content),B=J.doc.content.findDiffEnd(K.doc.content);if(!BG(C)||!B||C===B.b)return;return Y({rule:L,state:K,from:C,to:B,pasteEvt:V})}})})}function RG(u){let l=u.filter((z,Q)=>u.indexOf(z)!==Q);return Array.from(new Set(l))}class Q2{constructor(u,l){this.splittableMarks=[],this.editor=l,this.extensions=Q2.resolve(u),this.schema=GG(this.extensions,l),this.setupExtensions()}static resolve(u){let l=Q2.sort(Q2.flatten(u)),z=RG(l.map((Q)=>Q.name));if(z.length)console.warn(`[tiptap warn]: Duplicate extension names found: [${z.map((Q)=>`'${Q}'`).join(", ")}]. This can lead to issues.`);return l}static flatten(u){return u.map((l)=>{let z={name:l.name,options:l.options,storage:l.storage},Q=M(l,"addExtensions",z);if(Q)return[l,...this.flatten(Q())];return l}).flat(10)}static sort(u){return u.sort((z,Q)=>{let U=M(z,"priority")||100,X=M(Q,"priority")||100;if(U>X)return-1;if(U<X)return 1;return 0})}get commands(){return this.extensions.reduce((u,l)=>{let z={name:l.name,options:l.options,storage:l.storage,editor:this.editor,type:L9(l.name,this.schema)},Q=M(l,"addCommands",z);if(!Q)return u;return{...u,...Q()}},{})}get plugins(){let{editor:u}=this,l=Q2.sort([...this.extensions].reverse()),z=[],Q=[],U=l.map((X)=>{let V={name:X.name,options:X.options,storage:X.storage,editor:u,type:L9(X.name,this.schema)},Z=[],Y=M(X,"addKeyboardShortcuts",V),W={};if(X.type==="mark"&&M(X,"exitable",V))W.ArrowRight=()=>Z0.handleExit({editor:u,mark:X});if(Y){let _=Object.fromEntries(Object.entries(Y()).map(([q,E])=>{return[q,()=>E({editor:u})]}));W={...W,..._}}let L=TZ(W);Z.push(L);let H=M(X,"addInputRules",V);if(aZ(X,u.options.enableInputRules)&&H)z.push(...H());let J=M(X,"addPasteRules",V);if(aZ(X,u.options.enablePasteRules)&&J)Q.push(...J());let K=M(X,"addProseMirrorPlugins",V);if(K){let _=K();Z.push(..._)}return Z}).flat();return[EG({editor:u,rules:z}),...yG({editor:u,rules:Q}),...U]}get attributes(){return lY(this.extensions)}get nodeViews(){let{editor:u}=this,{nodeExtensions:l}=A8(this.extensions);return Object.fromEntries(l.filter((z)=>!!M(z,"addNodeView")).map((z)=>{let Q=this.attributes.filter((Z)=>Z.type===z.name),U={name:z.name,options:z.options,storage:z.storage,editor:u,type:Hu(z.name,this.schema)},X=M(z,"addNodeView",U);if(!X)return[];let V=(Z,Y,W,L,H)=>{let J=y8(Z,Q);return X()({node:Z,view:Y,getPos:W,decorations:L,innerDecorations:H,editor:u,extension:z,HTMLAttributes:J})};return[z.name,V]}))}setupExtensions(){this.extensions.forEach((u)=>{var l;this.editor.extensionStorage[u.name]=u.storage;let z={name:u.name,options:u.options,storage:u.storage,editor:this.editor,type:L9(u.name,this.schema)};if(u.type==="mark"){if((l=f(M(u,"keepOnSplit",z)))!==null&&l!==void 0?l:!0)this.splittableMarks.push(u.name)}let Q=M(u,"onBeforeCreate",z),U=M(u,"onCreate",z),X=M(u,"onUpdate",z),V=M(u,"onSelectionUpdate",z),Z=M(u,"onTransaction",z),Y=M(u,"onFocus",z),W=M(u,"onBlur",z),L=M(u,"onDestroy",z);if(Q)this.editor.on("beforeCreate",Q);if(U)this.editor.on("create",U);if(X)this.editor.on("update",X);if(V)this.editor.on("selectionUpdate",V);if(Z)this.editor.on("transaction",Z);if(Y)this.editor.on("focus",Y);if(W)this.editor.on("blur",W);if(L)this.editor.on("destroy",L)})}}class Uu{constructor(u={}){if(this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...u},this.name=this.config.name,u.defaultOptions&&Object.keys(u.defaultOptions).length>0)console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`);if(this.options=this.config.defaultOptions,this.config.addOptions)this.options=f(M(this,"addOptions",{name:this.name}));this.storage=f(M(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(u={}){return new Uu(u)}configure(u={}){let l=this.extend({...this.config,addOptions:()=>{return O8(this.options,u)}});return l.name=this.name,l.parent=this.parent,l}extend(u={}){let l=new Uu({...this.config,...u});if(l.parent=this,this.child=l,l.name=u.name?u.name:l.parent.name,u.defaultOptions&&Object.keys(u.defaultOptions).length>0)console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${l.name}".`);return l.options=f(M(l,"addOptions",{name:l.name})),l.storage=f(M(l,"addStorage",{name:l.name,options:l.options})),l}}function UY(u,l,z){let{from:Q,to:U}=l,{blockSeparator:X=`

`,textSerializers:V={}}=z||{},Z="";return u.nodesBetween(Q,U,(Y,W,L,H)=>{var J;if(Y.isBlock&&W>Q)Z+=X;let K=V===null||V===void 0?void 0:V[Y.type.name];if(K){if(L)Z+=K({node:Y,pos:W,parent:L,index:H,range:l});return!1}if(Y.isText)Z+=(J=Y===null||Y===void 0?void 0:Y.text)===null||J===void 0?void 0:J.slice(Math.max(Q,W)-W,U-W)}),Z}function XY(u){return Object.fromEntries(Object.entries(u.nodes).filter(([,l])=>l.spec.toText).map(([l,z])=>[l,z.spec.toText]))}var NG=Uu.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new s({key:new Nu("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{let{editor:u}=this,{state:l,schema:z}=u,{doc:Q,selection:U}=l,{ranges:X}=U,V=Math.min(...X.map((L)=>L.$from.pos)),Z=Math.max(...X.map((L)=>L.$to.pos)),Y=XY(z);return UY(Q,{from:V,to:Z},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:Y})}}})]}}),AG=()=>({editor:u,view:l})=>{return requestAnimationFrame(()=>{var z;if(!u.isDestroyed)l.dom.blur(),(z=window===null||window===void 0?void 0:window.getSelection())===null||z===void 0||z.removeAllRanges()}),!0},OG=(u=!1)=>({commands:l})=>{return l.setContent("",u)},MG=()=>({state:u,tr:l,dispatch:z})=>{let{selection:Q}=l,{ranges:U}=Q;if(!z)return!0;return U.forEach(({$from:X,$to:V})=>{u.doc.nodesBetween(X.pos,V.pos,(Z,Y)=>{if(Z.type.isText)return;let{doc:W,mapping:L}=l,H=W.resolve(L.map(Y)),J=W.resolve(L.map(Y+Z.nodeSize)),K=H.blockRange(J);if(!K)return;let _=m0(K);if(Z.type.isTextblock){let{defaultType:q}=H.parent.contentMatchAt(H.index());l.setNodeMarkup(K.start,q)}if(_||_===0)l.lift(K,_)})}),!0},TG=(u)=>(l)=>{return u(l)},DG=()=>({state:u,dispatch:l})=>{return U9(u,l)},SG=(u,l)=>({editor:z,tr:Q})=>{let{state:U}=z,X=U.doc.slice(u.from,u.to);Q.deleteRange(u.from,u.to);let V=Q.mapping.map(l);return Q.insert(V,X.content),Q.setSelection(new D(Q.doc.resolve(Math.max(V-1,0)))),!0},kG=()=>({tr:u,dispatch:l})=>{let{selection:z}=u,Q=z.$anchor.node();if(Q.content.size>0)return!1;let U=u.selection.$anchor;for(let X=U.depth;X>0;X-=1)if(U.node(X).type===Q.type){if(l){let Z=U.before(X),Y=U.after(X);u.delete(Z,Y).scrollIntoView()}return!0}return!1},fG=(u)=>({tr:l,state:z,dispatch:Q})=>{let U=Hu(u,z.schema),X=l.selection.$anchor;for(let V=X.depth;V>0;V-=1)if(X.node(V).type===U){if(Q){let Y=X.before(V),W=X.after(V);l.delete(Y,W).scrollIntoView()}return!0}return!1},$G=(u)=>({tr:l,dispatch:z})=>{let{from:Q,to:U}=u;if(z)l.delete(Q,U);return!0},xG=()=>({state:u,dispatch:l})=>{return E8(u,l)},gG=()=>({commands:u})=>{return u.keyboardShortcut("Enter")},wG=()=>({state:u,dispatch:l})=>{return Q9(u,l)};function R8(u,l,z={strict:!0}){let Q=Object.keys(l);if(!Q.length)return!0;return Q.every((U)=>{if(z.strict)return l[U]===u[U];if(q9(l[U]))return l[U].test(u[U]);return l[U]===u[U]})}function VY(u,l,z={}){return u.find((Q)=>{return Q.type===l&&R8(Object.fromEntries(Object.keys(z).map((U)=>[U,Q.attrs[U]])),z)})}function sZ(u,l,z={}){return!!VY(u,l,z)}function P9(u,l,z){var Q;if(!u||!l)return;let U=u.parent.childAfter(u.parentOffset);if(!U.node||!U.node.marks.some((L)=>L.type===l))U=u.parent.childBefore(u.parentOffset);if(!U.node||!U.node.marks.some((L)=>L.type===l))return;if(z=z||((Q=U.node.marks[0])===null||Q===void 0?void 0:Q.attrs),!VY([...U.node.marks],l,z))return;let V=U.index,Z=u.start()+U.offset,Y=V+1,W=Z+U.node.nodeSize;while(V>0&&sZ([...u.parent.child(V-1).marks],l,z))V-=1,Z-=u.parent.child(V).nodeSize;while(Y<u.parent.childCount&&sZ([...u.parent.child(Y).marks],l,z))W+=u.parent.child(Y).nodeSize,Y+=1;return{from:Z,to:W}}function M1(u,l){if(typeof u==="string"){if(!l.marks[u])throw Error(`There is no mark type named '${u}'. Maybe you forgot to add the extension?`);return l.marks[u]}return u}var vG=(u,l={})=>({tr:z,state:Q,dispatch:U})=>{let X=M1(u,Q.schema),{doc:V,selection:Z}=z,{$from:Y,from:W,to:L}=Z;if(U){let H=P9(Y,X,l);if(H&&H.from<=W&&H.to>=L){let J=D.create(V,H.from,H.to);z.setSelection(J)}}return!0},hG=(u)=>(l)=>{let z=typeof u==="function"?u(l):u;for(let Q=0;Q<z.length;Q+=1)if(z[Q](l))return!0;return!1};function ZY(u){return u instanceof D}function Zl(u=0,l=0,z=0){return Math.min(Math.max(u,l),z)}function YY(u,l=null){if(!l)return null;let z=k.atStart(u),Q=k.atEnd(u);if(l==="start"||l===!0)return z;if(l==="end")return Q;let U=z.from,X=Q.to;if(l==="all")return D.create(u,Zl(0,U,X),Zl(u.content.size,U,X));return D.create(u,Zl(l,U,X),Zl(l,U,X))}function bG(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function E9(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var cG=(u=null,l={})=>({editor:z,view:Q,tr:U,dispatch:X})=>{l={scrollIntoView:!0,...l};let V=()=>{if(E9()||bG())Q.dom.focus();requestAnimationFrame(()=>{if(!z.isDestroyed){if(Q.focus(),l===null||l===void 0?void 0:l.scrollIntoView)z.commands.scrollIntoView()}})};if(Q.hasFocus()&&u===null||u===!1)return!0;if(X&&u===null&&!ZY(z.state.selection))return V(),!0;let Z=YY(U.doc,u)||z.state.selection,Y=z.state.selection.eq(Z);if(X){if(!Y)U.setSelection(Z);if(Y&&U.storedMarks)U.setStoredMarks(U.storedMarks);V()}return!0},mG=(u,l)=>(z)=>{return u.every((Q,U)=>l(Q,{...z,index:U}))},nG=(u,l)=>({tr:z,commands:Q})=>{return Q.insertContentAt({from:z.selection.from,to:z.selection.to},u,l)},WY=(u)=>{let l=u.childNodes;for(let z=l.length-1;z>=0;z-=1){let Q=l[z];if(Q.nodeType===3&&Q.nodeValue&&/^(\n\s\s|\n)$/.test(Q.nodeValue))u.removeChild(Q);else if(Q.nodeType===1)WY(Q)}return u};function F8(u){let l=`<body>${u}</body>`,z=new window.DOMParser().parseFromString(l,"text/html").body;return WY(z)}function B3(u,l,z){if(u instanceof pu||u instanceof I)return u;z={slice:!0,parseOptions:{},...z};let Q=typeof u==="object"&&u!==null,U=typeof u==="string";if(Q)try{if(Array.isArray(u)&&u.length>0)return I.fromArray(u.map((Z)=>l.nodeFromJSON(Z)));let V=l.nodeFromJSON(u);if(z.errorOnInvalidContent)V.check();return V}catch(X){if(z.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:X});return console.warn("[tiptap warn]: Invalid content.","Passed value:",u,"Error:",X),B3("",l,z)}if(U){if(z.errorOnInvalidContent){let V=!1,Z="",Y=new u8({topNode:l.spec.topNode,marks:l.spec.marks,nodes:l.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:(W)=>{return V=!0,Z=typeof W==="string"?W:W.outerHTML,null}}]}})});if(z.slice)q0.fromSchema(Y).parseSlice(F8(u),z.parseOptions);else q0.fromSchema(Y).parse(F8(u),z.parseOptions);if(z.errorOnInvalidContent&&V)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${Z}`)})}let X=q0.fromSchema(l);if(z.slice)return X.parseSlice(F8(u),z.parseOptions).content;return X.parse(F8(u),z.parseOptions)}return B3("",l,z)}function iG(u,l,z){let Q=u.steps.length-1;if(Q<l)return;let U=u.steps[Q];if(!(U instanceof Qu||U instanceof e))return;let X=u.mapping.maps[Q],V=0;X.forEach((Z,Y,W,L)=>{if(V===0)V=L}),u.setSelection(k.near(u.doc.resolve(V),z))}var rG=(u)=>{return!("type"in u)},pG=(u,l,z)=>({tr:Q,dispatch:U,editor:X})=>{var V;if(U){z={parseOptions:X.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...z};let Z,Y=(E)=>{X.emit("contentError",{editor:X,error:E,disableCollaboration:()=>{if(X.storage.collaboration)X.storage.collaboration.isDisabled=!0}})},W={preserveWhitespace:"full",...z.parseOptions};if(!z.errorOnInvalidContent&&!X.options.enableContentCheck&&X.options.emitContentError)try{B3(l,X.schema,{parseOptions:W,errorOnInvalidContent:!0})}catch(E){Y(E)}try{Z=B3(l,X.schema,{parseOptions:W,errorOnInvalidContent:(V=z.errorOnInvalidContent)!==null&&V!==void 0?V:X.options.enableContentCheck})}catch(E){return Y(E),!1}let{from:L,to:H}=typeof u==="number"?{from:u,to:u}:{from:u.from,to:u.to},J=!0,K=!0;if((rG(Z)?Z:[Z]).forEach((E)=>{E.check(),J=J?E.isText&&E.marks.length===0:!1,K=K?E.isBlock:!1}),L===H&&K){let{parent:E}=Q.doc.resolve(L);if(E.isTextblock&&!E.type.spec.code&&!E.childCount)L-=1,H+=1}let q;if(J){if(Array.isArray(l))q=l.map((E)=>E.text||"").join("");else if(l instanceof I){let E="";l.forEach((G)=>{if(G.text)E+=G.text}),q=E}else if(typeof l==="object"&&!!l&&!!l.text)q=l.text;else q=l;Q.insertText(q,L,H)}else q=Z,Q.replaceWith(L,H,q);if(z.updateSelection)iG(Q,Q.steps.length-1,-1);if(z.applyInputRules)Q.setMeta("applyInputRules",{from:L,text:q});if(z.applyPasteRules)Q.setMeta("applyPasteRules",{from:L,text:q})}return!0},dG=()=>({state:u,dispatch:l})=>{return gZ(u,l)},aG=()=>({state:u,dispatch:l})=>{return wZ(u,l)},sG=()=>({state:u,dispatch:l})=>{return az(u,l)},oG=()=>({state:u,dispatch:l})=>{return tz(u,l)},tG=()=>({state:u,dispatch:l,tr:z})=>{try{let Q=rl(u.doc,u.selection.$from.pos,-1);if(Q===null||Q===void 0)return!1;if(z.join(Q,2),l)l(z);return!0}catch{return!1}},eG=()=>({state:u,dispatch:l,tr:z})=>{try{let Q=rl(u.doc,u.selection.$from.pos,1);if(Q===null||Q===void 0)return!1;if(z.join(Q,2),l)l(z);return!0}catch{return!1}},uq=()=>({state:u,dispatch:l})=>{return kZ(u,l)},lq=()=>({state:u,dispatch:l})=>{return fZ(u,l)};function LY(){return typeof navigator!=="undefined"?/Mac/.test(navigator.platform):!1}function zq(u){let l=u.split(/-(?!$)/),z=l[l.length-1];if(z==="Space")z=" ";let Q,U,X,V;for(let Z=0;Z<l.length-1;Z+=1){let Y=l[Z];if(/^(cmd|meta|m)$/i.test(Y))V=!0;else if(/^a(lt)?$/i.test(Y))Q=!0;else if(/^(c|ctrl|control)$/i.test(Y))U=!0;else if(/^s(hift)?$/i.test(Y))X=!0;else if(/^mod$/i.test(Y))if(E9()||LY())V=!0;else U=!0;else throw new Error(`Unrecognized modifier name: ${Y}`)}if(Q)z=`Alt-${z}`;if(U)z=`Ctrl-${z}`;if(V)z=`Meta-${z}`;if(X)z=`Shift-${z}`;return z}var Qq=(u)=>({editor:l,view:z,tr:Q,dispatch:U})=>{let X=zq(u).split(/-(?!$)/),V=X.find((W)=>!["Alt","Ctrl","Meta","Shift"].includes(W)),Z=new KeyboardEvent("keydown",{key:V==="Space"?" ":V,altKey:X.includes("Alt"),ctrlKey:X.includes("Ctrl"),metaKey:X.includes("Meta"),shiftKey:X.includes("Shift"),bubbles:!0,cancelable:!0}),Y=l.captureTransaction(()=>{z.someProp("handleKeyDown",(W)=>W(z,Z))});return Y===null||Y===void 0||Y.steps.forEach((W)=>{let L=W.map(Q.mapping);if(L&&U)Q.maybeStep(L)}),!0};function I3(u,l,z={}){let{from:Q,to:U,empty:X}=u.selection,V=l?Hu(l,u.schema):null,Z=[];u.doc.nodesBetween(Q,U,(H,J)=>{if(H.isText)return;let K=Math.max(Q,J),_=Math.min(U,J+H.nodeSize);Z.push({node:H,from:K,to:_})});let Y=U-Q,W=Z.filter((H)=>{if(!V)return!0;return V.name===H.node.type.name}).filter((H)=>R8(H.node.attrs,z,{strict:!1}));if(X)return!!W.length;return W.reduce((H,J)=>H+J.to-J.from,0)>=Y}var Uq=(u,l={})=>({state:z,dispatch:Q})=>{let U=Hu(u,z.schema);if(!I3(z,U,l))return!1;return vZ(z,Q)},Xq=()=>({state:u,dispatch:l})=>{return X9(u,l)},Vq=(u)=>({state:l,dispatch:z})=>{let Q=Hu(u,l.schema);return iZ(Q)(l,z)},Zq=()=>({state:u,dispatch:l})=>{return l9(u,l)};function M8(u,l){if(l.nodes[u])return"node";if(l.marks[u])return"mark";return null}function oZ(u,l){let z=typeof l==="string"?[l]:l;return Object.keys(u).reduce((Q,U)=>{if(!z.includes(U))Q[U]=u[U];return Q},{})}var Yq=(u,l)=>({tr:z,state:Q,dispatch:U})=>{let X=null,V=null,Z=M8(typeof u==="string"?u:u.name,Q.schema);if(!Z)return!1;if(Z==="node")X=Hu(u,Q.schema);if(Z==="mark")V=M1(u,Q.schema);if(U)z.selection.ranges.forEach((Y)=>{Q.doc.nodesBetween(Y.$from.pos,Y.$to.pos,(W,L)=>{if(X&&X===W.type)z.setNodeMarkup(L,void 0,oZ(W.attrs,l));if(V&&W.marks.length)W.marks.forEach((H)=>{if(V===H.type)z.addMark(L,L+W.nodeSize,V.create(oZ(H.attrs,l)))})})});return!0},Wq=()=>({tr:u,dispatch:l})=>{if(l)u.scrollIntoView();return!0},Lq=()=>({tr:u,dispatch:l})=>{if(l){let z=new qu(u.doc);u.setSelection(z)}return!0},Hq=()=>({state:u,dispatch:l})=>{return sz(u,l)},Jq=()=>({state:u,dispatch:l})=>{return ez(u,l)},_q=()=>({state:u,dispatch:l})=>{return hZ(u,l)},Kq=()=>({state:u,dispatch:l})=>{return Z9(u,l)},Gq=()=>({state:u,dispatch:l})=>{return V9(u,l)};function _9(u,l,z={},Q={}){return B3(u,l,{slice:!1,parseOptions:z,errorOnInvalidContent:Q.errorOnInvalidContent})}var qq=(u,l=!1,z={},Q={})=>({editor:U,tr:X,dispatch:V,commands:Z})=>{var Y,W;let{doc:L}=X;if(z.preserveWhitespace!=="full"){let H=_9(u,U.schema,z,{errorOnInvalidContent:(Y=Q.errorOnInvalidContent)!==null&&Y!==void 0?Y:U.options.enableContentCheck});if(V)X.replaceWith(0,L.content.size,H).setMeta("preventUpdate",!l);return!0}if(V)X.setMeta("preventUpdate",!l);return Z.insertContentAt({from:0,to:L.content.size},u,{parseOptions:z,errorOnInvalidContent:(W=Q.errorOnInvalidContent)!==null&&W!==void 0?W:U.options.enableContentCheck})};function HY(u,l){let z=M1(l,u.schema),{from:Q,to:U,empty:X}=u.selection,V=[];if(X){if(u.storedMarks)V.push(...u.storedMarks);V.push(...u.selection.$head.marks())}else u.doc.nodesBetween(Q,U,(Y)=>{V.push(...Y.marks)});let Z=V.find((Y)=>Y.type.name===z.name);if(!Z)return{};return{...Z.attrs}}function Pq(u){for(let l=0;l<u.edgeCount;l+=1){let{type:z}=u.edge(l);if(z.isTextblock&&!z.hasRequiredAttrs())return z}return null}function Eq(u,l){for(let z=u.depth;z>0;z-=1){let Q=u.node(z);if(l(Q))return{pos:z>0?u.before(z):0,start:u.start(z),depth:z,node:Q}}}function C9(u){return(l)=>Eq(l.$from,u)}function Cq(u,l){let z={from:0,to:u.content.size};return UY(u,z,l)}function Bq(u,l){let z=Hu(l,u.schema),{from:Q,to:U}=u.selection,X=[];u.doc.nodesBetween(Q,U,(Z)=>{X.push(Z)});let V=X.reverse().find((Z)=>Z.type.name===z.name);if(!V)return{};return{...V.attrs}}function Iq(u,l){let z=M8(typeof l==="string"?l:l.name,u.schema);if(z==="node")return Bq(u,l);if(z==="mark")return HY(u,l);return{}}function JY(u,l,z){let Q=[];if(u===l)z.resolve(u).marks().forEach((U)=>{let X=z.resolve(u),V=P9(X,U.type);if(!V)return;Q.push({mark:U,...V})});else z.nodesBetween(u,l,(U,X)=>{if(!U||(U===null||U===void 0?void 0:U.nodeSize)===void 0)return;Q.push(...U.marks.map((V)=>({from:X,to:X+U.nodeSize,mark:V})))});return Q}function j8(u,l,z){return Object.fromEntries(Object.entries(z).filter(([Q])=>{let U=u.find((X)=>{return X.type===l&&X.name===Q});if(!U)return!1;return U.attribute.keepOnSplit}))}function K9(u,l,z={}){let{empty:Q,ranges:U}=u.selection,X=l?M1(l,u.schema):null;if(Q)return!!(u.storedMarks||u.selection.$from.marks()).filter((H)=>{if(!X)return!0;return X.name===H.type.name}).find((H)=>R8(H.attrs,z,{strict:!1}));let V=0,Z=[];if(U.forEach(({$from:H,$to:J})=>{let K=H.pos,_=J.pos;u.doc.nodesBetween(K,_,(q,E)=>{if(!q.isText&&!q.marks.length)return;let G=Math.max(K,E),P=Math.min(_,E+q.nodeSize),C=P-G;V+=C,Z.push(...q.marks.map((B)=>({mark:B,from:G,to:P})))})}),V===0)return!1;let Y=Z.filter((H)=>{if(!X)return!0;return X.name===H.mark.type.name}).filter((H)=>R8(H.mark.attrs,z,{strict:!1})).reduce((H,J)=>H+J.to-J.from,0),W=Z.filter((H)=>{if(!X)return!0;return H.mark.type!==X&&H.mark.type.excludes(X)}).reduce((H,J)=>H+J.to-J.from,0);return(Y>0?Y+W:Y)>=V}function Fq(u,l,z={}){if(!l)return I3(u,null,z)||K9(u,null,z);let Q=M8(l,u.schema);if(Q==="node")return I3(u,l,z);if(Q==="mark")return K9(u,l,z);return!1}function tZ(u,l){let{nodeExtensions:z}=A8(l),Q=z.find((V)=>V.name===u);if(!Q)return!1;let U={name:Q.name,options:Q.options,storage:Q.storage},X=f(M(Q,"group",U));if(typeof X!=="string")return!1;return X.split(" ").includes("list")}function y3(u,{checkChildren:l=!0,ignoreWhitespace:z=!1}={}){var Q;if(z){if(u.type.name==="hardBreak")return!0;if(u.isText)return/^\s*$/m.test((Q=u.text)!==null&&Q!==void 0?Q:"")}if(u.isText)return!u.text;if(u.isAtom||u.isLeaf)return!1;if(u.content.childCount===0)return!0;if(l){let U=!0;return u.content.forEach((X)=>{if(U===!1)return;if(!y3(X,{ignoreWhitespace:z,checkChildren:l}))U=!1}),U}return!1}function _Y(u){return u instanceof T}function jq(u,l,z){var Q;let{selection:U}=l,X=null;if(ZY(U))X=U.$cursor;if(X){let Z=(Q=u.storedMarks)!==null&&Q!==void 0?Q:X.marks();return!!z.isInSet(Z)||!Z.some((Y)=>Y.type.excludes(z))}let{ranges:V}=U;return V.some(({$from:Z,$to:Y})=>{let W=Z.depth===0?u.doc.inlineContent&&u.doc.type.allowsMarkType(z):!1;return u.doc.nodesBetween(Z.pos,Y.pos,(L,H,J)=>{if(W)return!1;if(L.isInline){let K=!J||J.type.allowsMarkType(z),_=!!z.isInSet(L.marks)||!L.marks.some((q)=>q.type.excludes(z));W=K&&_}return!W}),W})}var yq=(u,l={})=>({tr:z,state:Q,dispatch:U})=>{let{selection:X}=z,{empty:V,ranges:Z}=X,Y=M1(u,Q.schema);if(U)if(V){let W=HY(Q,Y);z.addStoredMark(Y.create({...W,...l}))}else Z.forEach((W)=>{let L=W.$from.pos,H=W.$to.pos;Q.doc.nodesBetween(L,H,(J,K)=>{let _=Math.max(K,L),q=Math.min(K+J.nodeSize,H);if(J.marks.find((G)=>G.type===Y))J.marks.forEach((G)=>{if(Y===G.type)z.addMark(_,q,Y.create({...G.attrs,...l}))});else z.addMark(_,q,Y.create(l))})});return jq(Q,z,Y)},Rq=(u,l)=>({tr:z})=>{return z.setMeta(u,l),!0},Nq=(u,l={})=>({state:z,dispatch:Q,chain:U})=>{let X=Hu(u,z.schema),V;if(z.selection.$anchor.sameParent(z.selection.$head))V=z.selection.$anchor.parent.attrs;if(!X.isTextblock)return console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1;return U().command(({commands:Z})=>{if(Y9(X,{...V,...l})(z))return!0;return Z.clearNodes()}).command(({state:Z})=>{return Y9(X,{...V,...l})(Z,Q)}).run()},Aq=(u)=>({tr:l,dispatch:z})=>{if(z){let{doc:Q}=l,U=Zl(u,0,Q.content.size),X=T.create(Q,U);l.setSelection(X)}return!0},Oq=(u)=>({tr:l,dispatch:z})=>{if(z){let{doc:Q}=l,{from:U,to:X}=typeof u==="number"?{from:u,to:u}:u,V=D.atStart(Q).from,Z=D.atEnd(Q).to,Y=Zl(U,V,Z),W=Zl(X,V,Z),L=D.create(Q,Y,W);l.setSelection(L)}return!0},Mq=(u)=>({state:l,dispatch:z})=>{let Q=Hu(u,l.schema);return rZ(Q)(l,z)};function eZ(u,l){let z=u.storedMarks||u.selection.$to.parentOffset&&u.selection.$from.marks();if(z){let Q=z.filter((U)=>l===null||l===void 0?void 0:l.includes(U.type.name));u.tr.ensureMarks(Q)}}var Tq=({keepMarks:u=!0}={})=>({tr:l,state:z,dispatch:Q,editor:U})=>{let{selection:X,doc:V}=l,{$from:Z,$to:Y}=X,W=U.extensionManager.attributes,L=j8(W,Z.node().type.name,Z.node().attrs);if(X instanceof T&&X.node.isBlock){if(!Z.parentOffset||!z0(V,Z.pos))return!1;if(Q){if(u)eZ(z,U.extensionManager.splittableMarks);l.split(Z.pos).scrollIntoView()}return!0}if(!Z.parent.isBlock)return!1;let H=Y.parentOffset===Y.parent.content.size,J=Z.depth===0?void 0:Pq(Z.node(-1).contentMatchAt(Z.indexAfter(-1))),K=H&&J?[{type:J,attrs:L}]:void 0,_=z0(l.doc,l.mapping.map(Z.pos),1,K);if(!K&&!_&&z0(l.doc,l.mapping.map(Z.pos),1,J?[{type:J}]:void 0))_=!0,K=J?[{type:J,attrs:L}]:void 0;if(Q){if(_){if(X instanceof D)l.deleteSelection();if(l.split(l.mapping.map(Z.pos),1,K),J&&!H&&!Z.parentOffset&&Z.parent.type!==J){let q=l.mapping.map(Z.before()),E=l.doc.resolve(q);if(Z.node(-1).canReplaceWith(E.index(),E.index()+1,J))l.setNodeMarkup(l.mapping.map(Z.before()),J)}}if(u)eZ(z,U.extensionManager.splittableMarks);l.scrollIntoView()}return _},Dq=(u,l={})=>({tr:z,state:Q,dispatch:U,editor:X})=>{var V;let Z=Hu(u,Q.schema),{$from:Y,$to:W}=Q.selection,L=Q.selection.node;if(L&&L.isBlock||Y.depth<2||!Y.sameParent(W))return!1;let H=Y.node(-1);if(H.type!==Z)return!1;let J=X.extensionManager.attributes;if(Y.parent.content.size===0&&Y.node(-1).childCount===Y.indexAfter(-1)){if(Y.depth===2||Y.node(-3).type!==Z||Y.index(-2)!==Y.node(-2).childCount-1)return!1;if(U){let G=I.empty,P=Y.index(-1)?1:Y.index(-2)?2:3;for(let F=Y.depth-P;F>=Y.depth-3;F-=1)G=I.from(Y.node(F).copy(G));let C=Y.indexAfter(-1)<Y.node(-2).childCount?1:Y.indexAfter(-2)<Y.node(-3).childCount?2:3,B={...j8(J,Y.node().type.name,Y.node().attrs),...l},y=((V=Z.contentMatch.defaultType)===null||V===void 0?void 0:V.createAndFill(B))||void 0;G=G.append(I.from(Z.createAndFill(null,y)||void 0));let R=Y.before(Y.depth-(P-1));z.replace(R,Y.after(-C),new N(G,4-P,0));let A=-1;if(z.doc.nodesBetween(R,z.doc.content.size,(F,x)=>{if(A>-1)return!1;if(F.isTextblock&&F.content.size===0)A=x+1}),A>-1)z.setSelection(D.near(z.doc.resolve(A)));z.scrollIntoView()}return!0}let K=W.pos===Y.end()?H.contentMatchAt(0).defaultType:null,_={...j8(J,H.type.name,H.attrs),...l},q={...j8(J,Y.node().type.name,Y.node().attrs),...l};z.delete(Y.pos,W.pos);let E=K?[{type:Z,attrs:_},{type:K,attrs:q}]:[{type:Z,attrs:_}];if(!z0(z.doc,Y.pos,2))return!1;if(U){let{selection:G,storedMarks:P}=Q,{splittableMarks:C}=X.extensionManager,B=P||G.$to.parentOffset&&G.$from.marks();if(z.split(Y.pos,2,E).scrollIntoView(),!B||!U)return!0;let y=B.filter((R)=>C.includes(R.type.name));z.ensureMarks(y)}return!0},H9=(u,l)=>{let z=C9((V)=>V.type===l)(u.selection);if(!z)return!0;let Q=u.doc.resolve(Math.max(0,z.pos-1)).before(z.depth);if(Q===void 0)return!0;let U=u.doc.nodeAt(Q);if(!(z.node.type===(U===null||U===void 0?void 0:U.type)&&P0(u.doc,z.pos)))return!0;return u.join(z.pos),!0},J9=(u,l)=>{let z=C9((V)=>V.type===l)(u.selection);if(!z)return!0;let Q=u.doc.resolve(z.start).after(z.depth);if(Q===void 0)return!0;let U=u.doc.nodeAt(Q);if(!(z.node.type===(U===null||U===void 0?void 0:U.type)&&P0(u.doc,Q)))return!0;return u.join(Q),!0},Sq=(u,l,z,Q={})=>({editor:U,tr:X,state:V,dispatch:Z,chain:Y,commands:W,can:L})=>{let{extensions:H,splittableMarks:J}=U.extensionManager,K=Hu(u,V.schema),_=Hu(l,V.schema),{selection:q,storedMarks:E}=V,{$from:G,$to:P}=q,C=G.blockRange(P),B=E||q.$to.parentOffset&&q.$from.marks();if(!C)return!1;let y=C9((R)=>tZ(R.type.name,H))(q);if(C.depth>=1&&y&&C.depth-y.depth<=1){if(y.node.type===K)return W.liftListItem(_);if(tZ(y.node.type.name,H)&&K.validContent(y.node.content)&&Z)return Y().command(()=>{return X.setNodeMarkup(y.pos,K),!0}).command(()=>H9(X,K)).command(()=>J9(X,K)).run()}if(!z||!B||!Z)return Y().command(()=>{if(L().wrapInList(K,Q))return!0;return W.clearNodes()}).wrapInList(K,Q).command(()=>H9(X,K)).command(()=>J9(X,K)).run();return Y().command(()=>{let R=L().wrapInList(K,Q),A=B.filter((F)=>J.includes(F.type.name));if(X.ensureMarks(A),R)return!0;return W.clearNodes()}).wrapInList(K,Q).command(()=>H9(X,K)).command(()=>J9(X,K)).run()},kq=(u,l={},z={})=>({state:Q,commands:U})=>{let{extendEmptyMarkRange:X=!1}=z,V=M1(u,Q.schema);if(K9(Q,V,l))return U.unsetMark(V,{extendEmptyMarkRange:X});return U.setMark(V,l)},fq=(u,l,z={})=>({state:Q,commands:U})=>{let X=Hu(u,Q.schema),V=Hu(l,Q.schema),Z=I3(Q,X,z),Y;if(Q.selection.$anchor.sameParent(Q.selection.$head))Y=Q.selection.$anchor.parent.attrs;if(Z)return U.setNode(V,Y);return U.setNode(X,{...Y,...z})},$q=(u,l={})=>({state:z,commands:Q})=>{let U=Hu(u,z.schema);if(I3(z,U,l))return Q.lift(U);return Q.wrapIn(U,l)},xq=()=>({state:u,dispatch:l})=>{let z=u.plugins;for(let Q=0;Q<z.length;Q+=1){let U=z[Q],X;if(U.spec.isInputRules&&(X=U.getState(u))){if(l){let V=u.tr,Z=X.transform;for(let Y=Z.steps.length-1;Y>=0;Y-=1)V.step(Z.steps[Y].invert(Z.docs[Y]));if(X.text){let Y=V.doc.resolve(X.from).marks();V.replaceWith(X.from,X.to,u.schema.text(X.text,Y))}else V.delete(X.from,X.to)}return!0}}return!1},gq=()=>({tr:u,dispatch:l})=>{let{selection:z}=u,{empty:Q,ranges:U}=z;if(Q)return!0;if(l)U.forEach((X)=>{u.removeMark(X.$from.pos,X.$to.pos)});return!0},wq=(u,l={})=>({tr:z,state:Q,dispatch:U})=>{var X;let{extendEmptyMarkRange:V=!1}=l,{selection:Z}=z,Y=M1(u,Q.schema),{$from:W,empty:L,ranges:H}=Z;if(!U)return!0;if(L&&V){let{from:J,to:K}=Z,_=(X=W.marks().find((E)=>E.type===Y))===null||X===void 0?void 0:X.attrs,q=P9(W,Y,_);if(q)J=q.from,K=q.to;z.removeMark(J,K,Y)}else H.forEach((J)=>{z.removeMark(J.$from.pos,J.$to.pos,Y)});return z.removeStoredMark(Y),!0},vq=(u,l={})=>({tr:z,state:Q,dispatch:U})=>{let X=null,V=null,Z=M8(typeof u==="string"?u:u.name,Q.schema);if(!Z)return!1;if(Z==="node")X=Hu(u,Q.schema);if(Z==="mark")V=M1(u,Q.schema);if(U)z.selection.ranges.forEach((Y)=>{let W=Y.$from.pos,L=Y.$to.pos,H,J,K,_;if(z.selection.empty)Q.doc.nodesBetween(W,L,(q,E)=>{if(X&&X===q.type)K=Math.max(E,W),_=Math.min(E+q.nodeSize,L),H=E,J=q});else Q.doc.nodesBetween(W,L,(q,E)=>{if(E<W&&X&&X===q.type)K=Math.max(E,W),_=Math.min(E+q.nodeSize,L),H=E,J=q;if(E>=W&&E<=L){if(X&&X===q.type)z.setNodeMarkup(E,void 0,{...q.attrs,...l});if(V&&q.marks.length)q.marks.forEach((G)=>{if(V===G.type){let P=Math.max(E,W),C=Math.min(E+q.nodeSize,L);z.addMark(P,C,V.create({...G.attrs,...l}))}})}});if(J){if(H!==void 0)z.setNodeMarkup(H,void 0,{...J.attrs,...l});if(V&&J.marks.length)J.marks.forEach((q)=>{if(V===q.type)z.addMark(K,_,V.create({...q.attrs,...l}))})}});return!0},hq=(u,l={})=>({state:z,dispatch:Q})=>{let U=Hu(u,z.schema);return mZ(U,l)(z,Q)},bq=(u,l={})=>({state:z,dispatch:Q})=>{let U=Hu(u,z.schema);return nZ(U,l)(z,Q)},cq=Object.freeze({__proto__:null,blur:AG,clearContent:OG,clearNodes:MG,command:TG,createParagraphNear:DG,cut:SG,deleteCurrentNode:kG,deleteNode:fG,deleteRange:$G,deleteSelection:xG,enter:gG,exitCode:wG,extendMarkRange:vG,first:hG,focus:cG,forEach:mG,insertContent:nG,insertContentAt:pG,joinBackward:sG,joinDown:aG,joinForward:oG,joinItemBackward:tG,joinItemForward:eG,joinTextblockBackward:uq,joinTextblockForward:lq,joinUp:dG,keyboardShortcut:Qq,lift:Uq,liftEmptyBlock:Xq,liftListItem:Vq,newlineInCode:Zq,resetAttributes:Yq,scrollIntoView:Wq,selectAll:Lq,selectNodeBackward:Hq,selectNodeForward:Jq,selectParentNode:_q,selectTextblockEnd:Kq,selectTextblockStart:Gq,setContent:qq,setMark:yq,setMeta:Rq,setNode:Nq,setNodeSelection:Aq,setTextSelection:Oq,sinkListItem:Mq,splitBlock:Tq,splitListItem:Dq,toggleList:Sq,toggleMark:kq,toggleNode:fq,toggleWrap:$q,undoInputRule:xq,unsetAllMarks:gq,unsetMark:wq,updateAttributes:vq,wrapIn:hq,wrapInList:bq}),mq=Uu.create({name:"commands",addCommands(){return{...cq}}}),nq=Uu.create({name:"drop",addProseMirrorPlugins(){return[new s({key:new Nu("tiptapDrop"),props:{handleDrop:(u,l,z,Q)=>{this.editor.emit("drop",{editor:this.editor,event:l,slice:z,moved:Q})}}})]}}),iq=Uu.create({name:"editable",addProseMirrorPlugins(){return[new s({key:new Nu("editable"),props:{editable:()=>this.editor.options.editable}})]}}),rq=new Nu("focusEvents"),pq=Uu.create({name:"focusEvents",addProseMirrorPlugins(){let{editor:u}=this;return[new s({key:rq,props:{handleDOMEvents:{focus:(l,z)=>{u.isFocused=!0;let Q=u.state.tr.setMeta("focus",{event:z}).setMeta("addToHistory",!1);return l.dispatch(Q),!1},blur:(l,z)=>{u.isFocused=!1;let Q=u.state.tr.setMeta("blur",{event:z}).setMeta("addToHistory",!1);return l.dispatch(Q),!1}}}})]}}),dq=Uu.create({name:"keymap",addKeyboardShortcuts(){let u=()=>this.editor.commands.first(({commands:V})=>[()=>V.undoInputRule(),()=>V.command(({tr:Z})=>{let{selection:Y,doc:W}=Z,{empty:L,$anchor:H}=Y,{pos:J,parent:K}=H,_=H.parent.isTextblock&&J>0?Z.doc.resolve(J-1):H,q=_.parent.type.spec.isolating,E=H.pos-H.parentOffset,G=q&&_.parent.childCount===1?E===H.pos:k.atStart(W).from===J;if(!L||!K.type.isTextblock||K.textContent.length||!G||G&&H.parent.type.name==="paragraph")return!1;return V.clearNodes()}),()=>V.deleteSelection(),()=>V.joinBackward(),()=>V.selectNodeBackward()]),l=()=>this.editor.commands.first(({commands:V})=>[()=>V.deleteSelection(),()=>V.deleteCurrentNode(),()=>V.joinForward(),()=>V.selectNodeForward()]),Q={Enter:()=>this.editor.commands.first(({commands:V})=>[()=>V.newlineInCode(),()=>V.createParagraphNear(),()=>V.liftEmptyBlock(),()=>V.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:u,"Mod-Backspace":u,"Shift-Backspace":u,Delete:l,"Mod-Delete":l,"Mod-a":()=>this.editor.commands.selectAll()},U={...Q},X={...Q,"Ctrl-h":u,"Alt-Backspace":u,"Ctrl-d":l,"Ctrl-Alt-Backspace":l,"Alt-Delete":l,"Alt-d":l,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};if(E9()||LY())return X;return U},addProseMirrorPlugins(){return[new s({key:new Nu("clearDocument"),appendTransaction:(u,l,z)=>{if(u.some((q)=>q.getMeta("composition")))return;let Q=u.some((q)=>q.docChanged)&&!l.doc.eq(z.doc),U=u.some((q)=>q.getMeta("preventClearDocument"));if(!Q||U)return;let{empty:X,from:V,to:Z}=l.selection,Y=k.atStart(l.doc).from,W=k.atEnd(l.doc).to;if(X||!(V===Y&&Z===W))return;if(!y3(z.doc))return;let J=z.tr,K=N8({state:z,transaction:J}),{commands:_}=new F3({editor:this.editor,state:K});if(_.clearNodes(),!J.steps.length)return;return J}})]}}),aq=Uu.create({name:"paste",addProseMirrorPlugins(){return[new s({key:new Nu("tiptapPaste"),props:{handlePaste:(u,l,z)=>{this.editor.emit("paste",{editor:this.editor,event:l,slice:z})}}})]}}),sq=Uu.create({name:"tabindex",addProseMirrorPlugins(){return[new s({key:new Nu("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Vl{get name(){return this.node.type.name}constructor(u,l,z=!1,Q=null){this.currentNode=null,this.actualDepth=null,this.isBlock=z,this.resolvedPos=u,this.editor=l,this.currentNode=Q}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var u;return(u=this.actualDepth)!==null&&u!==void 0?u:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(u){let l=this.from,z=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}l=this.from+1,z=this.to-1}this.editor.commands.insertContentAt({from:l,to:z},u)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){if(this.isBlock)return this.pos;return this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){if(this.isBlock)return this.pos+this.size;return this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;let u=this.resolvedPos.start(this.resolvedPos.depth-1),l=this.resolvedPos.doc.resolve(u);return new Vl(l,this.editor)}get before(){let u=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));if(u.depth!==this.depth)u=this.resolvedPos.doc.resolve(this.from-3);return new Vl(u,this.editor)}get after(){let u=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));if(u.depth!==this.depth)u=this.resolvedPos.doc.resolve(this.to+3);return new Vl(u,this.editor)}get children(){let u=[];return this.node.content.forEach((l,z)=>{let Q=l.isBlock&&!l.isTextblock,U=l.isAtom&&!l.isText,X=this.pos+z+(U?0:1);if(X<0||X>this.resolvedPos.doc.nodeSize-2)return;let V=this.resolvedPos.doc.resolve(X);if(!Q&&V.depth<=this.depth)return;let Z=new Vl(V,this.editor,Q,Q?l:null);if(Q)Z.actualDepth=this.depth+1;u.push(new Vl(V,this.editor,Q,Q?l:null))}),u}get firstChild(){return this.children[0]||null}get lastChild(){let u=this.children;return u[u.length-1]||null}closest(u,l={}){let z=null,Q=this.parent;while(Q&&!z){if(Q.node.type.name===u)if(Object.keys(l).length>0){let U=Q.node.attrs,X=Object.keys(l);for(let V=0;V<X.length;V+=1){let Z=X[V];if(U[Z]!==l[Z])break}}else z=Q;Q=Q.parent}return z}querySelector(u,l={}){return this.querySelectorAll(u,l,!0)[0]||null}querySelectorAll(u,l={},z=!1){let Q=[];if(!this.children||this.children.length===0)return Q;let U=Object.keys(l);return this.children.forEach((X)=>{if(z&&Q.length>0)return;if(X.node.type.name===u){if(U.every((Z)=>l[Z]===X.node.attrs[Z]))Q.push(X)}if(z&&Q.length>0)return;Q=Q.concat(X.querySelectorAll(u,l,z))}),Q}setAttribute(u){let{tr:l}=this.editor.state;l.setNodeMarkup(this.from,void 0,{...this.node.attrs,...u}),this.editor.view.dispatch(l)}}var oq=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function tq(u,l,z){let Q=document.querySelector(`style[data-tiptap-style${z?`-${z}`:""}]`);if(Q!==null)return Q;let U=document.createElement("style");if(l)U.setAttribute("nonce",l);return U.setAttribute(`data-tiptap-style${z?`-${z}`:""}`,""),U.innerHTML=u,document.getElementsByTagName("head")[0].appendChild(U),U}class B9 extends uY{constructor(u={}){super();this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:l})=>{throw l},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(u),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:l,slice:z,moved:Q})=>this.options.onDrop(l,z,Q)),this.on("paste",({event:l,slice:z})=>this.options.onPaste(l,z)),window.setTimeout(()=>{if(this.isDestroyed)return;this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){if(this.options.injectCSS&&document)this.css=tq(oq,this.options.injectNonce)}setOptions(u={}){if(this.options={...this.options,...u},!this.view||!this.state||this.isDestroyed)return;if(this.options.editorProps)this.view.setProps(this.options.editorProps);this.view.updateState(this.state)}setEditable(u,l=!0){if(this.setOptions({editable:u}),l)this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(u,l){let z=zY(l)?l(u,[...this.state.plugins]):[...this.state.plugins,u],Q=this.state.reconfigure({plugins:z});return this.view.updateState(Q),Q}unregisterPlugin(u){if(this.isDestroyed)return;let l=this.state.plugins,z=l;if([].concat(u).forEach((U)=>{let X=typeof U==="string"?`${U}$`:U.key;z=z.filter((V)=>!V.key.startsWith(X))}),l.length===z.length)return;let Q=this.state.reconfigure({plugins:z});return this.view.updateState(Q),Q}createExtensionManager(){var u,l;let Q=[...this.options.enableCoreExtensions?[iq,NG.configure({blockSeparator:(l=(u=this.options.coreExtensionOptions)===null||u===void 0?void 0:u.clipboardTextSerializer)===null||l===void 0?void 0:l.blockSeparator}),mq,pq,dq,sq,nq,aq].filter((U)=>{if(typeof this.options.enableCoreExtensions==="object")return this.options.enableCoreExtensions[U.name]!==!1;return!0}):[],...this.options.extensions].filter((U)=>{return["extension","node","mark"].includes(U===null||U===void 0?void 0:U.type)});this.extensionManager=new Q2(Q,this)}createCommandManager(){this.commandManager=new F3({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var u;let l;try{l=_9(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(X){if(!(X instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(X.message))throw X;this.emit("contentError",{editor:this,error:X,disableCollaboration:()=>{if(this.storage.collaboration)this.storage.collaboration.isDisabled=!0;this.options.extensions=this.options.extensions.filter((V)=>V.name!=="collaboration"),this.createExtensionManager()}}),l=_9(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}let z=YY(l,this.options.autofocus);this.view=new q8(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(u=this.options.editorProps)===null||u===void 0?void 0:u.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:t1.create({doc:l,selection:z||void 0})});let Q=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(Q),this.createNodeViews(),this.prependClass();let U=this.view.dom;U.editor=this}createNodeViews(){if(this.view.isDestroyed)return;this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(u){this.isCapturingTransaction=!0,u(),this.isCapturingTransaction=!1;let l=this.capturedTransaction;return this.capturedTransaction=null,l}dispatchTransaction(u){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=u;return}u.steps.forEach((X)=>{var V;return(V=this.capturedTransaction)===null||V===void 0?void 0:V.step(X)});return}let l=this.state.apply(u),z=!this.state.selection.eq(l.selection);if(this.emit("beforeTransaction",{editor:this,transaction:u,nextState:l}),this.view.updateState(l),this.emit("transaction",{editor:this,transaction:u}),z)this.emit("selectionUpdate",{editor:this,transaction:u});let Q=u.getMeta("focus"),U=u.getMeta("blur");if(Q)this.emit("focus",{editor:this,event:Q.event,transaction:u});if(U)this.emit("blur",{editor:this,event:U.event,transaction:u});if(!u.docChanged||u.getMeta("preventUpdate"))return;this.emit("update",{editor:this,transaction:u})}getAttributes(u){return Iq(this.state,u)}isActive(u,l){let z=typeof u==="string"?u:null,Q=typeof u==="string"?l:u;return Fq(this.state,z,Q)}getJSON(){return this.state.doc.toJSON()}getHTML(){return G9(this.state.doc.content,this.schema)}getText(u){let{blockSeparator:l=`

`,textSerializers:z={}}=u||{};return Cq(this.state.doc,{blockSeparator:l,textSerializers:{...XY(this.schema),...z}})}get isEmpty(){return y3(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){let u=this.view.dom;if(u&&u.editor)delete u.editor;this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var u;return!((u=this.view)===null||u===void 0?void 0:u.docView)}$node(u,l){var z;return((z=this.$doc)===null||z===void 0?void 0:z.querySelector(u,l))||null}$nodes(u,l){var z;return((z=this.$doc)===null||z===void 0?void 0:z.querySelectorAll(u,l))||null}$pos(u){let l=this.state.doc.resolve(u);return new Vl(l,this)}get $doc(){return this.$pos(0)}}function T0(u){return new j3({find:u.find,handler:({state:l,range:z,match:Q})=>{let U=f(u.getAttributes,void 0,Q);if(U===!1||U===null)return null;let{tr:X}=l,V=Q[Q.length-1],Z=Q[0];if(V){let Y=Z.search(/\S/),W=z.from+Z.indexOf(V),L=W+V.length;if(JY(z.from,z.to,l.doc).filter((K)=>{return K.mark.type.excluded.find((q)=>q===u.type&&q!==K.mark.type)}).filter((K)=>K.to>W).length)return null;if(L<z.to)X.delete(L,z.to);if(W>z.from)X.delete(z.from+Y,W);let J=z.from+Y+V.length;X.addMark(z.from+Y,J,u.type.create(U||{})),X.removeStoredMark(u.type)}}})}function KY(u){return new j3({find:u.find,handler:({state:l,range:z,match:Q})=>{let U=f(u.getAttributes,void 0,Q)||{},{tr:X}=l,V=z.from,Z=z.to,Y=u.type.create(U);if(Q[1]){let W=Q[0].lastIndexOf(Q[1]),L=V+W;if(L>Z)L=Z;else Z=L+Q[1].length;let H=Q[0][Q[0].length-1];X.insertText(H,V+Q[0].length-1),X.replaceWith(L,Z,Y)}else if(Q[0]){let W=u.type.isInline?V:V-1;X.insert(W,u.type.create(U)).delete(X.mapping.map(V),X.mapping.map(Z))}X.scrollIntoView()}})}function R3(u){return new j3({find:u.find,handler:({state:l,range:z,match:Q})=>{let U=l.doc.resolve(z.from),X=f(u.getAttributes,void 0,Q)||{};if(!U.node(-1).canReplaceWith(U.index(-1),U.indexAfter(-1),u.type))return null;l.tr.delete(z.from,z.to).setBlockType(z.from,z.from,u.type,X)}})}function T1(u){return new j3({find:u.find,handler:({state:l,range:z,match:Q,chain:U})=>{let X=f(u.getAttributes,void 0,Q)||{},V=l.tr.delete(z.from,z.to),Y=V.doc.resolve(z.from).blockRange(),W=Y&&il(Y,u.type,X);if(!W)return null;if(V.wrap(Y,W),u.keepMarks&&u.editor){let{selection:H,storedMarks:J}=l,{splittableMarks:K}=u.editor.extensionManager,_=J||H.$to.parentOffset&&H.$from.marks();if(_){let q=_.filter((E)=>K.includes(E.type.name));V.ensureMarks(q)}}if(u.keepAttributes){let H=u.type.name==="bulletList"||u.type.name==="orderedList"?"listItem":"taskList";U().updateAttributes(H,X).run()}let L=V.doc.resolve(z.from-1).nodeBefore;if(L&&L.type===u.type&&P0(V.doc,z.from-1)&&(!u.joinPredicate||u.joinPredicate(Q,L)))V.join(z.from-1)}})}class n{constructor(u={}){if(this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...u},this.name=this.config.name,u.defaultOptions&&Object.keys(u.defaultOptions).length>0)console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`);if(this.options=this.config.defaultOptions,this.config.addOptions)this.options=f(M(this,"addOptions",{name:this.name}));this.storage=f(M(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(u={}){return new n(u)}configure(u={}){let l=this.extend({...this.config,addOptions:()=>{return O8(this.options,u)}});return l.name=this.name,l.parent=this.parent,l}extend(u={}){let l=new n(u);if(l.parent=this,this.child=l,l.name=u.name?u.name:l.parent.name,u.defaultOptions&&Object.keys(u.defaultOptions).length>0)console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${l.name}".`);return l.options=f(M(l,"addOptions",{name:l.name})),l.storage=f(M(l,"addStorage",{name:l.name,options:l.options})),l}}function D0(u){return new QY({find:u.find,handler:({state:l,range:z,match:Q,pasteEvent:U})=>{let X=f(u.getAttributes,void 0,Q,U);if(X===!1||X===null)return null;let{tr:V}=l,Z=Q[Q.length-1],Y=Q[0],W=z.to;if(Z){let L=Y.search(/\S/),H=z.from+Y.indexOf(Z),J=H+Z.length;if(JY(z.from,z.to,l.doc).filter((_)=>{return _.mark.type.excluded.find((E)=>E===u.type&&E!==_.mark.type)}).filter((_)=>_.to>H).length)return null;if(J<z.to)V.delete(J,z.to);if(H>z.from)V.delete(z.from+L,H);W=z.from+L+Z.length,V.addMark(z.from+L,W,u.type.create(X||{})),V.removeStoredMark(u.type)}}})}function GY(u,l){let{selection:z}=u,{$from:Q}=z;if(z instanceof T){let X=Q.index();return Q.parent.canReplaceWith(X,X+1,l)}let U=Q.depth;while(U>=0){let X=Q.index(U);if(Q.node(U).contentMatchAt(X).matchType(l))return!0;U-=1}return!1}var $=s0(X2(),1),y9=s0(zz(),1);function eq(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var CY={exports:{}},I9={},qY;function uP(){if(qY)return I9;qY=1;var u=$.default;function l(H,J){return H===J&&(H!==0||1/H===1/J)||H!==H&&J!==J}var z=typeof Object.is==="function"?Object.is:l,Q=u.useState,U=u.useEffect,X=u.useLayoutEffect,V=u.useDebugValue;function Z(H,J){var K=J(),_=Q({inst:{value:K,getSnapshot:J}}),q=_[0].inst,E=_[1];return X(function(){q.value=K,q.getSnapshot=J,Y(q)&&E({inst:q})},[H,K,J]),U(function(){return Y(q)&&E({inst:q}),H(function(){Y(q)&&E({inst:q})})},[H]),V(K),K}function Y(H){var J=H.getSnapshot;H=H.value;try{var K=J();return!z(H,K)}catch(_){return!0}}function W(H,J){return J()}var L=typeof window==="undefined"||typeof window.document==="undefined"||typeof window.document.createElement==="undefined"?W:Z;return I9.useSyncExternalStore=u.useSyncExternalStore!==void 0?u.useSyncExternalStore:L,I9}CY.exports=uP();var R9=CY.exports,lP=(...u)=>{return(l)=>{u.forEach((z)=>{if(typeof z==="function")z(l);else if(z)z.current=l})}},zP=({contentComponent:u})=>{let l=R9.useSyncExternalStore(u.subscribe,u.getSnapshot,u.getServerSnapshot);return $.default.createElement($.default.Fragment,null,Object.values(l))};function QP(){let u=new Set,l={};return{subscribe(z){return u.add(z),()=>{u.delete(z)}},getSnapshot(){return l},getServerSnapshot(){return l},setRenderer(z,Q){l={...l,[z]:y9.default.createPortal(Q.reactElement,Q.element,z)},u.forEach((U)=>U())},removeRenderer(z){let Q={...l};delete Q[z],l=Q,u.forEach((U)=>U())}}}class BY extends $.default.Component{constructor(u){var l;super(u);this.editorContentRef=$.default.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:Boolean((l=u.editor)===null||l===void 0?void 0:l.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){let u=this.props.editor;if(u&&!u.isDestroyed&&u.options.element){if(u.contentComponent)return;let l=this.editorContentRef.current;if(l.append(...u.options.element.childNodes),u.setOptions({element:l}),u.contentComponent=QP(),!this.state.hasContentComponentInitialized)this.unsubscribeToContentComponent=u.contentComponent.subscribe(()=>{if(this.setState((z)=>{if(!z.hasContentComponentInitialized)return{hasContentComponentInitialized:!0};return z}),this.unsubscribeToContentComponent)this.unsubscribeToContentComponent()});u.createNodeViews(),this.initialized=!0}}componentWillUnmount(){let u=this.props.editor;if(!u)return;if(this.initialized=!1,!u.isDestroyed)u.view.setProps({nodeViews:{}});if(this.unsubscribeToContentComponent)this.unsubscribeToContentComponent();if(u.contentComponent=null,!u.options.element.firstChild)return;let l=document.createElement("div");l.append(...u.options.element.childNodes),u.setOptions({element:l})}render(){let{editor:u,innerRef:l,...z}=this.props;return $.default.createElement($.default.Fragment,null,$.default.createElement("div",{ref:lP(l,this.editorContentRef),...z}),(u===null||u===void 0?void 0:u.contentComponent)&&$.default.createElement(zP,{contentComponent:u.contentComponent}))}}var UP=$.forwardRef((u,l)=>{let z=$.default.useMemo(()=>{return Math.floor(Math.random()*4294967295).toString()},[u.editor]);return $.default.createElement(BY,{key:z,innerRef:l,...u})}),IY=$.default.memo(UP),XP=function u(l,z){if(l===z)return!0;if(l&&z&&typeof l=="object"&&typeof z=="object"){if(l.constructor!==z.constructor)return!1;var Q,U,X;if(Array.isArray(l)){if(Q=l.length,Q!=z.length)return!1;for(U=Q;U--!==0;)if(!u(l[U],z[U]))return!1;return!0}if(l instanceof Map&&z instanceof Map){if(l.size!==z.size)return!1;for(U of l.entries())if(!z.has(U[0]))return!1;for(U of l.entries())if(!u(U[1],z.get(U[0])))return!1;return!0}if(l instanceof Set&&z instanceof Set){if(l.size!==z.size)return!1;for(U of l.entries())if(!z.has(U[0]))return!1;return!0}if(ArrayBuffer.isView(l)&&ArrayBuffer.isView(z)){if(Q=l.length,Q!=z.length)return!1;for(U=Q;U--!==0;)if(l[U]!==z[U])return!1;return!0}if(l.constructor===RegExp)return l.source===z.source&&l.flags===z.flags;if(l.valueOf!==Object.prototype.valueOf)return l.valueOf()===z.valueOf();if(l.toString!==Object.prototype.toString)return l.toString()===z.toString();if(X=Object.keys(l),Q=X.length,Q!==Object.keys(z).length)return!1;for(U=Q;U--!==0;)if(!Object.prototype.hasOwnProperty.call(z,X[U]))return!1;for(U=Q;U--!==0;){var V=X[U];if(V==="_owner"&&l.$$typeof)continue;if(!u(l[V],z[V]))return!1}return!0}return l!==l&&z!==z},VP=eq(XP),FY={exports:{}},F9={},PY;function ZP(){if(PY)return F9;PY=1;var u=$.default,l=R9;function z(W,L){return W===L&&(W!==0||1/W===1/L)||W!==W&&L!==L}var Q=typeof Object.is==="function"?Object.is:z,U=l.useSyncExternalStore,X=u.useRef,V=u.useEffect,Z=u.useMemo,Y=u.useDebugValue;return F9.useSyncExternalStoreWithSelector=function(W,L,H,J,K){var _=X(null);if(_.current===null){var q={hasValue:!1,value:null};_.current=q}else q=_.current;_=Z(function(){function G(R){if(!P){if(P=!0,C=R,R=J(R),K!==void 0&&q.hasValue){var A=q.value;if(K(A,R))return B=A}return B=R}if(A=B,Q(C,R))return A;var F=J(R);if(K!==void 0&&K(A,F))return A;return C=R,B=F}var P=!1,C,B,y=H===void 0?null:H;return[function(){return G(L())},y===null?void 0:function(){return G(y())}]},[L,H,J,K]);var E=U(W,_[0],_[1]);return V(function(){q.hasValue=!0,q.value=E},[E]),Y(E),E},F9}FY.exports=ZP();var YP=FY.exports,WP=typeof window!=="undefined"?$.useLayoutEffect:$.useEffect;class jY{constructor(u){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=u,this.lastSnapshot={editor:u,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){if(this.transactionNumber===this.lastTransactionNumber)return this.lastSnapshot;return this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(u){return this.subscribers.add(u),()=>{this.subscribers.delete(u)}}watch(u){if(this.editor=u,this.editor){let l=()=>{this.transactionNumber+=1,this.subscribers.forEach((Q)=>Q())},z=this.editor;return z.on("transaction",l),()=>{z.off("transaction",l)}}return}}function LP(u){var l;let[z]=$.useState(()=>new jY(u.editor)),Q=YP.useSyncExternalStoreWithSelector(z.subscribe,z.getSnapshot,z.getServerSnapshot,u.selector,(l=u.equalityFn)!==null&&l!==void 0?l:VP);return WP(()=>{return z.watch(u.editor)},[u.editor,z]),$.useDebugValue(Q),Q}var EY=!1,j9=typeof window==="undefined",HP=j9||Boolean(typeof window!=="undefined"&&window.next);class N9{constructor(u){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=u,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(u){this.editor=u,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach((l)=>l())}getInitialEditor(){if(this.options.current.immediatelyRender===void 0){if(j9||HP){if(EY)console.warn("Tiptap Error: SSR has been detected, please set `immediatelyRender` explicitly to `false` to avoid hydration mismatches.");return null}return this.createEditor()}if(this.options.current.immediatelyRender&&j9&&EY)throw new Error("Tiptap Error: SSR has been detected, and `immediatelyRender` has been set to `true` this is an unsupported configuration that may result in errors, explicitly set `immediatelyRender` to `false` to avoid hydration mismatches.");if(this.options.current.immediatelyRender)return this.createEditor();return null}createEditor(){let u={...this.options.current,onBeforeCreate:(...z)=>{var Q,U;return(U=(Q=this.options.current).onBeforeCreate)===null||U===void 0?void 0:U.call(Q,...z)},onBlur:(...z)=>{var Q,U;return(U=(Q=this.options.current).onBlur)===null||U===void 0?void 0:U.call(Q,...z)},onCreate:(...z)=>{var Q,U;return(U=(Q=this.options.current).onCreate)===null||U===void 0?void 0:U.call(Q,...z)},onDestroy:(...z)=>{var Q,U;return(U=(Q=this.options.current).onDestroy)===null||U===void 0?void 0:U.call(Q,...z)},onFocus:(...z)=>{var Q,U;return(U=(Q=this.options.current).onFocus)===null||U===void 0?void 0:U.call(Q,...z)},onSelectionUpdate:(...z)=>{var Q,U;return(U=(Q=this.options.current).onSelectionUpdate)===null||U===void 0?void 0:U.call(Q,...z)},onTransaction:(...z)=>{var Q,U;return(U=(Q=this.options.current).onTransaction)===null||U===void 0?void 0:U.call(Q,...z)},onUpdate:(...z)=>{var Q,U;return(U=(Q=this.options.current).onUpdate)===null||U===void 0?void 0:U.call(Q,...z)},onContentError:(...z)=>{var Q,U;return(U=(Q=this.options.current).onContentError)===null||U===void 0?void 0:U.call(Q,...z)},onDrop:(...z)=>{var Q,U;return(U=(Q=this.options.current).onDrop)===null||U===void 0?void 0:U.call(Q,...z)},onPaste:(...z)=>{var Q,U;return(U=(Q=this.options.current).onPaste)===null||U===void 0?void 0:U.call(Q,...z)}};return new B9(u)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(u){return this.subscriptions.add(u),()=>{this.subscriptions.delete(u)}}static compareOptions(u,l){return Object.keys(u).every((z)=>{if(["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(z))return!0;if(z==="extensions"&&u.extensions&&l.extensions){if(u.extensions.length!==l.extensions.length)return!1;return u.extensions.every((Q,U)=>{var X;if(Q!==((X=l.extensions)===null||X===void 0?void 0:X[U]))return!1;return!0})}if(u[z]!==l[z])return!1;return!0})}onRender(u){return()=>{if(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&u.length===0){if(!N9.compareOptions(this.options.current,this.editor.options))this.editor.setOptions({...this.options.current,editable:this.editor.isEditable})}else this.refreshEditorInstance(u);return()=>{this.isComponentMounted=!1,this.scheduleDestroy()}}}refreshEditorInstance(u){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=u;return}if(this.previousDeps.length===u.length&&this.previousDeps.every((z,Q)=>z===u[Q]))return}if(this.editor&&!this.editor.isDestroyed)this.editor.destroy();this.setEditor(this.createEditor()),this.previousDeps=u}scheduleDestroy(){let u=this.instanceId,l=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===u){if(l)l.setOptions(this.options.current);return}if(l&&!l.isDestroyed){if(l.destroy(),this.instanceId===u)this.setEditor(null)}},1)}}function yY(u={},l=[]){let z=$.useRef(u);z.current=u;let[Q]=$.useState(()=>new N9(z)),U=R9.useSyncExternalStore(Q.subscribe,Q.getEditor,Q.getServerSnapshot);return $.useDebugValue(U),$.useEffect(Q.onRender(l)),LP({editor:U,selector:({transactionNumber:X})=>{if(u.shouldRerenderOnTransaction===!1)return null;if(u.immediatelyRender&&X===0)return 0;return X+1}}),U}var JP=$.createContext({editor:null}),lC=JP.Consumer;var _P=$.createContext({onDragStart:void 0}),KP=()=>$.useContext(_P);var zC=$.default.forwardRef((u,l)=>{let{onDragStart:z}=KP(),Q=u.as||"div";return $.default.createElement(Q,{...u,ref:l,"data-node-view-wrapper":"",onDragStart:z,style:{whiteSpace:"normal",...u.style}})});var GP=/^\s*>\s$/,RY=n.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:u}){return["blockquote",h(this.options.HTMLAttributes,u),0]},addCommands(){return{setBlockquote:()=>({commands:u})=>{return u.wrapIn(this.name)},toggleBlockquote:()=>({commands:u})=>{return u.toggleWrap(this.name)},unsetBlockquote:()=>({commands:u})=>{return u.lift(this.name)}}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[T1({find:GP,type:this.type})]}});var qP=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,PP=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,EP=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,CP=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,NY=Z0.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:(u)=>u.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:(u)=>u.type.name===this.name},{style:"font-weight",getAttrs:(u)=>/^(bold(er)?|[5-9]\d{2,})$/.test(u)&&null}]},renderHTML({HTMLAttributes:u}){return["strong",h(this.options.HTMLAttributes,u),0]},addCommands(){return{setBold:()=>({commands:u})=>{return u.setMark(this.name)},toggleBold:()=>({commands:u})=>{return u.toggleMark(this.name)},unsetBold:()=>({commands:u})=>{return u.unsetMark(this.name)}}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[T0({find:qP,type:this.type}),T0({find:EP,type:this.type})]},addPasteRules(){return[D0({find:PP,type:this.type}),D0({find:CP,type:this.type})]}});var BP="listItem",AY="textStyle",OY=/^\s*([-+*])\s$/,MY=n.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:u}){return["ul",h(this.options.HTMLAttributes,u),0]},addCommands(){return{toggleBulletList:()=>({commands:u,chain:l})=>{if(this.options.keepAttributes)return l().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(BP,this.editor.getAttributes(AY)).run();return u.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let u=T1({find:OY,type:this.type});if(this.options.keepMarks||this.options.keepAttributes)u=T1({find:OY,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>{return this.editor.getAttributes(AY)},editor:this.editor});return[u]}});var IP=/(^|[^`])`([^`]+)`(?!`)/,FP=/(^|[^`])`([^`]+)`(?!`)/g,TY=Z0.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:u}){return["code",h(this.options.HTMLAttributes,u),0]},addCommands(){return{setCode:()=>({commands:u})=>{return u.setMark(this.name)},toggleCode:()=>({commands:u})=>{return u.toggleMark(this.name)},unsetCode:()=>({commands:u})=>{return u.unsetMark(this.name)}}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[T0({find:IP,type:this.type})]},addPasteRules(){return[D0({find:FP,type:this.type})]}});var jP=/^```([a-z]+)?[\s\n]$/,yP=/^~~~([a-z]+)?[\s\n]$/,DY=n.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:(u)=>{var l;let{languageClassPrefix:z}=this.options,X=[...((l=u.firstElementChild)===null||l===void 0?void 0:l.classList)||[]].filter((V)=>V.startsWith(z)).map((V)=>V.replace(z,""))[0];if(!X)return null;return X},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:u,HTMLAttributes:l}){return["pre",h(this.options.HTMLAttributes,l),["code",{class:u.attrs.language?this.options.languageClassPrefix+u.attrs.language:null},0]]},addCommands(){return{setCodeBlock:(u)=>({commands:l})=>{return l.setNode(this.name,u)},toggleCodeBlock:(u)=>({commands:l})=>{return l.toggleNode(this.name,"paragraph",u)}}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{let{empty:u,$anchor:l}=this.editor.state.selection,z=l.pos===1;if(!u||l.parent.type.name!==this.name)return!1;if(z||!l.parent.textContent.length)return this.editor.commands.clearNodes();return!1},Enter:({editor:u})=>{if(!this.options.exitOnTripleEnter)return!1;let{state:l}=u,{selection:z}=l,{$from:Q,empty:U}=z;if(!U||Q.parent.type!==this.type)return!1;let X=Q.parentOffset===Q.parent.nodeSize-2,V=Q.parent.textContent.endsWith(`

`);if(!X||!V)return!1;return u.chain().command(({tr:Z})=>{return Z.delete(Q.pos-2,Q.pos),!0}).exitCode().run()},ArrowDown:({editor:u})=>{if(!this.options.exitOnArrowDown)return!1;let{state:l}=u,{selection:z,doc:Q}=l,{$from:U,empty:X}=z;if(!X||U.parent.type!==this.type)return!1;if(U.parentOffset!==U.parent.nodeSize-2)return!1;let Z=U.after();if(Z===void 0)return!1;if(Q.nodeAt(Z))return u.commands.command(({tr:W})=>{return W.setSelection(k.near(Q.resolve(Z))),!0});return u.commands.exitCode()}}},addInputRules(){return[R3({find:jP,type:this.type,getAttributes:(u)=>({language:u[1]})}),R3({find:yP,type:this.type,getAttributes:(u)=>({language:u[1]})})]},addProseMirrorPlugins(){return[new s({key:new Nu("codeBlockVSCodeHandler"),props:{handlePaste:(u,l)=>{if(!l.clipboardData)return!1;if(this.editor.isActive(this.type.name))return!1;let z=l.clipboardData.getData("text/plain"),Q=l.clipboardData.getData("vscode-editor-data"),U=Q?JSON.parse(Q):void 0,X=U===null||U===void 0?void 0:U.mode;if(!z||!X)return!1;let{tr:V,schema:Z}=u.state,Y=Z.text(z.replace(/\r\n?/g,`
`));if(V.replaceSelectionWith(this.type.create({language:X},Y)),V.selection.$from.parent.type!==this.type)V.setSelection(D.near(V.doc.resolve(Math.max(0,V.selection.from-2))));return V.setMeta("paste",!0),u.dispatch(V),!0}}})]}});var SY=n.create({name:"doc",topNode:!0,content:"block+"});function kY(u={}){return new s({view(l){return new fY(l,u)}})}class fY{constructor(u,l){var z;this.editorView=u,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(z=l.width)!==null&&z!==void 0?z:1,this.color=l.color===!1?void 0:l.color||"black",this.class=l.class,this.handlers=["dragover","dragend","drop","dragleave"].map((Q)=>{let U=(X)=>{this[Q](X)};return u.dom.addEventListener(Q,U),{name:Q,handler:U}})}destroy(){this.handlers.forEach(({name:u,handler:l})=>this.editorView.dom.removeEventListener(u,l))}update(u,l){if(this.cursorPos!=null&&l.doc!=u.state.doc)if(this.cursorPos>u.state.doc.content.size)this.setCursor(null);else this.updateOverlay()}setCursor(u){if(u==this.cursorPos)return;if(this.cursorPos=u,u==null)this.element.parentNode.removeChild(this.element),this.element=null;else this.updateOverlay()}updateOverlay(){let u=this.editorView.state.doc.resolve(this.cursorPos),l=!u.parent.inlineContent,z,Q=this.editorView.dom,U=Q.getBoundingClientRect(),X=U.width/Q.offsetWidth,V=U.height/Q.offsetHeight;if(l){let{nodeBefore:L,nodeAfter:H}=u;if(L||H){let J=this.editorView.nodeDOM(this.cursorPos-(L?L.nodeSize:0));if(J){let K=J.getBoundingClientRect(),_=L?K.bottom:K.top;if(L&&H)_=(_+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2;let q=this.width/2*V;z={left:K.left,right:K.right,top:_-q,bottom:_+q}}}}if(!z){let L=this.editorView.coordsAtPos(this.cursorPos),H=this.width/2*X;z={left:L.left-H,right:L.left+H,top:L.top,bottom:L.bottom}}let Z=this.editorView.dom.offsetParent;if(!this.element){if(this.element=Z.appendChild(document.createElement("div")),this.class)this.element.className=this.class;if(this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color)this.element.style.backgroundColor=this.color}this.element.classList.toggle("prosemirror-dropcursor-block",l),this.element.classList.toggle("prosemirror-dropcursor-inline",!l);let Y,W;if(!Z||Z==document.body&&getComputedStyle(Z).position=="static")Y=-pageXOffset,W=-pageYOffset;else{let L=Z.getBoundingClientRect(),H=L.width/Z.offsetWidth,J=L.height/Z.offsetHeight;Y=L.left-Z.scrollLeft*H,W=L.top-Z.scrollTop*J}this.element.style.left=(z.left-Y)/X+"px",this.element.style.top=(z.top-W)/V+"px",this.element.style.width=(z.right-z.left)/X+"px",this.element.style.height=(z.bottom-z.top)/V+"px"}scheduleRemoval(u){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),u)}dragover(u){if(!this.editorView.editable)return;let l=this.editorView.posAtCoords({left:u.clientX,top:u.clientY}),z=l&&l.inside>=0&&this.editorView.state.doc.nodeAt(l.inside),Q=z&&z.type.spec.disableDropCursor,U=typeof Q=="function"?Q(this.editorView,l,u):Q;if(l&&!U){let X=l.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let V=Q8(this.editorView.state.doc,X,this.editorView.dragging.slice);if(V!=null)X=V}this.setCursor(X),this.scheduleRemoval(5000)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(u){if(!this.editorView.dom.contains(u.relatedTarget))this.setCursor(null)}}var $Y=Uu.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[kY(this.options)]}});class lu extends k{constructor(u){super(u,u)}map(u,l){let z=u.resolve(l.map(this.head));return lu.valid(z)?new lu(z):k.near(z)}content(){return N.empty}eq(u){return u instanceof lu&&u.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(u,l){if(typeof l.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new lu(u.resolve(l.pos))}getBookmark(){return new A9(this.anchor)}static valid(u){let l=u.parent;if(l.isTextblock||!RP(u)||!NP(u))return!1;let z=l.type.spec.allowGapCursor;if(z!=null)return z;let Q=l.contentMatchAt(u.index()).defaultType;return Q&&Q.isTextblock}static findGapCursorFrom(u,l,z=!1){u:for(;;){if(!z&&lu.valid(u))return u;let Q=u.pos,U=null;for(let X=u.depth;;X--){let V=u.node(X);if(l>0?u.indexAfter(X)<V.childCount:u.index(X)>0){U=V.child(l>0?u.indexAfter(X):u.index(X)-1);break}else if(X==0)return null;Q+=l;let Z=u.doc.resolve(Q);if(lu.valid(Z))return Z}for(;;){let X=l>0?U.firstChild:U.lastChild;if(!X){if(U.isAtom&&!U.isText&&!T.isSelectable(U)){u=u.doc.resolve(Q+U.nodeSize*l),z=!1;continue u}break}U=X,Q+=l;let V=u.doc.resolve(Q);if(lu.valid(V))return V}return null}}}lu.prototype.visible=!1;lu.findFrom=lu.findGapCursorFrom;k.jsonID("gapcursor",lu);class A9{constructor(u){this.pos=u}map(u){return new A9(u.map(this.pos))}resolve(u){let l=u.resolve(this.pos);return lu.valid(l)?new lu(l):k.near(l)}}function RP(u){for(let l=u.depth;l>=0;l--){let z=u.index(l),Q=u.node(l);if(z==0){if(Q.type.spec.isolating)return!0;continue}for(let U=Q.child(z-1);;U=U.lastChild){if(U.childCount==0&&!U.inlineContent||U.isAtom||U.type.spec.isolating)return!0;if(U.inlineContent)return!1}}return!0}function NP(u){for(let l=u.depth;l>=0;l--){let z=u.indexAfter(l),Q=u.node(l);if(z==Q.childCount){if(Q.type.spec.isolating)return!0;continue}for(let U=Q.child(z);;U=U.firstChild){if(U.childCount==0&&!U.inlineContent||U.isAtom||U.type.spec.isolating)return!0;if(U.inlineContent)return!1}}return!0}function xY(){return new s({props:{decorations:TP,createSelectionBetween(u,l,z){return l.pos==z.pos&&lu.valid(z)?new lu(z):null},handleClick:OP,handleKeyDown:AP,handleDOMEvents:{beforeinput:MP}}})}var AP=pz({ArrowLeft:T8("horiz",-1),ArrowRight:T8("horiz",1),ArrowUp:T8("vert",-1),ArrowDown:T8("vert",1)});function T8(u,l){let z=u=="vert"?l>0?"down":"up":l>0?"right":"left";return function(Q,U,X){let V=Q.selection,Z=l>0?V.$to:V.$from,Y=V.empty;if(V instanceof D){if(!X.endOfTextblock(z)||Z.depth==0)return!1;Y=!1,Z=Q.doc.resolve(l>0?Z.after():Z.before())}let W=lu.findGapCursorFrom(Z,l,Y);if(!W)return!1;if(U)U(Q.tr.setSelection(new lu(W)));return!0}}function OP(u,l,z){if(!u||!u.editable)return!1;let Q=u.state.doc.resolve(l);if(!lu.valid(Q))return!1;let U=u.posAtCoords({left:z.clientX,top:z.clientY});if(U&&U.inside>-1&&T.isSelectable(u.state.doc.nodeAt(U.inside)))return!1;return u.dispatch(u.state.tr.setSelection(new lu(Q))),!0}function MP(u,l){if(l.inputType!="insertCompositionText"||!(u.state.selection instanceof lu))return!1;let{$from:z}=u.state.selection,Q=z.parent.contentMatchAt(z.index()).findWrapping(u.state.schema.nodes.text);if(!Q)return!1;let U=I.empty;for(let V=Q.length-1;V>=0;V--)U=I.from(Q[V].createAndFill(null,U));let X=u.state.tr.replace(z.pos,z.pos,new N(U,0,0));return X.setSelection(D.near(X.doc.resolve(z.pos+1))),u.dispatch(X),!1}function TP(u){if(!(u.selection instanceof lu))return null;let l=document.createElement("div");return l.className="ProseMirror-gapcursor",uu.create(u.doc,[ku.widget(u.selection.head,l,{key:"gapcursor"})])}var gY=Uu.create({name:"gapCursor",addProseMirrorPlugins(){return[xY()]},extendNodeSchema(u){var l;let z={name:u.name,options:u.options,storage:u.storage};return{allowGapCursor:(l=f(M(u,"allowGapCursor",z)))!==null&&l!==void 0?l:null}}});var wY=n.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:u}){return["br",h(this.options.HTMLAttributes,u)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:u,chain:l,state:z,editor:Q})=>{return u.first([()=>u.exitCode(),()=>u.command(()=>{let{selection:U,storedMarks:X}=z;if(U.$from.parent.type.spec.isolating)return!1;let{keepMarks:V}=this.options,{splittableMarks:Z}=Q.extensionManager,Y=X||U.$to.parentOffset&&U.$from.marks();return l().insertContent({type:this.name}).command(({tr:W,dispatch:L})=>{if(L&&Y&&V){let H=Y.filter((J)=>Z.includes(J.type.name));W.ensureMarks(H)}return!0}).run()})])}}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}});var vY=n.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map((u)=>({tag:`h${u}`,attrs:{level:u}}))},renderHTML({node:u,HTMLAttributes:l}){return[`h${this.options.levels.includes(u.attrs.level)?u.attrs.level:this.options.levels[0]}`,h(this.options.HTMLAttributes,l),0]},addCommands(){return{setHeading:(u)=>({commands:l})=>{if(!this.options.levels.includes(u.level))return!1;return l.setNode(this.name,u)},toggleHeading:(u)=>({commands:l})=>{if(!this.options.levels.includes(u.level))return!1;return l.toggleNode(this.name,"paragraph",u)}}},addKeyboardShortcuts(){return this.options.levels.reduce((u,l)=>({...u,...{[`Mod-Alt-${l}`]:()=>this.editor.commands.toggleHeading({level:l})}}),{})},addInputRules(){return this.options.levels.map((u)=>{return R3({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${u}})\\s$`),type:this.type,getAttributes:{level:u}})})}});var D8=200,Eu=function u(){};Eu.prototype.append=function u(l){if(!l.length)return this;return l=Eu.from(l),!this.length&&l||l.length<D8&&this.leafAppend(l)||this.length<D8&&l.leafPrepend(this)||this.appendInner(l)};Eu.prototype.prepend=function u(l){if(!l.length)return this;return Eu.from(l).append(this)};Eu.prototype.appendInner=function u(l){return new DP(this,l)};Eu.prototype.slice=function u(l,z){if(l===void 0)l=0;if(z===void 0)z=this.length;if(l>=z)return Eu.empty;return this.sliceInner(Math.max(0,l),Math.min(this.length,z))};Eu.prototype.get=function u(l){if(l<0||l>=this.length)return;return this.getInner(l)};Eu.prototype.forEach=function u(l,z,Q){if(z===void 0)z=0;if(Q===void 0)Q=this.length;if(z<=Q)this.forEachInner(l,z,Q,0);else this.forEachInvertedInner(l,z,Q,0)};Eu.prototype.map=function u(l,z,Q){if(z===void 0)z=0;if(Q===void 0)Q=this.length;var U=[];return this.forEach(function(X,V){return U.push(l(X,V))},z,Q),U};Eu.from=function u(l){if(l instanceof Eu)return l;return l&&l.length?new hY(l):Eu.empty};var hY=function(u){function l(Q){u.call(this),this.values=Q}if(u)l.__proto__=u;l.prototype=Object.create(u&&u.prototype),l.prototype.constructor=l;var z={length:{configurable:!0},depth:{configurable:!0}};return l.prototype.flatten=function Q(){return this.values},l.prototype.sliceInner=function Q(U,X){if(U==0&&X==this.length)return this;return new l(this.values.slice(U,X))},l.prototype.getInner=function Q(U){return this.values[U]},l.prototype.forEachInner=function Q(U,X,V,Z){for(var Y=X;Y<V;Y++)if(U(this.values[Y],Z+Y)===!1)return!1},l.prototype.forEachInvertedInner=function Q(U,X,V,Z){for(var Y=X-1;Y>=V;Y--)if(U(this.values[Y],Z+Y)===!1)return!1},l.prototype.leafAppend=function Q(U){if(this.length+U.length<=D8)return new l(this.values.concat(U.flatten()))},l.prototype.leafPrepend=function Q(U){if(this.length+U.length<=D8)return new l(U.flatten().concat(this.values))},z.length.get=function(){return this.values.length},z.depth.get=function(){return 0},Object.defineProperties(l.prototype,z),l}(Eu);Eu.empty=new hY([]);var DP=function(u){function l(z,Q){u.call(this),this.left=z,this.right=Q,this.length=z.length+Q.length,this.depth=Math.max(z.depth,Q.depth)+1}if(u)l.__proto__=u;return l.prototype=Object.create(u&&u.prototype),l.prototype.constructor=l,l.prototype.flatten=function z(){return this.left.flatten().concat(this.right.flatten())},l.prototype.getInner=function z(Q){return Q<this.left.length?this.left.get(Q):this.right.get(Q-this.left.length)},l.prototype.forEachInner=function z(Q,U,X,V){var Z=this.left.length;if(U<Z&&this.left.forEachInner(Q,U,Math.min(X,Z),V)===!1)return!1;if(X>Z&&this.right.forEachInner(Q,Math.max(U-Z,0),Math.min(this.length,X)-Z,V+Z)===!1)return!1},l.prototype.forEachInvertedInner=function z(Q,U,X,V){var Z=this.left.length;if(U>Z&&this.right.forEachInvertedInner(Q,U-Z,Math.max(X,Z)-Z,V+Z)===!1)return!1;if(X<Z&&this.left.forEachInvertedInner(Q,Math.min(U,Z),X,V)===!1)return!1},l.prototype.sliceInner=function z(Q,U){if(Q==0&&U==this.length)return this;var X=this.left.length;if(U<=X)return this.left.slice(Q,U);if(Q>=X)return this.right.slice(Q-X,U-X);return this.left.slice(Q,X).append(this.right.slice(0,U-X))},l.prototype.leafAppend=function z(Q){var U=this.right.leafAppend(Q);if(U)return new l(this.left,U)},l.prototype.leafPrepend=function z(Q){var U=this.left.leafPrepend(Q);if(U)return new l(U,this.right)},l.prototype.appendInner=function z(Q){if(this.left.depth>=Math.max(this.right.depth,Q.depth)+1)return new l(this.left,new l(this.right,Q));return new l(this,Q)},l}(Eu),O9=Eu;var SP=500;class E0{constructor(u,l){this.items=u,this.eventCount=l}popEvent(u,l){if(this.eventCount==0)return null;let z=this.items.length;for(;;z--)if(this.items.get(z-1).selection){--z;break}let Q,U;if(l)Q=this.remapping(z,this.items.length),U=Q.maps.length;let X=u.tr,V,Z,Y=[],W=[];return this.items.forEach((L,H)=>{if(!L.step){if(!Q)Q=this.remapping(z,H+1),U=Q.maps.length;U--,W.push(L);return}if(Q){W.push(new S0(L.map));let J=L.step.map(Q.slice(U)),K;if(J&&X.maybeStep(J).doc)K=X.mapping.maps[X.mapping.maps.length-1],Y.push(new S0(K,void 0,void 0,Y.length+W.length));if(U--,K)Q.appendMap(K,U)}else X.maybeStep(L.step);if(L.selection)return V=Q?L.selection.map(Q.slice(U)):L.selection,Z=new E0(this.items.slice(0,z).append(W.reverse().concat(Y)),this.eventCount-1),!1},this.items.length,0),{remaining:Z,transform:X,selection:V}}addTransform(u,l,z,Q){let U=[],X=this.eventCount,V=this.items,Z=!Q&&V.length?V.get(V.length-1):null;for(let W=0;W<u.steps.length;W++){let L=u.steps[W].invert(u.docs[W]),H=new S0(u.mapping.maps[W],L,l),J;if(J=Z&&Z.merge(H))if(H=J,W)U.pop();else V=V.slice(0,V.length-1);if(U.push(H),l)X++,l=void 0;if(!Q)Z=H}let Y=X-z.depth;if(Y>fP)V=kP(V,Y),X-=Y;return new E0(V.append(U),X)}remapping(u,l){let z=new ml;return this.items.forEach((Q,U)=>{let X=Q.mirrorOffset!=null&&U-Q.mirrorOffset>=u?z.maps.length-Q.mirrorOffset:void 0;z.appendMap(Q.map,X)},u,l),z}addMaps(u){if(this.eventCount==0)return this;return new E0(this.items.append(u.map((l)=>new S0(l))),this.eventCount)}rebased(u,l){if(!this.eventCount)return this;let z=[],Q=Math.max(0,this.items.length-l),U=u.mapping,X=u.steps.length,V=this.eventCount;this.items.forEach((H)=>{if(H.selection)V--},Q);let Z=l;this.items.forEach((H)=>{let J=U.getMirror(--Z);if(J==null)return;X=Math.min(X,J);let K=U.maps[J];if(H.step){let _=u.steps[J].invert(u.docs[J]),q=H.selection&&H.selection.map(U.slice(Z+1,J));if(q)V++;z.push(new S0(K,_,q))}else z.push(new S0(K))},Q);let Y=[];for(let H=l;H<X;H++)Y.push(new S0(U.maps[H]));let W=this.items.slice(0,Q).append(Y).append(z),L=new E0(W,V);if(L.emptyItemCount()>SP)L=L.compress(this.items.length-z.length);return L}emptyItemCount(){let u=0;return this.items.forEach((l)=>{if(!l.step)u++}),u}compress(u=this.items.length){let l=this.remapping(0,u),z=l.maps.length,Q=[],U=0;return this.items.forEach((X,V)=>{if(V>=u){if(Q.push(X),X.selection)U++}else if(X.step){let Z=X.step.map(l.slice(z)),Y=Z&&Z.getMap();if(z--,Y)l.appendMap(Y,z);if(Z){let W=X.selection&&X.selection.map(l.slice(z));if(W)U++;let L=new S0(Y.invert(),Z,W),H,J=Q.length-1;if(H=Q.length&&Q[J].merge(L))Q[J]=H;else Q.push(L)}}else if(X.map)z--},this.items.length,0),new E0(O9.from(Q.reverse()),U)}}E0.empty=new E0(O9.empty,0);function kP(u,l){let z;return u.forEach((Q,U)=>{if(Q.selection&&l--==0)return z=U,!1}),u.slice(z)}class S0{constructor(u,l,z,Q){this.map=u,this.step=l,this.selection=z,this.mirrorOffset=Q}merge(u){if(this.step&&u.step&&!u.selection){let l=u.step.merge(this.step);if(l)return new S0(l.getMap().invert(),l,this.selection)}}}class a0{constructor(u,l,z,Q,U){this.done=u,this.undone=l,this.prevRanges=z,this.prevTime=Q,this.prevComposition=U}}var fP=20;function $P(u,l,z,Q){let U=z.getMeta(Yl),X;if(U)return U.historyState;if(z.getMeta(wP))u=new a0(u.done,u.undone,null,0,-1);let V=z.getMeta("appendedTransaction");if(z.steps.length==0)return u;else if(V&&V.getMeta(Yl))if(V.getMeta(Yl).redo)return new a0(u.done.addTransform(z,void 0,Q,S8(l)),u.undone,bY(z.mapping.maps),u.prevTime,u.prevComposition);else return new a0(u.done,u.undone.addTransform(z,void 0,Q,S8(l)),null,u.prevTime,u.prevComposition);else if(z.getMeta("addToHistory")!==!1&&!(V&&V.getMeta("addToHistory")===!1)){let Z=z.getMeta("composition"),Y=u.prevTime==0||!V&&u.prevComposition!=Z&&(u.prevTime<(z.time||0)-Q.newGroupDelay||!xP(z,u.prevRanges)),W=V?M9(u.prevRanges,z.mapping):bY(z.mapping.maps);return new a0(u.done.addTransform(z,Y?l.selection.getBookmark():void 0,Q,S8(l)),E0.empty,W,z.time,Z==null?u.prevComposition:Z)}else if(X=z.getMeta("rebased"))return new a0(u.done.rebased(z,X),u.undone.rebased(z,X),M9(u.prevRanges,z.mapping),u.prevTime,u.prevComposition);else return new a0(u.done.addMaps(z.mapping.maps),u.undone.addMaps(z.mapping.maps),M9(u.prevRanges,z.mapping),u.prevTime,u.prevComposition)}function xP(u,l){if(!l)return!1;if(!u.docChanged)return!0;let z=!1;return u.mapping.maps[0].forEach((Q,U)=>{for(let X=0;X<l.length;X+=2)if(Q<=l[X+1]&&U>=l[X])z=!0}),z}function bY(u){let l=[];for(let z=u.length-1;z>=0&&l.length==0;z--)u[z].forEach((Q,U,X,V)=>l.push(X,V));return l}function M9(u,l){if(!u)return null;let z=[];for(let Q=0;Q<u.length;Q+=2){let U=l.map(u[Q],1),X=l.map(u[Q+1],-1);if(U<=X)z.push(U,X)}return z}function gP(u,l,z){let Q=S8(l),U=Yl.get(l).spec.config,X=(z?u.undone:u.done).popEvent(l,Q);if(!X)return null;let V=X.selection.resolve(X.transform.doc),Z=(z?u.done:u.undone).addTransform(X.transform,l.selection.getBookmark(),U,Q),Y=new a0(z?Z:X.remaining,z?X.remaining:Z,null,0,-1);return X.transform.setSelection(V).setMeta(Yl,{redo:z,historyState:Y})}var T9=!1,cY=null;function S8(u){let l=u.plugins;if(cY!=l){T9=!1,cY=l;for(let z=0;z<l.length;z++)if(l[z].spec.historyPreserveItems){T9=!0;break}}return T9}var Yl=new Nu("history"),wP=new Nu("closeHistory");function mY(u={}){return u={depth:u.depth||100,newGroupDelay:u.newGroupDelay||500},new s({key:Yl,state:{init(){return new a0(E0.empty,E0.empty,null,0,-1)},apply(l,z,Q){return $P(z,Q,l,u)}},config:u,props:{handleDOMEvents:{beforeinput(l,z){let Q=z.inputType,U=Q=="historyUndo"?D9:Q=="historyRedo"?S9:null;if(!U)return!1;return z.preventDefault(),U(l.state,l.dispatch)}}}})}function k8(u,l){return(z,Q)=>{let U=Yl.getState(z);if(!U||(u?U.undone:U.done).eventCount==0)return!1;if(Q){let X=gP(U,z,u);if(X)Q(l?X.scrollIntoView():X)}return!0}}var D9=k8(!1,!0),S9=k8(!0,!0),nC=k8(!1,!1),iC=k8(!0,!1);var nY=Uu.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:u,dispatch:l})=>{return D9(u,l)},redo:()=>({state:u,dispatch:l})=>{return S9(u,l)}}},addProseMirrorPlugins(){return[mY(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}});var iY=n.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:u}){return["hr",h(this.options.HTMLAttributes,u)]},addCommands(){return{setHorizontalRule:()=>({chain:u,state:l})=>{if(!GY(l,l.schema.nodes[this.name]))return!1;let{selection:z}=l,{$from:Q,$to:U}=z,X=u();if(Q.parentOffset===0)X.insertContentAt({from:Math.max(Q.pos-1,0),to:U.pos},{type:this.name});else if(_Y(z))X.insertContentAt(U.pos,{type:this.name});else X.insertContent({type:this.name});return X.command(({tr:V,dispatch:Z})=>{var Y;if(Z){let{$to:W}=V.selection,L=W.end();if(W.nodeAfter)if(W.nodeAfter.isTextblock)V.setSelection(D.create(V.doc,W.pos+1));else if(W.nodeAfter.isBlock)V.setSelection(T.create(V.doc,W.pos));else V.setSelection(D.create(V.doc,W.pos));else{let H=(Y=W.parent.type.contentMatch.defaultType)===null||Y===void 0?void 0:Y.create();if(H)V.insert(L,H),V.setSelection(D.create(V.doc,L+1))}V.scrollIntoView()}return!0}).run()}}},addInputRules(){return[KY({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}});var vP=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,hP=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,bP=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,cP=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,rY=Z0.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:(u)=>u.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:(u)=>u.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:u}){return["em",h(this.options.HTMLAttributes,u),0]},addCommands(){return{setItalic:()=>({commands:u})=>{return u.setMark(this.name)},toggleItalic:()=>({commands:u})=>{return u.toggleMark(this.name)},unsetItalic:()=>({commands:u})=>{return u.unsetMark(this.name)}}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[T0({find:vP,type:this.type}),T0({find:bP,type:this.type})]},addPasteRules(){return[D0({find:hP,type:this.type}),D0({find:cP,type:this.type})]}});var pY=n.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:u}){return["li",h(this.options.HTMLAttributes,u),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}});var mP="listItem",dY="textStyle",aY=/^(\d+)\.\s$/,sY=n.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:(u)=>{return u.hasAttribute("start")?parseInt(u.getAttribute("start")||"",10):1}},type:{default:null,parseHTML:(u)=>u.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:u}){let{start:l,...z}=u;return l===1?["ol",h(this.options.HTMLAttributes,z),0]:["ol",h(this.options.HTMLAttributes,u),0]},addCommands(){return{toggleOrderedList:()=>({commands:u,chain:l})=>{if(this.options.keepAttributes)return l().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(mP,this.editor.getAttributes(dY)).run();return u.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let u=T1({find:aY,type:this.type,getAttributes:(l)=>({start:+l[1]}),joinPredicate:(l,z)=>z.childCount+z.attrs.start===+l[1]});if(this.options.keepMarks||this.options.keepAttributes)u=T1({find:aY,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:(l)=>({start:+l[1],...this.editor.getAttributes(dY)}),joinPredicate:(l,z)=>z.childCount+z.attrs.start===+l[1],editor:this.editor});return[u]}});var oY=n.create({name:"paragraph",priority:1000,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:u}){return["p",h(this.options.HTMLAttributes,u),0]},addCommands(){return{setParagraph:()=>({commands:u})=>{return u.setNode(this.name)}}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}});var nP=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,iP=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,tY=Z0.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:(u)=>u.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:u}){return["s",h(this.options.HTMLAttributes,u),0]},addCommands(){return{setStrike:()=>({commands:u})=>{return u.setMark(this.name)},toggleStrike:()=>({commands:u})=>{return u.toggleMark(this.name)},unsetStrike:()=>({commands:u})=>{return u.unsetMark(this.name)}}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[T0({find:nP,type:this.type})]},addPasteRules(){return[D0({find:iP,type:this.type})]}});var eY=n.create({name:"text",group:"inline"});var uW=Uu.create({name:"starterKit",addExtensions(){let u=[];if(this.options.bold!==!1)u.push(NY.configure(this.options.bold));if(this.options.blockquote!==!1)u.push(RY.configure(this.options.blockquote));if(this.options.bulletList!==!1)u.push(MY.configure(this.options.bulletList));if(this.options.code!==!1)u.push(TY.configure(this.options.code));if(this.options.codeBlock!==!1)u.push(DY.configure(this.options.codeBlock));if(this.options.document!==!1)u.push(SY.configure(this.options.document));if(this.options.dropcursor!==!1)u.push($Y.configure(this.options.dropcursor));if(this.options.gapcursor!==!1)u.push(gY.configure(this.options.gapcursor));if(this.options.hardBreak!==!1)u.push(wY.configure(this.options.hardBreak));if(this.options.heading!==!1)u.push(vY.configure(this.options.heading));if(this.options.history!==!1)u.push(nY.configure(this.options.history));if(this.options.horizontalRule!==!1)u.push(iY.configure(this.options.horizontalRule));if(this.options.italic!==!1)u.push(rY.configure(this.options.italic));if(this.options.listItem!==!1)u.push(pY.configure(this.options.listItem));if(this.options.orderedList!==!1)u.push(sY.configure(this.options.orderedList));if(this.options.paragraph!==!1)u.push(oY.configure(this.options.paragraph));if(this.options.strike!==!1)u.push(tY.configure(this.options.strike));if(this.options.text!==!1)u.push(eY.configure(this.options.text));return u}});var lW=Uu.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new s({key:new Nu("placeholder"),props:{decorations:({doc:u,selection:l})=>{let z=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:Q}=l,U=[];if(!z)return null;let X=this.editor.isEmpty;return u.descendants((V,Z)=>{let Y=Q>=Z&&Q<=Z+V.nodeSize,W=!V.isLeaf&&y3(V);if((Y||!this.options.showOnlyCurrent)&&W){let L=[this.options.emptyNodeClass];if(X)L.push(this.options.emptyEditorClass);let H=ku.node(Z,Z+V.nodeSize,{class:L.join(" "),"data-placeholder":typeof this.options.placeholder==="function"?this.options.placeholder({editor:this.editor,node:V,pos:Z,hasAnchor:Y}):this.options.placeholder});U.push(H)}return this.options.includeChildren}),uu.create(u,U)}}})]}});var zW=s0(X2(),1),rP=Symbol.for("react.element");var pP=Object.prototype.hasOwnProperty,dP=zW.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aP={key:!0,ref:!0,__self:!0,__source:!0};function QW(u,l,z){var Q,U={},X=null,V=null;z!==void 0&&(X=""+z),l.key!==void 0&&(X=""+l.key),l.ref!==void 0&&(V=l.ref);for(Q in l)pP.call(l,Q)&&!aP.hasOwnProperty(Q)&&(U[Q]=l[Q]);if(u&&u.defaultProps)for(Q in l=u.defaultProps,l)U[Q]===void 0&&(U[Q]=l[Q]);return{$$typeof:rP,type:u,key:X,ref:V,props:U,_owner:dP.current}}var Cu=QW,D1=QW;var sP=()=>{let u=yY({extensions:[uW,lW.configure({placeholder:"Start editing your clinical review..."})],content:`
      <h2>Clinical Review Template</h2>
      <p>Use this editor to review and edit LLM-generated clinical summaries.</p>
      <p>Key features:</p>
      <ul>
        <li>Rich text editing with formatting</li>
        <li>Real-time diff computation</li>
        <li>Label classification system</li>
        <li>Export functionality</li>
      </ul>
    `,editorProps:{attributes:{class:"prose prose-sm sm:prose lg:prose-lg xl:prose-2xl mx-auto focus:outline-none min-h-[400px] p-4 border border-gray-300 rounded-lg"}}});return D1("div",{className:"tiptap-editor",children:[D1("div",{className:"editor-toolbar",children:[Cu("button",{onClick:()=>u?.chain().focus().toggleBold().run(),className:u?.isActive("bold")?"is-active":"",disabled:!u?.can().chain().focus().toggleBold().run(),children:"Bold"}),Cu("button",{onClick:()=>u?.chain().focus().toggleItalic().run(),className:u?.isActive("italic")?"is-active":"",disabled:!u?.can().chain().focus().toggleItalic().run(),children:"Italic"}),Cu("button",{onClick:()=>u?.chain().focus().toggleStrike().run(),className:u?.isActive("strike")?"is-active":"",disabled:!u?.can().chain().focus().toggleStrike().run(),children:"Strike"}),Cu("button",{onClick:()=>u?.chain().focus().toggleHeading({level:2}).run(),className:u?.isActive("heading",{level:2})?"is-active":"",children:"H2"}),Cu("button",{onClick:()=>u?.chain().focus().toggleBulletList().run(),className:u?.isActive("bulletList")?"is-active":"",children:"Bullet List"})]}),Cu(IY,{editor:u})]})},UW=sP;function oP(){return D1("div",{className:"app",children:[D1("header",{className:"app-header",children:[Cu("h1",{children:"Watson - Clinical LLM Review Tool"}),Cu("p",{children:"Review and curate LLM outputs for clinical applications"})]}),Cu("main",{className:"app-main",children:D1("div",{className:"editor-container",children:[Cu("h2",{children:"Rich Text Editor"}),Cu(UW,{})]})})]})}var XW=oP;var YW=document.getElementById("root");if(!YW)throw new Error("Root element not found");var tP=ZW.createRoot(YW);tP.render(Cu(VW.default.StrictMode,{children:Cu(XW,{})}));
